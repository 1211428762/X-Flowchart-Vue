(function(e){function t(t){for(var n,r,s=t[0],l=t[1],c=t[2],u=0,h=[];u<s.length;u++)r=s[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&h.push(a[r][0]),a[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);d&&d(t);while(h.length)h.shift()();return o.push.apply(o,c||[]),i()}function i(){for(var e,t=0;t<o.length;t++){for(var i=o[t],n=!0,s=1;s<i.length;s++){var l=i[s];0!==a[l]&&(n=!1)}n&&(o.splice(t--,1),e=r(r.s=i[0]))}return e}var n={},a={app:0},o=[];function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=n,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/X-Flowchart-Vue/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=l;o.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"00b1":function(e,t,i){var n=i("3536"),a=i("333c"),o={"drag-canvas":i("4aff"),"zoom-canvas":i("bd21"),"drag-node":i("f65c"),"click-select":i("4d91"),tooltip:i("7cea"),"edge-tooltip":i("bac4"),"collapse-expand":i("6113"),"activate-relations":i("bbe8"),"brush-select":i("5232")};n.each(o,function(e,t){a.registerBehavior(t,e)}),e.exports=a},"0596":function(e,t,i){var n=i("fc74"),a=i("59a1"),o=i("3536"),r=["click","mousedown","mouseup","dblclick","contextmenu","mouseenter","mouseout","mouseover","mousemove","mouseleave","dragstart","dragend","drag","dragenter","dragleave","drop"];function s(e){while(e&&!e.get("item"))e=e.get("parent");return e}var l=[1,0,0,0,1,0,0,0,1],c=9;function d(e){for(var t=0;t<c;t++)if(e[t]!==l[t])return!0;return!1}var u=function(){"use strict";function e(t){n(this,e),this.graph=t,this.extendEvents=[],this._initEvents()}return a(e,[{key:"_initEvents",value:function(){var e=this,t=e.graph,i=t.get("canvas"),n=i.get("el"),a=e.extendEvents,s=o.wrapBehavior(e,"_onCanvasEvents"),l=o.wrapBehavior(e,"_onExtendEvents"),c=o.wrapBehavior(e,"_onWheelEvent");o.each(r,function(e){i.on(e,s)}),this.canvasHandler=s,a.push(o.addEventListener(n,"DOMMouseScroll",c)),a.push(o.addEventListener(n,"mousewheel",c)),window&&a.push(o.addEventListener(window,"keydown",l)),window&&a.push(o.addEventListener(window,"keyup",l))}},{key:"_onCanvasEvents",value:function(e){var t=this,i=t.graph,n=i.get("canvas"),a=n.get("pixelRatio"),o=e.target,r=e.type;e.canvasX=e.x/a,e.canvasY=e.y/a;var l={x:e.canvasX,y:e.canvasY};if(d(i.get("group").getMatrix())&&(l=i.getPointByCanvas(e.canvasX,e.canvasY)),e.x=l.x,e.y=l.y,e.currentTarget=i,o===n)return"mousemove"===r&&t._handleMouseMove(e,"canvas"),e.target=n,e.item=null,i.emit(r,e),void i.emit("canvas:"+r,e);var c=s(o);if(c){var u=c.get("item");if(!u.destroyed){var h=u.getType();e.target=o,e.item=u,i.emit(r,e),"mouseenter"!==r&&"mouseleave"!==r&&"dragenter"!==r&&"dragleave"!==r&&(i.emit(h+":"+r,e),"dragstart"===r&&(t.dragging=!0),"dragend"===r&&(t.dragging=!1),"mousemove"===r&&t._handleMouseMove(e,h))}}else i.emit(r,e)}},{key:"_onExtendEvents",value:function(e){this.graph.emit(e.type,e)}},{key:"_onWheelEvent",value:function(e){o.isNil(e.wheelDelta)&&(e.wheelDelta=-e.detail),this.graph.emit("wheel",e)}},{key:"_handleMouseMove",value:function(e,t){var i=this,n=this.graph.get("canvas"),a=e.target===n?null:e.item,r=this.preItem;e=o.cloneEvent(e),r&&r!==a&&!r.destroyed&&(e.item=r,i._emitCustomEvent(r.getType(),"mouseleave",e),i.dragging&&i._emitCustomEvent(r.getType(),"dragleave",e)),a&&r!==a&&(e.item=a,i._emitCustomEvent(t,"mouseenter",e),i.dragging&&i._emitCustomEvent(t,"dragenter",e)),this.preItem=a}},{key:"_emitCustomEvent",value:function(e,t,i){i.type=t,this.graph.emit(e+":"+t,i)}},{key:"destroy",value:function(){var e=this.graph,t=this.canvasHandler,i=e.get("canvas");o.each(r,function(e){i.off(e,t)}),o.each(this.extendEvents,function(e){e.remove()})}}]),e}();e.exports=u},"0ca0":function(e,t,i){"use strict";var n=i("316b"),a=i.n(n);a.a},1531:function(e,t,i){var n=i("bed1"),a=i("3536"),o=i("9cac"),r=i("84b1"),s="edge-shape";function l(e){var t=e;return"start"===e?t="end":"end"===e&&(t="start"),t}n.registerFactory("edge",{defaultShapeType:"line"});var c=a.mix({},r,{itemType:"edge",labelPosition:"center",labelAutoRotate:!1,getPath:function(e){var t=[];return a.each(e,function(e,i){0===i?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])}),t},getShapeStyle:function(e){var t=e.color||o.defaultEdge.color,i=e.size||o.defaultEdge.size;e=this.getPathPoints(e);var n=e.startPoint,r=e.endPoint,s=this.getControlPoints(e),l=[n];s&&(l=l.concat(s)),l.push(r);var c=this.getPath(l),d=a.mix({},o.defaultEdge.style,{stroke:t,lineWidth:i,path:c},e.style);return d},getLabelStyleByPosition:function(e,t,i){var n,o=t.position||this.labelPosition,r={},l=i.findByClassName(s);n="start"===o?0:"end"===o?1:.5;var c=t.refX,d=t.refY;if(e.startPoint.x===e.endPoint.x&&e.startPoint.y===e.endPoint.y)return r.x=e.startPoint.x+c?c:0,r.y=e.endPoint.y+d?d:0,r;var u=a.isNil(t.autoRotate)?this.labelAutoRotate:t.autoRotate,h=a.getLabelPosition(l,n,c,d,u);return r.x=h.x,r.y=h.y,r.rotate=h.rotate,r.textAlign=this._getTextAlign(o,h.angle),r},_getTextAlign:function(e,t){var i="center";return t?(t%=2*Math.PI,"center"!==e&&(i=t>=0&&t<=Math.PI/2||t>=1.5*Math.PI&&t<2*Math.PI?e:l(e)),i):e},getControlPoints:function(e){return e.controlPoints},getPathPoints:function(e){return e},drawShape:function(e,t){var i=this.getShapeStyle(e),n=t.addShape("path",{className:s,attrs:i});return n}});n.registerEdge("single-line",c),n.registerEdge("line",{getControlPoints:function(){return[]}},"single-line"),n.registerEdge("polyline",{},"single-line"),n.registerEdge("spline",{getPath:function(e){var t=a.getSpline(e);return t}},"single-line"),n.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(e){var t=e.controlPoints;if(!t||!t.length){var i=e.startPoint,n=e.endPoint,o=a.getControlPoint(i,n,this.curvePosition,this.curveOffset);t=[o]}return t},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),t.push(["Q",e[1].x,e[1].y,e[2].x,e[2].y]),t}},"single-line"),n.registerEdge("cubic",{curvePosition:[.5,.5],curveOffset:[-20,20],getControlPoints:function(e){var t=e.controlPoints;if(!t||!t.length){var i=e.startPoint,n=e.endPoint,o=a.getControlPoint(i,n,this.curvePosition[0],this.curveOffset[0]),r=a.getControlPoint(i,n,this.curvePosition[1],this.curveOffset[1]);t=[o,r]}return t},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),t.push(["C",e[1].x,e[1].y,e[2].x,e[2].y,e[3].x,e[3].y]),t}},"single-line"),n.registerEdge("cubic-vertical",{curvePosition:[.5,.5],getControlPoints:function(e){var t=e.startPoint,i=e.endPoint,n={x:t.x,y:(i.y-t.y)*this.curvePosition[0]+t.y},a={x:i.x,y:(i.y-t.y)*this.curvePosition[1]+t.y},o=[n,a];return o}},"cubic"),n.registerEdge("cubic-horizontal",{curvePosition:[.5,.5],getControlPoints:function(e){var t=e.startPoint,i=e.endPoint,n={x:(i.x-t.x)*this.curvePosition[0]+t.x,y:t.y},a={x:(i.x-t.x)*this.curvePosition[1]+t.x,y:i.y},o=[n,a];return o}},"cubic"),n.registerEdge("loop",{getPathPoints:function(e){return a.getLoopCfgs(e)},getControlPoints:function(e){return e.controlPoints},afterDraw:function(e){e.controlPoints=null},afterUpdate:function(e){e.controlPoints=null}},"cubic")},"15da":function(e,t,i){var n=i("9f57"),a={deepMix:i("1b95"),mix:i("503e"),debounce:i("6023"),each:i("72fb"),throttle:i("da0a"),mat3:i("6dcf"),vec2:i("830e"),vec3:i("f98b"),transform:i("3b54"),clone:i("e0ef"),upperFirst:i("dd6d"),isNil:i("e6d6"),isArray:i("3a21"),createDom:i("158c"),modifyCSS:i("758e"),isObject:i("d285"),isPlainObject:i("7bf3"),isNumber:i("5d9e"),isString:i("3421"),uniqueId:i("339d"),addEventListener:i("0e15"),wrapBehavior:i("14c8"),extend:i("26bf"),augment:i("8d88"),remove:i("4edf"),formatPadding:function(e){var t=0,i=0,n=0,o=0;return a.isNumber(e)||a.isString(e)?t=i=n=o=e:a.isArray(e)&&(t=e[0],n=a.isNil(e[1])?e[0]:e[1],o=a.isNil(e[2])?e[0]:e[2],i=a.isNil(e[3])?n:e[3]),[t,n,o,i]},cloneEvent:function(e){var t=new n(e.type,e,!0,!0);return t.clientX=e.clientX,t.clientY=e.clientY,t.x=e.x,t.y=e.y,t.target=e.target,t.currentTarget=e.currentTarget,t.item=e.item,t}};e.exports=a},"169f":function(e,t,i){i("7514");var n=i("3536"),a=i("b0b3").Group;e.exports=n.augment(a,{findByClassName:function(e){return this.find(function(t){return t.get("className")===e})}})},"1aa9":function(e,t,i){i("ac6a");var n=i("fc74"),a=i("59a1"),o=i("6430"),r=i("ffe3"),s=i("2a12"),l=i("37d9"),c=i("0519"),d=i("3536"),u=i("e339");function h(e,t){var i=-1;return d.each(e,function(e,n){if(t.id===e.id)return i=n,!1}),i}var g=function(e){"use strict";function t(e){var i;return n(this,t),i=o(this,r(t).call(this,e)),i.set("removeList",[]),i.set("layoutMethod",i._getLayout()),i}return l(t,e),a(t,[{key:"getDefaultCfg",value:function(){var e=s(r(t.prototype),"getDefaultCfg",this).call(this);return e.animate=!0,e}},{key:"render",value:function(){var e=this,t=e.get("data");if(!t)throw new Error("data must be defined first");e.clear(),e.emit("beforerender"),e.refreshLayout(this.get("fitView")),e.emit("afterrender")}},{key:"addChild",value:function(e,t){var i=this;d.isString(t)||(t=t.get("id"));var n=i.findDataById(t);n.children||(n.children=[]),n.children.push(e),i.changeData()}},{key:"_addChild",value:function(e,t,i){var n=this,a=e.data;a.x=e.x,a.y=e.y,a.depth=e.depth;var o=n.addItem("node",a);if(t){if(o.set("parent",t),i){var r=t.get("origin");if(r)o.set("origin",r);else{var s=t.getModel();o.set("origin",{x:s.x,y:s.y})}}var l=t.get("children");l?l.push(o):t.set("children",[o]),n.addItem("edge",{source:t,target:o,id:t.get("id")+":"+o.get("id")})}return d.each(e.children,function(e){n._addChild(e,o,i)}),o}},{key:"changeData",value:function(e){var t=this;e?(t.data(e),t.render()):t.refreshLayout(this.get("fitView"))}},{key:"updateChild",value:function(e,t){var i=this;if(t){var n=i.findById(t).getModel(),a=i.findById(e.id);if(a){var o=h(n.children,e);n.children[o]=e}else n.children?n.children.push(e):n.children=[a];i.changeData()}else i.changeData(e)}},{key:"_updateChild",value:function(e,t,i){var n=this,a=n.findById(e.id);if(a){d.each(e.children,function(e){n._updateChild(e,a,i)});var o=a.get("children");if(o){var r=o.length;if(r>0)for(var s,l=o.length-1;l>=0;l--)s=o[l].getModel(),-1===h(e.children,s)&&(n._removeChild(s.id,{x:e.x,y:e.y},i),o.splice(l,1))}var c=a.getModel();i&&a.set("origin",{x:c.x,y:c.y}),a.set("model",e.data),a.updatePosition({x:e.x,y:e.y})}else n._addChild(e,t,i)}},{key:"removeChild",value:function(e){var t=this,i=t.findById(e);if(i){var n=i.get("parent");if(n&&!n.destroyed){var a=t.findDataById(n.get("id")).children,o=h(a,i.getModel());a.splice(o,1)}t.changeData()}}},{key:"_removeChild",value:function(e,t,i){var n=this,a=n.findById(e);if(a)if(d.each(a.get("children"),function(e){n._removeChild(e.getModel().id,t,i)}),i){var o=a.getModel();a.set("to",t),a.set("origin",{x:o.x,y:o.y}),n.get("removeList").push(a)}else n.removeItem(a)}},{key:"save",value:function(){return this.get("data")}},{key:"findDataById",value:function(e,t){var i=this;if(t||(t=i.get("data")),e===t.id)return t;var n=null;return d.each(t.children,function(t){return t.id===e?(n=t,!1):(n=i.findDataById(e,t),!n&&void 0)}),n}},{key:"changeLayout",value:function(e){var t=this;e?(t.set("layout",e),t.set("layoutMethod",t._getLayout()),t.refreshLayout()):console.warn("layout cannot be null")}},{key:"refreshLayout",value:function(e){var t=this,i=t.get("data"),n=t.get("layoutMethod")(i,t.get("layout")),a=t.get("animate"),o=t.get("autoPaint");t.emit("beforerefreshlayout",{data:i,layoutData:n}),t.setAutoPaint(!1),t._updateChild(n,null,a),e&&t.get("viewController")._fitView(),a?t.layoutAnimate(n,null):(t.refresh(),t.paint()),t.setAutoPaint(o),t.emit("afterrefreshlayout",{data:i,layoutData:n})}},{key:"layoutAnimate",value:function(e,t){var i=this,n=this;this.setAutoPaint(!1);var a=this.get("animateCfg");n.emit("beforeanimate",{data:e}),n.getEdges().forEach(function(e){var t=e.get("model");t.sourceAnchor||(t.sourceAnchor=e.get("sourceAnchorIndex"))}),this.get("canvas").animate({onFrame:function(i){d.traverseTree(e,function(a){var o=n.findById(a.id),r=o.get("origin"),s=o.get("model");if(r||(r={x:s.x,y:s.y},o.set("origin",r)),t){var l=t(o,i,r,e);o.set("model",d.mix(s,l))}else s.x=r.x+(a.x-r.x)*i,s.y=r.y+(a.y-r.y)*i}),d.each(n.get("removeList"),function(e){var t=e.getModel(),n=e.get("origin"),a=e.get("to");t.x=n.x+(a.x-n.x)*i,t.y=n.y+(a.y-n.y)*i}),n.refreshPositions()}},a.duration,a.ease,function(){d.each(n.getNodes(),function(e){e.set("origin",null)}),d.each(n.get("removeList"),function(e){n.removeItem(e)}),n.set("removeList",[]),a.callback&&a.callback(),n.paint(),i.setAutoPaint(!0),n.emit("afteranimate",{data:e})},a.delay)}},{key:"stopLayoutAnimate",value:function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1}},{key:"isLayoutAnimating",value:function(){return this.layoutAnimating}},{key:"_getLayout",value:function(){var e=this.get("layout");return e?"function"===typeof e?e:(e.type||(e.type="dendrogram"),e.direction||(e.direction="TB"),e.radial?function(t){var i=c[e.type](t,e);return d.radialLayout(i),i}:function(t){return c[e.type](t,e)}):null}}]),t}(u);e.exports=g},"224c":function(e,t,i){},"28fd":function(e,t,i){"use strict";var n=i("7d75"),a=i.n(n);a.a},"29de":function(e,t,i){var n=i("bed1"),a=i("3536"),o=i("9cac"),r=i("84b1");n.registerFactory("node",{defaultShapeType:"circle"});var s=a.mix({},r,{itemType:"node",shapeType:"",labelPosition:"center",getSize:function(e){var t=e.size||o.defaultNode.size;return a.isArray(t)||(t=[t,t]),t},getLabelStyleByPosition:function(e,t){var i=t.position||this.labelPosition;if("center"===i)return{x:0,y:0};var n,r=this.getSize(e),s=r[0],l=r[1],c=t.offset;switch(a.isNil(c)&&(c=o.nodeLabel.offset),i){case"top":n={x:0,y:0-l/2-c,textBaseline:"bottom"};break;case"bottom":n={x:0,y:l/2+c,textBaseline:"top"};break;case"left":n={x:0-s/2-c,y:0,textAlign:"right"};break;default:n={x:s/2+c,y:0,textAlign:"left"};break}return n},drawShape:function(e,t){var i=this.shapeType,n=this.getShapeStyle(e),a=t.addShape(i,{attrs:n});return a}});n.registerNode("single-shape",s),n.registerNode("circle",{shapeType:"circle",getShapeStyle:function(e){var t=this.getSize(e),i=e.color||o.defaultNode.color,n=a.mix({},{x:0,y:0,r:t[0]/2,stroke:i},o.defaultNode.style,e.style);return n}},"single-shape"),n.registerNode("ellipse",{shapeType:"ellipse",getShapeStyle:function(e){var t=this.getSize(e),i=t[0]/2,n=t[1]/2,r=e.color||o.defaultNode.color,s=a.mix({},{x:0,y:0,rx:i,ry:n,stroke:r},o.defaultNode.style,e.style);return s}},"single-shape"),n.registerNode("rect",{shapeType:"rect",getShapeStyle:function(e){var t=this.getSize(e),i=t[0],n=t[1],r=e.color||o.defaultNode.color,s=a.mix({},o.defaultNode.style,{x:0-i/2,y:0-n/2,width:i,height:n,stroke:r},e.style);return s}},"single-shape"),n.registerNode("image",{shapeType:"image",labelPosition:"bottom",getShapeStyle:function(e){var t=this.getSize(e),i=e.img,n=t[0],o=t[1],r=a.mix({},{x:0-n/2,y:0-o/2,width:n,height:o,img:i},e.style);return r}},"single-shape")},"316b":function(e,t,i){},"333c":function(e,t,i){var n=i("3536"),a={registerBehavior:function(e,t){if(!t)throw new Error("please specify handler for this behavior:"+e);var i=function(e){var t=this;n.mix(t,t.getDefaultCfg(),e);var i=t.getEvents();if(i){var a={};n.each(i,function(e,i){a[i]=n.wrapBehavior(t,e)}),this._events=a}};n.augment(i,{shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},getEvents:function(){},bind:function(e){var t=this._events;this.graph=e,n.each(t,function(t,i){e.on(i,t)})},unbind:function(e){var t=this._events;n.each(t,function(t,i){e.off(i,t)})},get:function(e){return this[e]},set:function(e,t){return this[e]=t,this},getDefaultCfg:function(){}},t),a[e]=i},hasBehavior:function(e){return!!a[e]},getBehavior:function(e){return a[e]}};e.exports=a},3536:function(e,t,i){var n={},a=i("4de6"),o=i("47e5"),r=i("15da"),s=i("8b64");r.deepMix(n,r,s,o,a),e.exports=n},3725:function(e,t,i){"use strict";var n=i("5714"),a=i.n(n);a.a},"3b61":function(e,t,i){},"3dfd":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("Editor")},a=[],o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"materials-editor"},[i("ToolBar"),i("Sketchpad"),i("PanelLeft"),i("PanelRight")],1)},r=[],s=(i("8e6e"),i("456d"),i("6762"),i("2fdb"),i("7f7f"),i("ac6a"),i("bd86")),l=i("2f62"),c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tool-bar",style:e.toolBarStyle},[i("Handler",{staticClass:"handler",attrs:{mode:"horizontal",position:"bottom",expand:e.isExpand,callback:e.toggleHandler}}),e._l(Object.keys(e.toolMap),function(t,n){return[i("ToolBox",{key:n,class:t},[e._l(e.toolMap[t].filter(function(e){return e.enable}),function(n,a){return["text"===n.type?i("ToolItem",{key:"tool_"+t+"_item_"+a,attrs:{title:e.$t(n.lang),active:n.active,disabled:n.disabled},nativeOn:{click:function(i){return e.handleToolClick(n,t)}},scopedSlots:e._u([{key:"label",fn:function(){return[n.icon?i("XIcon",{attrs:{type:n.icon}}):i("span",[e._v(e._s(e.$t(n.lang)))])]},proxy:!0}],null,!0)}):e._e(),"dropdown-color-picker"===n.type?i("ToolItem",{key:"tool_"+t+"_item_"+a,attrs:{title:e.$t(n.lang),active:n.active,disabled:n.disabled},scopedSlots:e._u([{key:"label",fn:function(){return[n.disabled?[i("div",{staticStyle:{margin:"0 3px"}},[i("XIcon",{staticStyle:{"vertical-align":"middle"},attrs:{type:n.icon}}),i("Icon",{attrs:{type:"ios-arrow-down"}})],1)]:[i("Dropdown",{attrs:{trigger:"click"},on:{"on-click":function(i){return e.handleDropdownClick(n,t,i)}}},[i("div",{staticStyle:{margin:"0 3px"}},[i("XIcon",{staticStyle:{"vertical-align":"middle"},attrs:{type:n.icon}}),i("Icon",{attrs:{type:"ios-arrow-down"}})],1),i("SketchPicker",{attrs:{slot:"list",value:e.formData[n.name]},on:{input:function(i){return e.handleToolClick(n,t,i)}},slot:"list"})],1)]]},proxy:!0}],null,!0)}):e._e(),"dropdown-list"===n.type?i("ToolItem",{key:"tool_"+t+"_item_"+a,attrs:{title:e.$t(n.lang),active:n.active,disabled:n.disabled},scopedSlots:e._u([{key:"label",fn:function(){return[n.disabled?[i("div",{staticStyle:{margin:"0 3px"}},[i("XIcon",{staticStyle:{"vertical-align":"middle"},style:n.children[n.selected].style,attrs:{type:n.children[n.selected].icon}}),i("Icon",{attrs:{type:"ios-arrow-down"}})],1)]:[i("Dropdown",{attrs:{trigger:"click"},on:{"on-click":function(i){return e.handleDropdownClick(n,t,i)}}},[i("div",{staticStyle:{margin:"0 3px"}},[i("XIcon",{staticStyle:{"vertical-align":"middle"},style:n.children[n.selected].style,attrs:{type:n.children[n.selected].icon||n.icon}}),i("Icon",{attrs:{type:"ios-arrow-down"}})],1),i("DropdownMenu",{attrs:{slot:"list"},slot:"list"},e._l(n.children,function(t,a){return i("DropdownItem",{key:a,attrs:{name:a,disabled:t.disabled,divided:t.divided,selected:n.selected===a}},[t.icon?[i("XIcon",{style:t.style,attrs:{type:t.icon,title:e.$t(t.lang)}})]:[i("span",[e._v(e._s(t.lang?e.$t(t.lang):t.label))])]],2)}),1)],1)]]},proxy:!0}],null,!0)}):e._e(),"link"===n.type?i("ToolItem",{key:"tool_"+t+"_item_"+a,attrs:{title:e.$t(n.lang),active:n.active,disabled:n.disabled},nativeOn:{click:function(i){return e.handleToolClick(n,t)}},scopedSlots:e._u([{key:"label",fn:function(){return[i("a",{staticStyle:{color:"#333333"},attrs:{href:n.link,target:"_blank"}},[n.icon?i("XIcon",{attrs:{type:n.icon}}):i("span",[e._v(e._s(e.$t(n.lang)))])],1)]},proxy:!0}],null,!0)}):e._e(),"normal"===n.type?i("ToolItem",{key:"tool_"+t+"_item_"+a,attrs:{title:e.$t(n.lang),active:n.active,disabled:n.disabled},nativeOn:{click:function(i){return e.handleToolClick(n,t)}},scopedSlots:e._u([{key:"label",fn:function(){return[n.icon?i("XIcon",{attrs:{type:n.icon}}):i("span",[e._v(e._s(e.$t(n.lang)))])]},proxy:!0}],null,!0)}):e._e(),n.divider?i("Divider",{key:"tool_"+t+"_divider_"+a,staticStyle:{height:"100%"},attrs:{type:"vertical"}}):e._e()]})],2)]})],2)},d=[],u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.className,on:{click:e.toggleHandler}})},h=[],g={name:"Handler",props:{mode:{type:String,validator:function(e){return["horizontal","vertical"].includes(e)},default:"vertical"},position:{type:String,validator:function(e){return["top","right","bottom","left"].includes(e)},default:"right"},expand:{type:Boolean,default:!0},callback:{type:Function}},computed:{className:function(){var e=this;return["handler",e.mode,e.position,e.expand]}},methods:{toggleHandler:function(){var e=this;e.callback&&e.callback()}}},f=g,p=(i("0ca0"),i("2877")),v=Object(p["a"])(f,u,h,!1,null,"5f57e3c6",null),y=v.exports,m=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tool-box",on:{contextmenu:function(e){e.stopPropagation(),e.preventDefault()}}},[e._t("default")],2)},b=[],x={name:"Index",props:{tools:{type:Array}}},w=x,k=(i("c604"),Object(p["a"])(w,m,b,!1,null,"1de90dd1",null)),P=k.exports,C=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:{"tool-item":!0,active:e.active,disabled:e.disabled}},[e._t("label",[e._v(e._s(e.label))])],2)},O=[],S={name:"ToolItem",props:{label:String,active:Boolean,disabled:Boolean}},L=S,M=(i("ccee"),Object(p["a"])(L,C,O,!1,null,"d440f322",null)),I=M.exports,A={fill:"#FFFFFF",lineColor:"#000000",lineWidth:1,lineType:"x-line",lineStyle:"solid",startArrow:!1,endArrow:!1},E={controllers:[[0,0,"nwse-resize"],[0,1,"nesw-resize"],[1,0,"nesw-resize"],[1,1,"nwse-resize"]],rotate:!0},D=[{shape:"rectangle",label:"Rectangle",enable:!0,width:40,height:20,anchorPoints:[[.5,0],[.5,1],[0,.5],[1,.5]],shapeControl:E,icon:'<g><g></g><g><g transform="translate(0.5,0.5)" style="visibility: visible;"><rect x="1.44" y="7.68" width="28.8" height="14.4" fill="#ffffff" stroke="#000000" stroke-width="1.3" pointer-events="all"></rect></g></g><g></g><g></g></g>'},{shape:"rounded-rectangle",label:"Rounded Rectangle",enable:!0,width:40,height:40,anchorPoints:[[.5,0],[.5,1],[0,.5],[1,.5]],shapeControl:E,icon:'<g><g></g><g><g transform="translate(0.5,0.5)" style="visibility: visible;"><rect x="1.44" y="7.68" width="28.8" height="14.4" rx="2.16" ry="2.16" fill="#ffffff" stroke="#000000" stroke-width="1.3" pointer-events="all"></rect></g></g><g></g><g></g></g>'},{shape:"text",label:"Text",enable:!0,width:40,height:40,anchorPoints:[[.5,0],[.5,1],[0,.5],[1,.5]],shapeControl:E,icon:'<g><g></g><g><g transform="translate(0.5,0.5)" style="visibility: visible;"><rect x="0.73" y="7.3" width="29.2" height="14.6" fill="none" stroke="white" pointer-events="stroke" visibility="hidden" stroke-width="9"></rect><rect x="0.73" y="7.3" width="29.2" height="14.6" fill="none" stroke="none" pointer-events="all"></rect></g><g style=""><g transform="translate(7,10)scale(0.73)"><foreignObject style="overflow:visible;" pointer-events="all" width="22" height="12"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 24px; white-space: normal; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">Text</div></div></foreignObject></g></g></g><g></g><g></g></g>'},{shape:"textbox",label:"Textbox",enable:!0,width:40,height:40,anchorPoints:[[.5,0],[.5,1],[0,.5],[1,.5]],shapeControl:E,icon:'<g><g></g><g><g transform="translate(0.5,0.5)" style="visibility: visible;"><rect x="1.65" y="6.6" width="28.5" height="18" fill="none" stroke="white" pointer-events="stroke" visibility="hidden" stroke-width="9"></rect><rect x="1.65" y="6.6" width="28.5" height="18" fill="none" stroke="none" pointer-events="all"></rect></g><g style=""><g transform="translate(2,5)scale(0.15)"><foreignObject style="overflow:visible;" pointer-events="all" width="180" height="126"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; overflow: hidden; max-height: 130px; max-width: 180px; width: 181px; white-space: normal; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><h1>Heading</h1><p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p></div></div></foreignObject></g></g></g><g></g><g></g></g>'},{shape:"ellipse",label:"Ellipse",enable:!0,width:40,height:20,anchorPoints:[[.5,0],[.5,1],[0,.5],[1,.5]],shapeControl:E,icon:'<g><g></g><g><g transform="translate(0.5,0.5)" style="visibility: visible;"><ellipse cx="15.84" cy="14.88" rx="14.399999999999999" ry="9.6" fill="#ffffff" stroke="#000000" stroke-width="1.3" pointer-events="all"></ellipse></g></g><g></g><g></g></g>'},{shape:"square",label:"Square",enable:!0,width:40,height:40,anchorPoints:[[.5,0],[.5,1],[0,.5],[1,.5]],shapeControl:E,icon:'<g><g></g><g><g transform="translate(0.5,0.5)" style="visibility: visible;"><rect x="2.38" y="1.36" width="27.2" height="27.2" fill="#ffffff" stroke="#000000" stroke-width="1.3" pointer-events="all"></rect></g></g><g></g><g></g></g>'},{shape:"circle",label:"Circle",enable:!0,width:40,height:40,anchorPoints:[[.5,0],[.5,1],[0,.5],[1,.5]],shapeControl:E,icon:'<g><g></g><g><g transform="translate(0.5,0.5)" style="visibility: visible;"><ellipse cx="15.98" cy="14.96" rx="13.600000000000001" ry="13.600000000000001" fill="#ffffff" stroke="#000000" stroke-width="1.3" pointer-events="all"></ellipse></g></g><g></g><g></g></g>'},{shape:"process",label:"Process",enable:!0,width:40,height:40,anchorPoints:[[.5,0],[.5,1],[0,.5],[1,.5]],shapeControl:E,icon:'<g><g></g><g><g transform="translate(0.5,0.5)" style="visibility: visible;"><rect x="1.44" y="7.68" width="28.8" height="14.4" fill="#ffffff" stroke="#000000" stroke-width="1.3" pointer-events="all"></rect><path d="M 4.32 7.68 L 4.32 22.08 M 27.36 7.68 L 27.36 22.08" fill="none" stroke="white" stroke-width="9.3" stroke-miterlimit="10" pointer-events="stroke" visibility="hidden"></path><path d="M 4.32 7.68 L 4.32 22.08 M 27.36 7.68 L 27.36 22.08" fill="none" stroke="#000000" stroke-width="1.3" stroke-miterlimit="10" pointer-events="all"></path></g></g><g></g><g></g></g>'},{shape:"diamond",label:"Diamond",enable:!0,width:40,height:40,anchorPoints:[[.5,0],[.5,1],[0,.5],[1,.5]],shapeControl:E,icon:'<g><g></g><g><g transform="translate(0.5,0.5)" style="visibility: visible;"><path d="M 15.98 1.36 L 29.58 14.96 L 15.98 28.56 L 2.38 14.96 Z" fill="#ffffff" stroke="#000000" stroke-width="1.3" stroke-miterlimit="10" pointer-events="all"></path></g></g><g></g><g></g></g>'},{shape:"parallelogram",label:"Parallelogram",enable:!0,width:40,height:40,anchorPoints:[[.5,0],[.5,1],[0,.5],[1,.5]],shapeControl:E,icon:'<g><g></g><g><g transform="translate(0.5,0.5)" style="visibility: visible;"><path d="M 1.44 22.08 L 7.2 7.68 L 30.24 7.68 L 24.48 22.08 Z" fill="#ffffff" stroke="#000000" stroke-width="1.3" stroke-miterlimit="10" pointer-events="all"></path></g></g><g></g><g></g></g>'},{shape:"hexagon",label:"Hexagon",enable:!0,width:40,height:40,anchorPoints:[[.5,0],[.5,1],[0,.5],[1,.5]],shapeControl:E,icon:'<g><g></g><g><g transform="translate(0.5,0.5)" style="visibility: visible;"><path d="M 8.64 5.28 L 23.04 5.28 L 30.24 14.88 L 23.04 24.48 L 8.64 24.48 L 1.44 14.88 Z" fill="#ffffff" stroke="#000000" stroke-width="1.3" stroke-miterlimit="10" pointer-events="all"></path></g></g><g></g><g></g></g>'},{shape:"triangle",label:"Triangle",enable:!0,width:40,height:40,anchorPoints:[[.5,0],[.5,1],[0,.5],[1,.5]],shapeControl:E,icon:'<g><g></g><g><g transform="translate(0.5,0.5)" style="visibility: visible;"><path d="M 5.78 1.36 L 26.18 14.96 L 5.78 28.56 Z" fill="#ffffff" stroke="#000000" stroke-width="1.3" stroke-miterlimit="10" pointer-events="all"></path></g></g><g></g><g></g></g>'},{shape:"cylinder",label:"Cylinder",enable:!0,width:40,height:40,anchorPoints:[[.5,0],[.5,1],[0,.5],[1,.5]],shapeControl:E,icon:'<g><g></g><g><g transform="translate(0.5,0.5)" style="visibility: visible;"><path d="M 5.78 6.8 C 5.78 -0.45 26.18 -0.45 26.18 6.8 L 26.18 23.12 C 26.18 30.37 5.78 30.37 5.78 23.12 Z" fill="#ffffff" stroke="#000000" stroke-width="1.3" stroke-miterlimit="10" pointer-events="all"></path><path d="M 5.78 6.8 C 5.78 12.24 26.18 12.24 26.18 6.8" fill="none" stroke="#000000" stroke-width="1.3" stroke-miterlimit="10" pointer-events="all"></path></g></g><g></g><g></g></g>'},{shape:"cloud",label:"Cloud",enable:!0,width:40,height:40,anchorPoints:[[.5,0],[.5,1],[0,.5],[1,.5]],shapeControl:E,icon:'<g><g></g><g><g transform="translate(0.5,0.5)" style="visibility: visible;"><path d="M 8.64 10.08 C 2.88 10.08 1.44 14.88 6.05 15.84 C 1.44 17.95 6.62 22.56 10.37 20.64 C 12.96 24.48 21.6 24.48 24.48 20.64 C 30.24 20.64 30.24 16.8 26.64 14.88 C 30.24 11.04 24.48 7.2 19.44 9.12 C 15.84 6.24 10.08 6.24 8.64 10.08 Z" fill="#ffffff" stroke="#000000" stroke-width="1.3" stroke-miterlimit="10" pointer-events="all"></path></g></g><g></g><g></g></g>'},{shape:"document",label:"Document",enable:!0,width:40,height:40,anchorPoints:[[.5,0],[.5,1],[0,.5],[1,.5]],shapeControl:E,icon:'<g><g></g><g><g transform="translate(0.5,0.5)" style="visibility: visible;"><path d="M 1.44 5.28 L 30.24 5.28 L 30.24 21.6 Q 23.04 16.42 15.84 21.6 Q 8.64 26.78 1.44 21.6 L 1.44 8.16 Z" fill="#ffffff" stroke="#000000" stroke-width="1.3" stroke-miterlimit="10" pointer-events="all"></path></g></g><g></g><g></g></g>'},{shape:"internal-sotrage",label:"Internal Sotrage",enable:!0,width:40,height:40,anchorPoints:[[.5,0],[.5,1],[0,.5],[1,.5]],shapeControl:E,icon:'<g><g></g><g><g transform="translate(0.5,0.5)" style="visibility: visible;"><rect x="2.38" y="1.36" width="27.2" height="27.2" fill="#ffffff" stroke="#000000" stroke-width="1.3" pointer-events="all"></rect><path d="M 2.38 8.16 L 29.58 8.16" fill="none" stroke="white" stroke-width="9.3" stroke-miterlimit="10" pointer-events="stroke" visibility="hidden"></path><path d="M 2.38 8.16 L 29.58 8.16" fill="none" stroke="#000000" stroke-width="1.3" stroke-miterlimit="10" pointer-events="all"></path><path d="M 9.18 1.36 L 9.18 28.56" fill="none" stroke="white" stroke-width="9.3" stroke-miterlimit="10" pointer-events="stroke" visibility="hidden"></path><path d="M 9.18 1.36 L 9.18 28.56" fill="none" stroke="#000000" stroke-width="1.3" stroke-miterlimit="10" pointer-events="all"></path></g></g><g></g><g></g></g>'},{shape:"cube",label:"Cube",enable:!0,width:40,height:40,anchorPoints:[[.5,0],[.5,1],[0,.5],[1,.5]],shapeControl:E,icon:'<g><g></g><g><g transform="translate(0.5,0.5)" style="visibility: visible;"><path d="M 1.44 5.28 L 25.44 5.28 L 30.24 10.08 L 30.24 24.48 L 6.24 24.48 L 1.44 19.68 L 1.44 5.28 Z" fill="#ffffff" stroke="#000000" stroke-width="1.3" stroke-miterlimit="10" pointer-events="all"></path><path d="M 1.44 5.28 L 25.44 5.28 L 30.24 10.08 L 6.24 10.08 Z" fill-opacity="0.05" fill="#000000" stroke="none" pointer-events="all"></path><path d="M 1.44 5.28 L 6.24 10.08 L 6.24 24.48 L 1.44 19.68 Z" fill-opacity="0.1" fill="#000000" stroke="none" pointer-events="all"></path><path d="M 6.24 24.48 L 6.24 10.08 L 1.44 5.28 M 6.24 10.08 L 30.24 10.08" fill="none" stroke="#000000" stroke-width="1.3" stroke-miterlimit="10" pointer-events="all"></path></g></g><g></g><g></g></g>'},{shape:"step",label:"Step",enable:!0,width:40,height:40,anchorPoints:[[.5,0],[.5,1],[0,.5],[1,.5]],shapeControl:E,icon:'<g><g></g><g><g transform="translate(0.5,0.5)" style="visibility: visible;"><path d="M 1.44 5.28 L 25.44 5.28 L 30.24 14.88 L 25.44 24.48 L 1.44 24.48 L 6.24 14.88 Z" fill="#ffffff" stroke="#000000" stroke-width="1.3" stroke-miterlimit="10" pointer-events="all"></path></g></g><g></g><g></g></g>'},{shape:"trapezoid",label:"Trapezoid",enable:!0,width:40,height:40,anchorPoints:[[.5,0],[.5,1],[0,.5],[1,.5]],shapeControl:E,icon:'<g><g></g><g><g transform="translate(0.5,0.5)" style="visibility: visible;"><path d="M 1.44 22.08 L 7.2 7.68 L 24.48 7.68 L 30.24 22.08 Z" fill="#ffffff" stroke="#000000" stroke-width="1.3" stroke-miterlimit="10" pointer-events="all"></path></g></g><g></g><g></g></g>'},{shape:"tape",label:"Tape",enable:!0,width:40,height:40,anchorPoints:[[.5,0],[.5,1],[0,.5],[1,.5]],shapeControl:E,icon:'<g><g></g><g><g transform="translate(0.5,0.5)" style="visibility: visible;"><path d="M 1.44 7.68 Q 8.64 16.32 15.84 7.68 Q 23.04 -0.96 30.24 7.68 L 30.24 22.08 Q 23.04 13.44 15.84 22.08 Q 8.64 30.72 1.44 22.08 L 1.44 7.68 Z" fill="#ffffff" stroke="#000000" stroke-width="1.3" stroke-miterlimit="10" pointer-events="all"></path></g></g><g></g><g></g></g>'},{shape:"note",label:"Note",enable:!0,width:40,height:40,anchorPoints:[[.5,0],[.5,1],[0,.5],[1,.5]],shapeControl:E,icon:'<g><g></g><g><g transform="translate(0.5,0.5)" style="visibility: visible;"><path d="M 5.13 1.35 L 18.63 1.35 L 26.73 9.45 L 26.73 28.35 L 5.13 28.35 L 5.13 1.35 Z" fill="#ffffff" stroke="#000000" stroke-width="1.3" stroke-miterlimit="10" pointer-events="all"></path><path d="M 18.63 1.35 L 18.63 9.45 L 26.73 9.45 Z" fill-opacity="0.05" fill="#000000" stroke="none" pointer-events="all"></path><path d="M 18.63 1.35 L 18.63 9.45 L 26.73 9.45" fill="none" stroke="#000000" stroke-width="1.3" stroke-miterlimit="10" pointer-events="all"></path></g></g><g></g><g></g></g>'},{shape:"card",label:"Card",enable:!0,width:40,height:40,anchorPoints:[[.5,0],[.5,1],[0,.5],[1,.5]],shapeControl:E,icon:'<g><g></g><g><g transform="translate(0.5,0.5)" style="visibility: visible;"><path d="M 13.23 1.35 L 26.73 1.35 L 26.73 28.35 L 5.13 28.35 L 5.13 9.45 Z" fill="#ffffff" stroke="#000000" stroke-width="1.3" stroke-miterlimit="10" pointer-events="all"></path></g></g><g></g><g></g></g>'},{shape:"callout",label:"Callout",enable:!0,width:40,height:40,anchorPoints:[[.5,0],[.5,1],[0,.5],[1,.5]],shapeControl:E,icon:'<g><g></g><g><g transform="translate(0.5,0.5)" style="visibility: visible;"><path d="M 1.44 5.28 L 30.24 5.28 L 30.24 17.28 L 20.64 17.28 L 15.84 24.48 L 15.84 17.28 L 1.44 17.28 Z" fill="#ffffff" stroke="#000000" stroke-width="1.3" stroke-miterlimit="10" pointer-events="all"></path></g></g><g></g><g></g></g>'},{shape:"actor",label:"Actor",enable:!0,width:40,height:40,anchorPoints:[[.5,0],[.5,1],[0,.5],[1,.5]],shapeControl:E,icon:'<g><g></g><g><g transform="translate(0.5,0.5)" style="visibility: visible;"><ellipse cx="15.75" cy="4.73" rx="3.375" ry="3.375" fill="#ffffff" stroke="#000000" stroke-width="1.3" pointer-events="all"></ellipse><path d="M 15.75 8.1 L 15.75 19.35 M 15.75 10.35 L 9 10.35 M 15.75 10.35 L 22.5 10.35 M 15.75 19.35 L 9 28.35 M 15.75 19.35 L 22.5 28.35" fill="none" stroke="white" stroke-width="9.3" stroke-miterlimit="10" pointer-events="stroke" visibility="hidden"></path><path d="M 15.75 8.1 L 15.75 19.35 M 15.75 10.35 L 9 10.35 M 15.75 10.35 L 22.5 10.35 M 15.75 19.35 L 9 28.35 M 15.75 19.35 L 22.5 28.35" fill="none" stroke="#000000" stroke-width="1.3" stroke-miterlimit="10" pointer-events="all"></path></g></g><g></g><g></g></g>'},{shape:"or",label:"Or",enable:!0,width:40,height:40,anchorPoints:[[.5,0],[.5,1],[0,.5],[1,.5]],shapeControl:E,icon:'<g><g></g><g><g transform="translate(0.5,0.5)" style="visibility: visible;"><path d="M 5.78 1.36 Q 26.18 1.36 26.18 14.96 Q 26.18 28.56 5.78 28.56 Q 15.98 14.96 5.78 1.36 Z" fill="#ffffff" stroke="#000000" stroke-width="1.3" stroke-miterlimit="10" pointer-events="all"></path></g></g><g></g><g></g></g>'},{shape:"and",label:"And",enable:!0,width:40,height:40,anchorPoints:[[.5,0],[.5,1],[0,.5],[1,.5]],shapeControl:E,icon:'<g><g></g><g><g transform="translate(0.5,0.5)" style="visibility: visible;"><path d="M 5.78 1.36 Q 26.18 1.36 26.18 14.96 Q 26.18 28.56 5.78 28.56 Z" fill="#ffffff" stroke="#000000" stroke-width="1.3" stroke-miterlimit="10" pointer-events="all"></path></g></g><g></g><g></g></g>'},{shape:"data-storage",label:"Data Storage",enable:!0,width:40,height:40,anchorPoints:[[.5,0],[.5,1],[0,.5],[1,.5]],shapeControl:E,icon:'<g><g></g><g><g transform="translate(0.5,0.5)" style="visibility: visible;"><path d="M 4.35 3.19 L 30.45 3.19 Q 24.65 14.79 30.45 26.39 L 4.35 26.39 Q -1.45 14.79 4.35 3.19 Z" fill="#ffffff" stroke="#000000" stroke-width="1.3" stroke-miterlimit="10" pointer-events="all"></path></g></g><g></g><g></g></g>'}],j={$X:A,materials:D};function _(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function N(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?_(i,!0).forEach(function(t){Object(s["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):_(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var B={name:"ToolBar",components:{Handler:y,ToolBox:P,ToolItem:I},data:function(){return{mode:"edit",selected:{zoom:0,lineWidth:0,lineType:0,lineStyle:0,startArrow:0,endArrow:0,language:0},formData:N({},j.$X),isExpand:!0}},computed:N({},Object(l["b"])(["currentItem"]),{toolBarStyle:function(){var e=this,t={};return e.isExpand?t.top=0:t.top="-40px",t},toolMap:function(){var e=this;return{left:[{name:"logo",label:"logo",lang:"L10000",type:"text",icon:"",enable:!0,divider:!1}],center:[{name:"undo",label:"Undo",lang:"L10001",type:"normal",icon:"undo",enable:!0,disabled:"preview"===e.mode,divider:!1},{name:"redo",label:"Redo",lang:"L10002",type:"normal",icon:"redo",enable:!0,disabled:"preview"===e.mode,divider:!0},{name:"copy",label:"Copy",lang:"L10003",type:"normal",icon:"copy",enable:!0,disabled:"preview"===e.mode,divider:!1},{name:"paste",label:"Paste",lang:"L10004",type:"normal",icon:"paste",enable:!0,disabled:"preview"===e.mode,divider:!1},{name:"clear",label:"Clear",lang:"L10005",type:"normal",icon:"clear",enable:!0,disabled:"preview"===e.mode,divider:!0},{name:"zoom",label:"Zoom",lang:"L10029",type:"dropdown-list",icon:"zoom",enable:!0,disabled:!1,divider:!1,selected:e.selected.zoom,children:[{name:"25%",label:"25%",lang:"",icon:"",data:.25,enable:!0,disabled:!1,divider:!1},{name:"50%",label:"50%",lang:"",icon:"",data:.5,enable:!0,disabled:!1,divider:!1},{name:"75%",label:"75%",lang:"",icon:"",data:.75,enable:!0,disabled:!1,divider:!1},{name:"100%",label:"100%",lang:"",icon:"",data:1,enable:!0,disabled:!1,divider:!1},{name:"125%",label:"125%",lang:"",icon:"",data:1.25,enable:!0,disabled:!1,divider:!1},{name:"150%",label:"150%",lang:"",icon:"",data:1.5,enable:!0,disabled:!1,divider:!1},{name:"200%",label:"200%",lang:"",icon:"",data:2,enable:!0,disabled:!1,divider:!1},{name:"300%",label:"300%",lang:"",icon:"",data:3,enable:!0,disabled:!1,divider:!1},{name:"400%",label:"400%",lang:"",icon:"",data:4,enable:!0,disabled:!1,divider:!1}]},{name:"zoomIn",label:"Zoom In",lang:"L10006",type:"normal",icon:"zoom-in",enable:!0,disabled:!1,divider:!1},{name:"zoomOut",label:"Zoom Out",lang:"L10007",type:"normal",icon:"zoom-out",enable:!0,disabled:!1,divider:!1},{name:"fit",label:"Fit",lang:"L10008",type:"normal",icon:"fit",enable:!0,disabled:!1,divider:!1},{name:"actualSize",label:"Actual Size",lang:"L10009",type:"normal",icon:"actual-size",enable:!0,disabled:!1,divider:!0},{name:"fill",label:"fill",lang:"L10011",type:"dropdown-color-picker",icon:"fill",enable:!0,disabled:"preview"===e.mode,divider:!1},{name:"lineColor",label:"line color",lang:"L10012",type:"dropdown-color-picker",icon:"line-color",enable:!0,disabled:"preview"===e.mode,divider:!1},{name:"lineWidth",label:"line width",lang:"L10013",type:"dropdown-list",icon:"line-width",enable:!0,disabled:"preview"===e.mode,divider:!1,selected:e.selected.lineWidth,children:[{name:1,label:"1px",lang:"",icon:"",enable:!0,disabled:!1,divider:!1},{name:2,label:"2px",lang:"",icon:"",enable:!0,disabled:!1,divider:!1},{name:3,label:"3px",lang:"",icon:"",enable:!0,disabled:!1,divider:!1},{name:4,label:"4px",lang:"",icon:"",enable:!0,disabled:!1,divider:!1},{name:5,label:"5px",lang:"",icon:"",enable:!0,disabled:!1,divider:!1},{name:6,label:"6px",lang:"",icon:"",enable:!0,disabled:!1,divider:!1},{name:7,label:"7px",lang:"",icon:"",enable:!0,disabled:!1,divider:!1},{name:8,label:"8px",lang:"",icon:"",enable:!0,disabled:!1,divider:!1},{name:9,label:"9px",lang:"",icon:"",enable:!0,disabled:!1,divider:!1},{name:10,label:"10px",lang:"",icon:"",enable:!0,disabled:!1,divider:!1}]},{name:"lineStyle",label:"line style",lang:"L10014",type:"dropdown-list",icon:"line-style",enable:!0,disabled:"preview"===e.mode,divider:!0,selected:e.selected.lineStyle,children:[{name:"solid",label:"solid",lang:"",icon:"solid",enable:!0,disabled:!1,divider:!1},{name:"dashed",label:"dashed",lang:"",icon:"dashed",enable:!0,disabled:!1,divider:!1},{name:"dot",label:"dot",lang:"",icon:"dot",enable:!0,disabled:!1,divider:!1}]},{name:"lineType",label:"line type",lang:"L10015",type:"dropdown-list",icon:"",enable:!0,disabled:"preview"===e.mode,divider:!1,selected:e.selected.lineType,children:[{name:"x-line",label:"line",lang:"",icon:"flow-line",enable:!0,disabled:!1,divider:!1},{name:"x-broken",label:"broken",lang:"",icon:"flow-broken",enable:!0,disabled:!1,divider:!1},{name:"x-cubic",label:"cubic",lang:"",icon:"flow-curve",enable:!0,disabled:!1,divider:!1}]},{name:"startArrow",label:"start arrow",lang:"L10016",type:"dropdown-list",icon:"",enable:!0,disabled:"preview"===e.mode,divider:!1,selected:e.selected.startArrow,children:[{name:"none",label:"none",lang:"",icon:"solid",style:{},data:!1,enable:!0,disabled:!1,divider:!1},{name:"solidArrow",label:"solid arrow",lang:"",icon:"solid-arrow",style:{},data:{path:"M 10,0 L -10,-10 L -10,10 Z",d:10},enable:!0,disabled:!1,divider:!1},{name:"normalArrow",label:"normal arrow",lang:"",icon:"normal-arrow",style:{},data:{path:"M 10,0 L -10,-10 L -11,-9 L 9,0 L-11,9 L -10,10 Z",d:10},enable:!0,disabled:!1,divider:!1},{name:"asynchArrow",label:"asynch arrow",lang:"",icon:"asynch-arraw",style:{},data:{path:"M 10,0 L -10,-10 L -11,-9 L 9,0 Z",d:10},enable:!0,disabled:!1,divider:!1}]},{name:"endArrow",label:"end arrow",lang:"L10017",type:"dropdown-list",icon:"",enable:!0,disabled:"preview"===e.mode,divider:!0,selected:e.selected.endArrow,children:[{name:"none",label:"none",lang:"",icon:"solid",style:{},data:!1,enable:!0,disabled:!1,divider:!1},{name:"solidArrow",label:"solid arrow",lang:"",icon:"solid-arrow",style:{display:"inline-block",transform:"rotate(180deg)"},data:{path:"M 10,0 L -10,-10 L -10,10 Z",d:10},enable:!0,disabled:!1,divider:!1},{name:"normalArrow",label:"normal arrow",lang:"",icon:"normal-arrow",style:{display:"inline-block",transform:"rotate(180deg)"},data:{path:"M 10,0 L -10,-10 L -11,-9 L 9,0 L-11,9 L -10,10 Z",d:10},enable:!0,disabled:!1,divider:!1},{name:"asynchArrow",label:"asynch arrow",lang:"",icon:"asynch-arraw",style:{display:"inline-block",transform:"rotate(180deg)"},data:{path:"M 10,0 L -10,-10 L -11,-9 L 9,0 Z",d:10},enable:!0,disabled:!1,divider:!1}]},{name:"toFront",label:"To Front",lang:"L10018",type:"normal",icon:"to-front",enable:!0,disabled:"preview"===e.mode,divider:!1},{name:"toBack",label:"To Back",lang:"L10019",type:"normal",icon:"to-back",enable:!0,disabled:"preview"===e.mode,divider:!0},{name:"marquee",label:"Marquee",lang:"L10020",type:"normal",icon:"marquee",enable:!0,disabled:"preview"===e.mode,divider:!1},{name:"group",label:"Group",lang:"L10021",type:"normal",icon:"group",enable:!0,disabled:"preview"===e.mode,divider:!1},{name:"ungroup",label:"Ungroup",lang:"L10022",type:"normal",icon:"ungroup",enable:!0,disabled:"preview"===e.mode,divider:!0},{name:"edit",label:"edit",lang:"L10023",type:"normal",icon:"edit",enable:"preview"===e.mode,disabled:!1,divider:!1},{name:"preview",label:"preview",lang:"L10024",type:"normal",icon:"preview",enable:"edit"===e.mode,disabled:!1,divider:!1},{name:"fullscreen",label:"fullscreen",lang:"L10025",type:"normal",icon:"full-screen",enable:!0,disabled:!1,divider:!1},{name:"language",label:"language",lang:"L10026",type:"dropdown-list",icon:"language",enable:!0,disabled:!1,divider:!1,selected:e.selected.language,children:[{name:"zh-CN",label:"简体中文",lang:"",icon:"",style:{},data:!1,enable:!0,disabled:!1,divider:!1},{name:"en-US",label:"English",lang:"",icon:"",style:{},data:!1,enable:!0,disabled:!1,divider:!1}]}],right:[{name:"github",label:"github",lang:"L10027",type:"link",icon:"github",link:e.$X.config.system.github,enable:!0,divider:!1},{name:"feedback",label:"feedback",lang:"L10028",type:"link",icon:"feedback",link:e.$X.config.system.feedback,enable:!0,divider:!1}]}}}),methods:{toggleHandler:function(e){var t=this;t.isExpand=void 0!==e?e:!t.isExpand},handleDropdownClick:function(e,t,i){var n=this;console.log("item",e,t,i),n.selected[e.name]=i;var a=e.children[i];n.formData[e.name]=a.name;var o=null;switch(e.name){case"lineWidth":case"lineType":case"lineStyle":o={name:e.name,data:a.name};break;case"zoom":case"startArrow":case"endArrow":o={name:e.name,data:a.data};break;case"language":var r=n.$X.config.cookie.getItem("locale");n.$X.Cookies.set(r,a.name,{expires:7,path:n.$X.config.cookie.path}),n.$i18n.locale=n.$X.langs.locale=a.name;break}o&&n.$X.utils.bus.$emit("editor/tool/trigger",o)},handleToolClick:function(e,t,i){var n=this;if(!e.disabled&&(console.log("MaterialsEditor tool click",e.name,t,i),"center"===t)){var a={};switch(e.name){case"edit":n.mode="edit";break;case"preview":n.mode="preview";break;case"fill":case"lineColor":var o=i.hex8;n.formData[e.name]=o,a=o;break;case"toFront":case"toBack":a=n.currentItem;break}n.$X.utils.bus.$emit("editor/tool/trigger",{name:e.name,data:a})}}},created:function(){var e=this;e.$X.utils.bus.$on("editor/pad/dblclick",e.toggleHandler)}},T=B,F=(i("e5e0"),Object(p["a"])(T,c,d,!1,null,"4ab6a433",null)),X=F.exports,z=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"sketchpad",attrs:{id:"sketchpad"}})},$=[],Y={name:"Sketchpad"},U=Y,W=(i("7f206"),Object(p["a"])(U,z,$,!1,null,"566a58f0",null)),R=W.exports,H=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("CardBox",{staticClass:"panel-left",attrs:{placement:"left",position:"right",width:250}},[i("CardItem",{attrs:{title:e.$t("L10100"),enableFold:!0,bold:!0}},e._l(e.materials.filter(function(e){return e.enable}),function(e,t){return i("NodeElement",{key:t,attrs:{title:e.label,info:e}})}),1)],1)},V=[],Z=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"card-box",style:e.boxStyle},[i("Handler",{staticClass:"handler",attrs:{mode:e.mode,position:e.position,expand:e.isExpand,callback:e.toggleHandler}}),i("div",{staticClass:"card-body"},[e._t("default")],2)],1)},Q=[],G=(i("c5f6"),{name:"CardBox",components:{Handler:y},props:{width:{type:Number,default:300},placement:{type:String,default:"right"},mode:{type:String,validator:function(e){return["horizontal","vertical"].includes(e)},default:"vertical"},position:{type:String,validator:function(e){return["top","right","bottom","left"].includes(e)},default:"right"}},data:function(){return{isExpand:!0}},computed:{boxStyle:function(){var e=this,t={};return e.placement&&(t[e.placement]=0),e.width&&(t.width=e.width+"px"),e.isExpand?t[e.placement]=0:t[e.placement]=-e.width+"px",t}},methods:{toggleHandler:function(e){var t=this;t.isExpand=void 0!==e?e:!t.isExpand}},created:function(){var e=this;e.$X.utils.bus.$on("editor/pad/dblclick",e.toggleHandler)}}),q=G,K=(i("a187"),Object(p["a"])(q,Z,Q,!1,null,"6b3b4c5e",null)),J=K.exports,ee=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"card-item"},[i("div",{staticClass:"header",on:{click:e.handleToggle}},[e.title?i("div",{class:{title:!0,bold:e.bold}},[e._v(e._s(e.title))]):e._e(),i("div",{staticClass:"handler"},[i("Icon",{directives:[{name:"show",rawName:"v-show",value:e.enableFold&&!e.isFolded,expression:"enableFold && !isFolded"}],attrs:{type:"ios-arrow-up"}}),i("Icon",{directives:[{name:"show",rawName:"v-show",value:e.enableFold&&e.isFolded,expression:"enableFold && isFolded"}],attrs:{type:"ios-arrow-down"}})],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isFolded,expression:"!isFolded"}],staticClass:"body"},[e._t("default")],2)])},te=[],ie={name:"CardItem",props:{title:String,enableFold:{type:Boolean,default:!1},fold:{type:Boolean,default:!1},bold:{type:Boolean,default:!1}},data:function(){return{isFolded:!1}},watch:{fold:function(e,t){var i=this;i.enableFold&&(i.isFolded=t)}},methods:{handleToggle:function(){var e=this;e.enableFold&&(e.isFolded=!e.isFolded)}}},ne=ie,ae=(i("3725"),Object(p["a"])(ne,ee,te,!1,null,"133e41f9",null)),oe=ae.exports,re=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"node-element",style:e.elementStyle,on:{mousedown:e.handleMouseDown}},[i("div",{staticClass:"content",attrs:{title:e.title}},[i("svg",{staticClass:"icon",domProps:{innerHTML:e._s(e.info.icon)}})])])},se=[],le={name:"NodeElement",props:{title:{type:String,required:!0},info:{type:Object,required:!0,default:function(){return{shape:"circle",label:"circle",enable:!0,width:40,height:40,anchorPoints:[[0,0],[0,1],[1,0],[1,1]],svg:""}}},width:{type:Number,default:40},height:{type:Number,default:40}},computed:{elementStyle:function(){var e=this,t={};return e.width&&(t.width=e.width+"px"),e.height&&(t.height=e.height+"px"),t}},methods:{handleMouseDown:function(e){var t=this;t.$X.utils.bus.$emit("editor/add/node",t.info)}}},ce=le,de=(i("dea5"),Object(p["a"])(ce,re,se,!1,null,"0316eef6",null)),ue=de.exports,he={name:"PanelLeft",components:{CardBox:J,CardItem:oe,NodeElement:ue},data:function(){return{materials:j.materials||[]}}},ge=he,fe=(i("504f"),Object(p["a"])(ge,H,V,!1,null,"4094ef30",null)),pe=fe.exports,ve=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("CardBox",{attrs:{placement:"right",position:"left",width:300}},[i("CardItem",{attrs:{title:e.$t("L10101"),enableFold:!0,bold:!0}},[i("Options")],1),i("CardItem",{attrs:{title:e.$t("L10102"),enableFold:!0,bold:!0}},[i("Navigator")],1)],1)},ye=[],me=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"options"},[Object.keys(e.formData).length?i("Form",{attrs:{model:e.formData,"label-position":"top"}},[i("CardItem",{attrs:{title:e.$t("L10103"),enableFold:!0}},[i("div",{staticClass:"form-item-block"},[i("FormItem",{attrs:{label:"x"}},[i("InputNumber",{attrs:{size:"small"},on:{"on-change":e.handleChange},model:{value:e.formData.x,callback:function(t){e.$set(e.formData,"x",t)},expression:"formData.x"}})],1),i("FormItem",{attrs:{label:"y"}},[i("InputNumber",{attrs:{size:"small"},on:{"on-change":e.handleChange},model:{value:e.formData.y,callback:function(t){e.$set(e.formData,"y",t)},expression:"formData.y"}})],1),i("FormItem",{attrs:{label:"width"}},[i("InputNumber",{attrs:{size:"small"},on:{"on-change":e.handleChange},model:{value:e.formData.width,callback:function(t){e.$set(e.formData,"width",t)},expression:"formData.width"}})],1),i("FormItem",{attrs:{label:"height"}},[i("InputNumber",{attrs:{size:"small"},on:{"on-change":e.handleChange},model:{value:e.formData.height,callback:function(t){e.$set(e.formData,"height",t)},expression:"formData.height"}})],1)],1)]),i("CardItem",{attrs:{title:e.$t("L10104"),enableFold:!0}},[i("div",{staticClass:"form-item-block"},[i("FormItem",{attrs:{label:"fill"}},[i("ColorPicker",{attrs:{hue:"",recommend:""},on:{"on-change":e.handleChange},model:{value:e.formData.style.fill,callback:function(t){e.$set(e.formData.style,"fill",t)},expression:"formData.style.fill"}})],1),i("FormItem",{attrs:{label:"fillOpacity"}},[i("Slider",{attrs:{min:0,max:1,step:.1,"show-input":!0,"input-size":"small"},on:{"on-change":e.handleChange},model:{value:e.formData.style.fillOpacity,callback:function(t){e.$set(e.formData.style,"fillOpacity",t)},expression:"formData.style.fillOpacity"}})],1),i("FormItem",{attrs:{label:"stroke"}},[i("ColorPicker",{attrs:{hue:"",recommend:""},on:{"on-change":e.handleChange},model:{value:e.formData.style.stroke,callback:function(t){e.$set(e.formData.style,"stroke",t)},expression:"formData.style.stroke"}})],1),i("FormItem",{attrs:{label:"strokeOpacity"}},[i("Slider",{attrs:{min:0,max:1,step:.1,"show-input":!0,"input-size":"small"},model:{value:e.formData.style.strokeOpacity,callback:function(t){e.$set(e.formData.style,"strokeOpacity",t)},expression:"formData.style.strokeOpacity"}})],1),i("FormItem",{attrs:{label:"lineWidth"}},[i("Slider",{attrs:{min:1,max:10,step:1,"show-input":!0,"input-size":"small"},on:{"on-change":e.handleChange},model:{value:e.formData.style.lineWidth,callback:function(t){e.$set(e.formData.style,"lineWidth",t)},expression:"formData.style.lineWidth"}})],1)],1)]),i("CardItem",{attrs:{title:e.$t("L10105"),enableFold:!0}},[i("div",{staticClass:"form-item-block"},[i("FormItem",{attrs:{label:"label"}},[i("Input",{attrs:{size:"small"},on:{"on-change":e.handleChange},model:{value:e.formData.label,callback:function(t){e.$set(e.formData,"label",t)},expression:"formData.label"}})],1),e.formData.labelCfg?i("FormItem",{attrs:{label:"position"}},[i("Select",{attrs:{size:"small"},on:{"on-change":e.handleChange},model:{value:e.formData.labelCfg.position,callback:function(t){e.$set(e.formData.labelCfg,"position",t)},expression:"formData.labelCfg.position"}},[i("Option",{attrs:{value:"center"}},[e._v("center")]),i("Option",{attrs:{value:"top"}},[e._v("top")]),i("Option",{attrs:{value:"left"}},[e._v("left")]),i("Option",{attrs:{value:"right"}},[e._v("right")]),i("Option",{attrs:{value:"bottom"}},[e._v("bottom")])],1)],1):e._e(),e.formData.labelCfg?i("FormItem",{attrs:{label:"offset"}},[i("InputNumber",{attrs:{size:"small"},on:{"on-change":e.handleChange},model:{value:e.formData.labelCfg.offset,callback:function(t){e.$set(e.formData.labelCfg,"offset",t)},expression:"formData.labelCfg.offset"}})],1):e._e()],1)])],1):e._e()],1)},be=[];function xe(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function we(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?xe(i,!0).forEach(function(t){Object(s["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):xe(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var ke={name:"Options",components:{CardItem:oe},data:function(){return{formData:{},fieldMap:{enabled:[],disabled:["anchorPoints","shapeControl","size"],common:[{name:"x",label:"x坐标",lang:"",type:"number",component:"InputNumber",enable:!0,children:[]},{name:"y",label:"y坐标",lang:"",type:"number",component:"InputNumber",enable:!0,children:[]},{name:"width",label:"宽度",lang:"",type:"number",component:"InputNumber",enable:!0,children:[]},{name:"height",label:"高度",lang:"",type:"number",component:"InputNumber",enable:!0,children:[]},{name:"label",label:"文本",lang:"",type:"string",component:"Input",enable:!0,children:[]},{name:"labelCfg",label:"文本样式",lang:"",type:"object",component:"OptionGroup",enable:!0,children:[{name:"position",label:"位置",lang:"",type:"string",component:"Select",enable:!0,option:["center","top","left","right","bottom"],children:[]},{name:"offset",label:"偏移",lang:"",type:"string",component:"InputNumber",enable:!0,children:[]},{name:"style",label:"文本样式",lang:"",type:"object",component:"OptionGroup",enable:!1,children:[]}]},{name:"shape",label:"形状",lang:"",type:"string",component:"Select",enable:!0,children:[]},{name:"style",label:"样式",lang:"",type:"object",component:"OptionGroup",enable:!1,children:[]}],node:[],edge:[]}}},computed:we({},Object(l["b"])(["currentItem"])),watch:{currentItem:{handler:function(e){var t=this;t.formData=we({},e.model)},deep:!0}},methods:{handleChange:function(){var e=this,t=we({},e.formData,{size:[e.formData.width,e.formData.height]});e.$X.utils.bus.$emit("editor/currentItem/update",{id:e.currentItem.model.id,type:e.currentItem.type,model:t})}}},Pe=ke,Ce=(i("d48d"),Object(p["a"])(Pe,me,be,!1,null,"10d4ff15",null)),Oe=Ce.exports,Se=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"navigator",attrs:{id:"navigator"}})},Le=[],Me={name:"Navigator"},Ie=Me,Ae=(i("28fd"),Object(p["a"])(Ie,Se,Le,!1,null,"3db0f4e1",null)),Ee=Ae.exports,De={name:"PanelRight",components:{CardBox:J,CardItem:oe,Options:Oe,Navigator:Ee}},je=De,_e=Object(p["a"])(je,ve,ye,!1,null,"11ea68b5",null),Ne=_e.exports,Be=i("d590"),Te=i.n(Be),Fe=(i("8615"),i("6c7b"),i("75fc")),Xe=i("07cd"),ze=i.n(Xe),$e={style:{default:{radius:3,symbol:"circle",fill:"#FFFFFF",fillOpacity:0,stroke:"#1890FF",strokeOpacity:0,cursor:"crosshair"},hover:{fillOpacity:1,strokeOpacity:1},unhover:{fillOpacity:0,strokeOpacity:0},active:{fillOpacity:1,strokeOpacity:1},inactive:{fillOpacity:0,strokeOpacity:0}}},Ye={style:{default:{fill:"#FFFFFF",fillOpacity:1,stroke:"#1890FF",strokeOpacity:1,lineDash:[5,5]}}},Ue={style:{default:{fill:"red",r:3}},delay:3e3},We={style:{default:{point:{radius:3,symbol:"square",fill:"#FFFFFF",fillOpacity:0,stroke:"#558EF0",strokeOpacity:0},edge:{fill:"#FFFFFF",fillOpacity:0,stroke:"red",strokeOpacity:0}},active:{point:{fillOpacity:1,strokeOpacity:1},edge:{fillOpacity:1,strokeOpacity:1}},inactive:{point:{fillOpacity:0,strokeOpacity:0},edge:{fillOpacity:0,strokeOpacity:0}}}},Re={style:{default:{stroke:"#000000",strokeOpacity:1},active:{shadowColor:"red",shadowBlur:4,shadowOffsetX:0,shadowOffsetY:0},inactive:{shadowColor:""}},type:{solid:{lineDash:[]},dashed:{lineDash:[5,5]},dot:{lineDash:[2,2]}}},He={startArrow:{},endArrow:{}},Ve={anchor:$e,dottedNode:Ye,lineAnimate:Ue,shapeControl:We,line:Re,lineArrow:He},Ze=(i("8449"),i("768b"));function Qe(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function Ge(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Qe(i,!0).forEach(function(t){Object(s["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Qe(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var qe=function(e,t){var i=e.anchorPoints,n=e.width,a=e.height,o=e.id;if(i&&i.length)for(var r=0,s=i.length;r<s;r++){var l=Object(Ze["a"])(i[r],2),c=l[0],d=l[1],u=-n/2,h=-a/2,g=c*n+u,f=d*a+h;t.addShape("marker",{id:o+"_anchor_"+r,attrs:Ge({name:"anchor",x:g,y:f},Ve.anchor.style.default)})}},Ke=function(e,t,i){if("hover"===e)for(var n=i.getContainer(),a=n.get("children"),o=0,r=a.length;o<r;o++){var s=a[o];"anchor"===s._attrs.name&&(t?s.attr(Ve.anchor.style.hover):s.attr(Ve.anchor.style.unhover))}},Je=function(e,t){var i=e.anchorPoints,n=e.width,a=e.height,o=e.id;if(i&&i.length)for(var r=0,s=i.length;r<s;r++){var l=Object(Ze["a"])(i[r],2),c=l[0],d=l[1],u=-n/2,h=-a/2,g=c*n+u,f=d*a+h,p=t.findById(o+"_anchor_"+r);p.attr({x:g,y:f})}};function et(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function tt(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?et(i,!0).forEach(function(t){Object(s["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):et(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var it=function(e,t){var i=e.shapeControl,n=e.width,a=e.height,o=e.id;if(i&&i.hasOwnProperty("controllers")&&i.controllers.length)for(var r=0,s=i.controllers.length;r<s;r++){var l=Object(Ze["a"])(i.controllers[r],3),c=l[0],d=l[1],u=l[2],h=-n/2,g=-a/2,f=c*n+h,p=d*a+g;t.addShape("marker",{id:o+"_shape_control_point"+r,index:r,name:"shapeControlPoint",attrs:tt({name:"shapeControlPoint",x:f,y:p,position:{x:c,y:d},cursor:u||"pointer"},Ve.shapeControl.style.default.point)})}},nt=function(e,t,i){if("active"===e)for(var n=i.getContainer(),a=n.get("children"),o=0,r=a.length;o<r;o++){var s=a[o];"shapeControlPoint"===s._attrs.name&&(t?s.attr(Ve.shapeControl.style.active.point):s.attr(Ve.shapeControl.style.inactive.point)),"shapeControlEdge"===s._attrs.name&&(t?s.attr(Ve.shapeControl.style.active.edge):s.attr(Ve.shapeControl.style.inactive.edge))}},at=function(e,t){var i=e.shapeControl,n=e.width,a=e.height,o=e.id;if(i&&i.hasOwnProperty("controllers")&&i.controllers.length)for(var r=0,s=i.controllers.length;r<s;r++){var l=Object(Ze["a"])(i.controllers[r],2),c=l[0],d=l[1],u=-n/2,h=-a/2,g=c*n+u,f=d*a+h,p=t.findById(o+"_shape_control_point"+r);p.attr({x:g,y:f})}},ot=function(e,t,i){if("active"===e){var n=i.getContainer(),a=n.get("children"),o=a[0];o&&(t?o.attr(Ve.line.style.active):o.attr(Ve.line.style.inactive))}},rt=function(e,t){var i=t.getEdges();if(i&&i.length){var n=e.getModel();i.forEach(function(i){var a=i.getModel();if(n.id===a.attrs.start){var o=a.source,r=e.getLinkPointByAnchor(o.index);t.updateItem(i,{source:r})}else if(n.id===a.attrs.end){var s=a.target,l=e.getLinkPointByAnchor(s.index);t.updateItem(i,{target:l})}})}};i("7514");function st(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function lt(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?st(i,!0).forEach(function(t){Object(s["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):st(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var ct=function(e,t){var i=t.getFirst(),n=i.getPoint(0);if(n){var a="edgeAnimatePoint",o=t.find(function(e){return e.name===a});o||(o=t.addShape("circle",{id:e.id+"_edge_animate_point_",name:a,attrs:lt({x:n.x,y:n.y},Ve.lineAnimate.style.default)})),o.animate({onFrame:function(e){var t=i.getPoint(e);if(t)return{x:t.x,y:t.y}},repeat:!0},Ve.lineAnimate.delay)}},dt=function(e,t){var i=t.findAll(function(e){return e._cfg&&"edgeAnimatePoint"===e._cfg.name});i.forEach(function(e){e.remove&&e.remove()})},ut={drawAnchor:qe,setAnchorActive:Ke,updateAnchor:Je,drawShapeControl:it,setShapeControlActive:nt,updateShapeControl:at,setLineActive:ot,updateLine:rt,drawLineAnimate:ct,destroyLineAnimate:dt};function ht(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function gt(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ht(i,!0).forEach(function(t){Object(s["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ht(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var ft={name:"node-control",options:{getDefaultCfg:function(){return{config:{updateEdge:!0,nodeLabel:!0,edgeLabel:!0,tooltip:{shapeControl:!0,dragNode:!0}}}},getEvents:function(){return{"editor:addNode":"startAddNode","node:mousedown":"onNodeMousedown","node:mouseup":"onNodeMouseup","node:dblclick":"onNodeDblclick","canvas:mouseenter":"onCanvasMouseenter","canvas:mouseleave":"onCanvasMouseleave","edge:mousedown":"onEdgeMousedown","edge:mouseup":"onEdgeMouseup","edge:dblclick":"onEdgeDblclick",mousemove:"onMousemove",mouseup:"onMouseup"}},startAddNode:function(e){var t=this;t.info={type:"dragNode",node:e,target:null},t.dragNode.status="dragNodeToEditor"},onNodeMousedown:function(e){var t=this,i=e.item.getModel();if(t.graph.emit("editor:getItem",{type:"node",id:i.id,model:i}),t.info={type:null,node:e.item,target:e.target},t.info.target&&t.info.target._attrs.name)switch(t.info.target._attrs.name){case"anchor":t.info.type="drawLine";break;case"shapeControlPoint":t.info.type="shapeControl";break}else t.info.type="dragNode";t.info&&t.info.type&&t[t.info.type].start.call(t,e)},onNodeMouseup:function(e){var t=this;t.info&&t.info.type&&t[t.info.type].stop.call(t,e)},onNodeDblclick:function(e){var t=this;t.config.nodeLabel&&t.nodeLabel.create.call(t,e)},onCanvasMouseenter:function(e){var t=this;t.info&&"dragNode"===t.info.type&&t[t.info.type].createDottedNode.call(t,e)},onCanvasMouseleave:function(e){var t=this;t.info&&"dragNode"===t.info.type&&t[t.info.type].stop.call(t,e)},onEdgeMousedown:function(e){var t=this,i=e.item.getModel();t.graph.emit("editor:getItem",{type:"edge",id:i.id,model:i})},onEdgeMouseup:function(e){var t=this;t.info&&"drawLine"===t.info.type&&t[t.info.type].stop.call(t,e)},onEdgeDblclick:function(e){var t=this;t.config.edgeLabel&&t.edgeLabel.create.call(t,e)},onMousemove:function(e){var t=this;t.info&&t.info.type&&t[t.info.type].move.call(t,e)},onMouseup:function(e){var t=this;t.info&&"dragNode"===t.info.type&&"dragNodeToEditor"===t.dragNode.status&&t[t.info.type].createNode.call(t,e)},drawLine:{isMoving:!1,currentLine:null,start:function(e){var t,i=this,n=i.info.node.getModel(),a=i.info.node.getAnchorPoints();a&&a.length&&(t=i.info.node.getLinkPoint({x:e.x,y:e.y})),i.drawLine.currentLine=i.graph.addItem("edge",{id:ze.a.Util.uniqueId(),source:n.id,sourceAnchor:t?t.anchorIndex:"",target:{x:e.x,y:e.y},attrs:{},style:gt({stroke:i.graph.$X.lineColor,lineWidth:i.graph.$X.lineWidth},Ve.line.type[i.graph.$X.lineStyle]),shape:i.graph.$X.lineType||"line",startArrow:i.graph.$X.startArrow||!1,endArrow:i.graph.$X.endArrow||!1}),i.drawLine.isMoving=!0},move:function(e){var t=this;t.drawLine.isMoving&&t.drawLine.currentLine&&t.graph.updateItem(t.drawLine.currentLine,{target:{x:e.x,y:e.y}})},stop:function(e){var t=this;if(t.drawLine.isMoving)if(t.drawLine.currentLine===e.item)t.graph.removeItem(e.item);else{var i,n=e.item,a=t.info.node.getModel(),o=n.getModel(),r=n.getAnchorPoints();r&&r.length&&(i=n.getLinkPoint({x:e.x,y:e.y})),t.graph.updateItem(t.drawLine.currentLine,{target:o.id,targetAnchor:i?i.anchorIndex:"",attrs:{start:a.id,end:o.id}})}t.drawLine.currentLine=null,t.drawLine.isMoving=!1,t.info=null}},shapeControl:{isMoving:!1,startPoint:null,start:function(e){var t=this,i=t.info.node.getModel();t.shapeControl.startPoint={x:i.x,y:i.y,size:i.size||[]},t.shapeControl.isMoving=!0,t.config.tooltip.shapeControl&&t.toolTip.create.call(t,{left:i.x,top:i.y+i.height/2},"X: ".concat(i.x.toFixed(2)," Y: ").concat(i.y.toFixed(2),"<br>W: ").concat(i.size[0].toFixed(2)," H: ").concat(i.size[1].toFixed(2)))},move:function(e){var t=this;if(t.info.node&&t.info.target&&t.shapeControl.startPoint&&t.shapeControl.isMoving){var i=t.info.node.getModel(),n=t.info.target._attrs,a=n.position,o={x:t.shapeControl.startPoint.x,y:t.shapeControl.startPoint.y,size:Object(Fe["a"])(i.size)},r=i.width,s=i.height;if(a){var l={};if(0===a.x){if(0===a.y){if(l={x:t.shapeControl.startPoint.x+r/2,y:t.shapeControl.startPoint.y+s/2},o.size[0]=Math.abs(l.x-e.x),o.size[1]=Math.abs(l.y-e.y),o.x=e.x+o.size[0]/2,o.y=e.y+o.size[1]/2,e.x>t.shapeControl.startPoint.x||e.y>t.shapeControl.startPoint.y||o.size[0]<t.minWidth||o.size[1]<t.minHeight)return}else if(1===a.y&&(l={x:t.shapeControl.startPoint.x+r/2,y:t.shapeControl.startPoint.y-s/2},o.size[0]=Math.abs(l.x-e.x),o.size[1]=Math.abs(l.y-e.y),o.x=e.x+o.size[0]/2,o.y=e.y-o.size[1]/2,e.x>t.shapeControl.startPoint.x||e.y<t.shapeControl.startPoint.y||o.size[0]<t.minWidth||o.size[1]<t.minHeight))return}else if(1===a.x)if(0===a.y){if(l={x:t.shapeControl.startPoint.x-r/2,y:t.shapeControl.startPoint.y+s/2},o.size[0]=Math.abs(l.x-e.x),o.size[1]=Math.abs(l.y-e.y),o.x=e.x-o.size[0]/2,o.y=e.y+o.size[1]/2,e.x<t.shapeControl.startPoint.x||e.y>t.shapeControl.startPoint.y||o.size[0]<t.minWidth||o.size[1]<t.minHeight)return}else if(1===a.y&&(l={x:t.shapeControl.startPoint.x-r/2,y:t.shapeControl.startPoint.y-s/2},o.size[0]=Math.abs(l.x-e.x),o.size[1]=Math.abs(l.y-e.y),o.x=e.x-o.size[0]/2,o.y=e.y-o.size[1]/2,e.x<t.shapeControl.startPoint.x||e.y<t.shapeControl.startPoint.y||o.size[0]<t.minWidth||o.size[1]<t.minHeight))return}t.info.attrs=gt({},o,{width:o.size[0],height:o.size[1]}),t.config.tooltip.shapeControl&&t.toolTip.update.call(t,{left:o.x,top:o.y+o.size[1]/2},"X: ".concat(o.x.toFixed(2)," Y: ").concat(o.y.toFixed(2),"<br>W: ").concat(o.size[0].toFixed(2)," H: ").concat(o.size[1].toFixed(2)));var c=t.info.node.getContainer();ut.updateAnchor(gt({},t.info.node.getModel(),{width:o.size[0],height:o.size[1]}),c),ut.updateShapeControl(gt({},t.info.node.getModel(),{width:o.size[0],height:o.size[1]}),c),t.graph.updateItem(t.info.node,o),t.config.updateEdge&&ut.updateLine(t.info.node,t.graph)}},stop:function(e){var t=this;if(t.info.node&&t.info.attrs&&t.shapeControl.startPoint&&t.shapeControl.isMoving){var i=t.info.attrs,n=t.info.node.getContainer();ut.updateAnchor(gt({},t.info.node.getModel(),{width:i.size[0],height:i.size[1]}),n),ut.updateShapeControl(gt({},t.info.node.getModel(),{width:i.size[0],height:i.size[1]}),n),t.graph.updateItem(t.info.node,i)}t.config.tooltip.shapeControl&&t.toolTip.destroy.call(t),t.shapeControl.startPoint=null,t.shapeControl.isMoving=!1,t.info=null}},dragNode:{dottedNode:null,status:null,dottedNodeStyle:gt({},Ve.dottedNode.style.default),createDottedNode:function(e){var t=this;if(!t.dragNode.dottedNode&&t.info.node){var i=t.info.node,n=i.width,a=i.height,o=t.graph.get("group");t.dragNode.dottedNode=o.addShape("rect",{attrs:gt({},t.dragNode.dottedNodeStyle,{width:n,height:a,x:e.x-n/2,y:e.y-a/2})}),t.graph.paint(),t.config.tooltip.dragNode&&t.toolTip.create.call(t,{left:e.clientX,top:e.clientX},"X: ".concat(e.x.toFixed(2)," Y: ").concat(e.y.toFixed(2),"<br>W: ").concat(n.toFixed(2)," H: ").concat(a.toFixed(2)))}},createNode:function(e){var t=this;if(t.dragNode.dottedNode&&t.info.node){var i=t.info.node,n=i.width,a=i.height,o=gt({},t.info.node,{id:ze.a.Util.uniqueId(),x:e.x,y:e.y,size:[n,a],style:gt({fill:t.graph.$X.fill,stroke:t.graph.$X.lineColor,lineWidth:t.graph.$X.lineWidth},Ve.line.type[t.graph.$X.lineStyle])});t.graph.addItem("node",o),t.dragNode.clear.call(t),t.config.tooltip.dragNode&&t.toolTip.destroy.call(t),t.graph.paint()}},start:function(e){var t=this;if(t.config.tooltip.dragNode){var i=t.info.node.getModel(),n=i.width,a=i.height;t.toolTip.create.call(t,{left:e.clientX,top:e.clientY+a/2},"X: ".concat(e.x.toFixed(2)," Y: ").concat(e.y.toFixed(2),"<br>W: ").concat(n.toFixed(2)," H: ").concat(a.toFixed(2)))}t.dragNode.status="dragNode"},move:function(e){var t=this;if("dragNodeToEditor"===t.dragNode.status){if(t.dragNode.dottedNode&&t.info.node){var i=t.info.node,n=i.width,a=i.height;t.dragNode.dottedNode.attr({x:e.x-n/2,y:e.y-a/2}),t.graph.paint(),t.config.tooltip.dragNode&&t.toolTip.update.call(t,{left:e.clientX,top:e.clientY+a/2},"X: ".concat(e.x.toFixed(2)," Y: ").concat(e.y.toFixed(2),"<br>W: ").concat(n.toFixed(2)," H: ").concat(a.toFixed(2)))}}else if("dragNode"===t.dragNode.status&&t.info.node){var o={x:e.x,y:e.y};if(t.graph.updateItem(t.info.node,o),t.config.updateEdge&&ut.updateLine(t.info.node,t.graph),t.config.tooltip.dragNode){var r=t.info.node.getModel(),s=r.width,l=r.height;t.toolTip.update.call(t,{left:e.clientX,top:e.clientY+l/2},"X: ".concat(e.x.toFixed(2)," Y: ").concat(e.y.toFixed(2),"<br>W: ").concat(s.toFixed(2)," H: ").concat(l.toFixed(2)))}}},stop:function(e){var t=this;t.dragNode.clear.call(t),t.config.tooltip.dragNode&&t.toolTip.destroy.call(t),t.graph.paint()},clear:function(){var e=this;e.dragNode.dottedNode&&(e.dragNode.dottedNode.remove(),e.dragNode.dottedNode=null),e.dragNode.status=null,e.info=null}},nodeLabel:{create:function(e){var t=this,i=t.graph.get("canvas"),n=e.item,a=n.getModel(),o=a.id,r=a.label,s=a.width,l=a.height,c=i.get("el"),d=ze.a.Util.createDom('<input id="'.concat(o,'" class="node-label" autofocus value="').concat(r,'"></input>'));d&&(c.parentNode.appendChild(d),d.focus&&d.focus(),ze.a.Util.modifyCSS(d,{display:"inline-block",position:"absolute",left:e.clientX-s/2+"px",top:e.clientY-l/2+"px",width:s+"px",height:l+"px",lineHeight:l+"px",textAlign:"center",overflow:"hidden",fontSize:"14px"}),d.addEventListener("blur",function(){t.graph.updateItem(n,{label:d.value,labelCfg:{style:{fontSize:16,stroke:"#000000"}}}),c.parentNode.removeChild(d)}))}},edgeLabel:{create:function(e){var t,i,n=this,a=n.graph.get("canvas"),o=e.item,r=o.getModel(),s=r.id,l=r.label,c=r.source,d=r.sourceAnchor,u=r.target,h=r.targetAnchor,g=n.graph.findById(c),f=n.graph.findById(u),p=g.getAnchorPoints(),v=f.getAnchorPoints(),y=p[d],m=v[h],b=40,x=100,w=40,k=20,P=Math.abs(m.x-y.x);P<b&&(w=b),P>x&&(w=x),t=y.x<m.x?y.x+P/2-w/2+"px":m.x+P/2-w/2+"px",i=y.y<m.y?y.y+Math.abs(m.y-y.y)/2-k/2+"px":m.y+Math.abs(m.y-y.y)/2-k/2+"px";var C=a.get("el"),O=ze.a.Util.createDom('<input id="'.concat(s,'" class="edge-label" autofocus value="').concat(l,'"></input>'));O&&(C.parentNode.appendChild(O),O.focus&&O.focus(),ze.a.Util.modifyCSS(O,{display:"inline-block",position:"absolute",left:t,top:i,width:w+"px",height:k+"px",lineHeight:k+"px",textAlign:"center",overflow:"hidden",fontSize:"14px"}),O.addEventListener("blur",function(){n.graph.updateItem(o,{label:O.value,labelCfg:{position:"center",style:{fontSize:16,stroke:"#000000"}}}),C.parentNode.removeChild(O)}))}},toolTip:{currentTip:null,create:function(e,t){var i=this;if(i.toolTip.currentTip)console.warn("Editor Warn:: can't creat tootip when currentTip not null!");else{var n=i.graph.get("canvas"),a=n.get("el");i.toolTip.currentTip=ze.a.Util.createDom('<div class="tooltip">'.concat(t,"</div>")),i.toolTip.currentTip&&(a.parentNode.appendChild(i.toolTip.currentTip),ze.a.Util.modifyCSS(i.toolTip.currentTip,{display:"inline-block",position:"absolute",left:e.left+"px",top:e.top+"px",padding:"5px 10px",width:"160px",marginTop:"10px",marginLeft:"-80px",background:"#F2F2F2",color:"#444444",border:"1px solid #D1D1D1",textAlign:"center",overflow:"hidden",fontSize:"14px"}))}},update:function(e,t){var i=this;i.toolTip.currentTip&&(i.toolTip.currentTip.innerHTML=t,ze.a.Util.modifyCSS(i.toolTip.currentTip,{left:e.left+"px",top:e.top+"px"}))},destroy:function(){var e=this;if(e.toolTip.currentTip){var t=e.graph.get("canvas"),i=t.get("el");i.parentNode.removeChild(e.toolTip.currentTip),e.toolTip.currentTip=null}}}}},pt={nodeControl:ft},vt=function(e){Object.values(pt).map(function(t){e.registerBehavior(t.name,t.options)})};function yt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function mt(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?yt(i,!0).forEach(function(t){Object(s["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):yt(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var bt={draw:function(e,t){var i=e.startPoint,n=e.endPoint,a=t.addShape("path",{className:"edge-shape",attrs:mt({},e,{path:[["M",i.x,i.y],["L",n.x,n.y]]})});return a},setState:function(e,t,i){ut.setLineActive(e,t,i)}};function xt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function wt(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?xt(i,!0).forEach(function(t){Object(s["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):xt(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var kt={name:"x-line",extendName:"line",options:wt({},bt)};function Pt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function Ct(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Pt(i,!0).forEach(function(t){Object(s["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Pt(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var Ot={name:"x-cubic",extendName:"cubic",options:Ct({},bt)},St=(i("20d6"),function(e,t,i,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10,o=e&&e.getBBox?e.getBBox():Lt(i),r=t&&t.getBBox?t.getBBox():Lt(n),s=Mt(o,a),l=Mt(r,a),c=It(s,i),d=It(l,n),u=At(s,l,c,d);Nt(u,s),Nt(u,l);var h=Ft(u,c,d,s,l);return h}),Lt=function(e){return{centerX:e.x,centerY:e.y,minX:e.x,minY:e.y,maxX:e.x,maxY:e.y,height:0,width:0}},Mt=function(e,t){return 0===e.width&&0===e.height?e:{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}},It=function(e,t){return Math.abs(t.x-e.centerX)/e.width>Math.abs(t.y-e.centerY)/e.height?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}},At=function(e,t,i,n){var a=Et(i,n),o=Dt(e,t),r=Dt(e,a),s=Dt(t,a),l=[].concat(Object(Fe["a"])(jt(r)),Object(Fe["a"])(jt(s)),Object(Fe["a"])(jt(o))),c={x:o.centerX,y:o.centerY},d=[o,r,s,a];return d.forEach(function(e){l=[].concat(Object(Fe["a"])(l),Object(Fe["a"])(_t(e,c)))}),l.push({x:i.x,y:n.y}),l.push({x:n.x,y:i.y}),l},Et=function(e,t){var i=Math.min(e.x,t.x),n=Math.max(e.x,t.x),a=Math.min(e.y,t.y),o=Math.max(e.y,t.y);return{centerX:(i+n)/2,centerY:(a+o)/2,maxX:n,maxY:o,minX:i,minY:a,height:o-a,width:n-i}},Dt=function(e,t){var i=Math.min(e.minX,t.minX),n=Math.min(e.minY,t.minY),a=Math.max(e.maxX,t.maxX),o=Math.max(e.maxY,t.maxY);return{centerX:(i+a)/2,centerY:(n+o)/2,minX:i,minY:n,maxX:a,maxY:o,height:o-n,width:a-i}},jt=function(e){return[{x:e.minX,y:e.minY},{x:e.maxX,y:e.minY},{x:e.maxX,y:e.maxY},{x:e.minX,y:e.maxY}]},_t=function(e,t){var i=[];return t.x<e.minX||t.x>e.maxX||(i=[].concat(Object(Fe["a"])(i),[{x:t.x,y:e.minY},{x:t.x,y:e.maxY}])),t.y<e.minY||t.y>e.maxY||(i=[].concat(Object(Fe["a"])(i),[{x:e.minX,y:t.y},{x:e.maxX,y:t.y}])),i},Nt=function(e,t){return e.filter(function(e){return e.x<=t.minX||e.x>=t.maxX||e.y<=t.minY||e.y>=t.maxY})},Bt=function(e,t,i){for(var n=0;n<e.length;n++){var a=e[n];if(t.x===i.x&&a.minX<t.x&&a.maxX>t.x){if(t.y<a.maxY&&i.y>=a.maxY||i.y<a.maxY&&t.y>=a.maxY)return!0}else if(t.y===i.y&&a.minY<t.y&&a.maxY>t.y&&(t.x<a.maxX&&i.x>=a.maxX||i.x<a.maxX&&t.x>=a.maxX))return!0}return!1},Tt=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},Ft=function(e,t,i,n,a){var o=[t],r=[];e.forEach(function(e){e.id=e.x+"-"+e.y});var s,l=[];e.forEach(function(e){l.includes(function(t){return t.id===e.id})||l.push(e)}),e=[].concat(l,[i]);var c=function(){var t=void 0;if(o.forEach(function(e,i){e.parent||(e.f=0),t||(t=e),e.f<t.f&&(t=e)}),t.x===i.x&&t.y===i.y)return s=t,"break";o.splice(o.findIndex(function(e){return e.x===t.x&&e.y===t.y}),1),r.push(t);var l=e.filter(function(e){return(e.x===t.x||e.y===t.y)&&!(e.x===t.x&&e.y===t.y)&&!Bt([n,a],t,e)});l.forEach(function(e){var n=o.find(function(t){return t.x===e.x&&t.y===e.y}),s=Tt(e,t);if(!r.find(function(t){return t.x===e.x&&t.y===e.y}))if(n)e.g>s&&(e.parent=t,e.g=s,e.f=e.g+e.h);else{e.parent=t,e.g=s;var l=Tt(e,i);Bt([a],e,i)&&(l+=a.width/2+a.height/2),e.h=l,e.f=e.g+e.h,o.push(e)}})};while(o.length>0){var d=c();if("break"===d)break}if(s){var u=[];u.push({x:s.x,y:s.y});while(s.parent)s=s.parent,u.push({x:s.x,y:s.y});return u.reverse()}return[]};function Xt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function zt(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Xt(i,!0).forEach(function(t){Object(s["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Xt(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var $t={name:"x-broken",extendName:"single-line",options:zt({},bt,{draw:function(e,t){var i=e.startPoint,n=e.endPoint,a=this.getControlPoints(e),o=[i];a&&o.push(a),o.push(n);var r=this.getPath(o),s=t.addShape("path",{className:"edge-shape",attrs:zt({},e,{path:r})});return s},getPath:function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];if(0===i)t.push(["M",n.x,n.y]);else if(i===e.length-1)t.push(["L",n.x,n.y]);else{var a=e[i-1],o=e[i+1],r=5;(Math.abs(n.y-a.y)>r||Math.abs(n.x-a.x)>r)&&(a.x===n.x?t.push(["L",n.x,n.y>a.y?n.y-r:n.y+r]):a.y===n.y&&t.push(["L",n.x>a.x?n.x-r:n.x+r,n.y]));var s=Math.abs(n.y-o.y),l=Math.abs(n.x-o.x);s>0&&s<r?r=s:l>0&&l<r&&(r=l),a.x!==o.x&&o.x===n.x?t.push(["Q",n.x,n.y,n.x,n.y>o.y?n.y-r:n.y+r]):a.y!==o.y&&o.y===n.y&&t.push(["Q",n.x,n.y,n.x>o.x?n.x-r:n.x+r,n.y])}}return t},getControlPoints:function(e){return e.sourceNode?St(e.sourceNode,e.targetNode,e.startPoint,e.endPoint,25):e.controlPoints}})},Yt={line:kt,cubic:Ot,broken:$t},Ut=function(e){Object.values(Yt).map(function(t){e.registerEdge(t.name,t.options,t.extendName)})},Wt=i("9ed2"),Rt=i.n(Wt),Ht=i("1bb5"),Vt=i.n(Ht),Zt={setState:function(e,t,i){ut.setAnchorActive(e,t,i),ut.setShapeControlActive(e,t,i)},afterDraw:function(e,t){ut.drawAnchor(e,t),ut.drawShapeControl(e,t)}};function Qt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function Gt(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Qt(i,!0).forEach(function(t){Object(s["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Qt(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var qt={name:"rectangle",extendName:"single-shape",options:Gt({},Zt,{shapeType:"rect",drawShape:function(e,t){var i=this.shapeType,n=this.getShapeStyle(e),a=t.addShape(i,{attrs:n});return a},getShapeStyle:function(e){var t=this.getSize(e),i=t[0],n=t[1],a=e.color||Rt.a.defaultNode.color,o=Vt.a.mix({},Rt.a.defaultNode.style,{x:0-i/2,y:0-n/2,width:i,height:n,stroke:a},e.style);return o}})};function Kt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function Jt(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Kt(i,!0).forEach(function(t){Object(s["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Kt(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var ei={name:"square",extendName:"single-shape",options:Jt({},Zt,{shapeType:"rect",drawShape:function(e,t){var i=this.shapeType,n=this.getShapeStyle(e),a=t.addShape(i,{attrs:n});return a},getShapeStyle:function(e){var t=this.getSize(e),i=t[0],n=t[1],a=e.color||Rt.a.defaultNode.color,o=Vt.a.mix({},Rt.a.defaultNode.style,{x:0-i/2,y:0-n/2,width:i,height:n,stroke:a},e.style);return o}})};function ti(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function ii(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ti(i,!0).forEach(function(t){Object(s["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ti(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var ni={name:"circle",extendName:"circle",options:ii({},Zt,{shapeType:"circle",getShapeStyle:function(e){var t=this.getSize(e),i=e.color||Rt.a.defaultNode.color,n=Vt.a.mix({},{x:0,y:0,r:t[0]/2,stroke:i},Rt.a.defaultNode.style,e.style);return n}})};function ai(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function oi(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ai(i,!0).forEach(function(t){Object(s["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ai(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var ri={name:"ellipse",extendName:"ellipse",options:oi({},Zt,{shapeType:"ellipse",getShapeStyle:function(e){var t=this.getSize(e),i=t[0]/2,n=t[1]/2,a=e.color||Rt.a.defaultNode.color,o=Vt.a.mix({},{x:0,y:0,rx:i,ry:n,stroke:a},Rt.a.defaultNode.style,e.style);return o}})},si={rectangle:qt,square:ei,circle:ni,ellipse:ri},li=function(e){Object.values(si).map(function(t){e.registerNode(t.name,t.options,t.extendName)})};Te.a.$C=Ve,vt(Te.a),Ut(Te.a),li(Te.a);var ci=Te.a,di=i("027f"),ui=i.n(di),hi=i("3820"),gi=i.n(hi),fi=i("93bf"),pi=i.n(fi);function vi(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function yi(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?vi(i,!0).forEach(function(t){Object(s["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):vi(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var mi={name:"MaterialsEditor",components:{ToolBar:X,Sketchpad:R,PanelLeft:pe,PanelRight:Ne},data:function(){return{editorInfo:{},defInfo:{status:"add"},editor:null,isFullScreen:!1,clipboard:{data:null,count:0}}},computed:yi({},Object(l["b"])(["currentItem"])),methods:{init:function(){var e=this,t=e.$el,i=t.querySelector("#sketchpad"),n=t.querySelector("#navigator");console.log("sketchpad",i,i.clientWidth,i.clientHeight),console.log("navigator",n,n.clientWidth,n.clientHeight);var a=[n.clientWidth,parseInt(n.clientWidth*i.clientHeight/i.clientWidth)];console.log("size",a);var o=new ui.a({container:n,type:"delegate",size:a}),r=new gi.a;e.editor=new ci.Graph({plugins:[o,r],container:i,width:i.clientWidth,height:i.clientHeight,fitViewPadding:20,modes:{edit:["zoom-canvas","drag-canvas","click-select",{type:"node-control",updateEdge:!0,enableNodeLabel:!0,enableEdgeLabel:!0}],preview:["drag-canvas","zoom-canvas"]},nodeStyle:{default:{fill:"#FFFFFF",fillOpacity:1,stroke:"#000000",strokeOpacity:1,cursor:"move"},active:{},selected:{},hover:{}},edgeStyle:{default:{stroke:"#000000",strokeOpacity:1,lineAppendWidth:10,cursor:"pointer"}}}),e.editor.$X=yi({},j.$X),e.editor.$C=ci.$C,e.editor.setMode("edit"),e.editor.on("canvas:mousedown",e._canvasMousedown),e.editor.on("canvas:mouseup",e._canvasMouseup),e.editor.on("node:mousedown",e._nodeMousedown),e.editor.on("node:mouseover",e._nodeHover),e.editor.on("node:mouseout",e._nodeOut),e.editor.on("edge:mousedown",e._edgeMousedown),e.editor.on("editor:getItem",function(t){console.log("editor:getItem",JSON.stringify(t)),e.$store.commit("editor/currentItem/update",t)}),e.editor.on("editor:setItem",function(t){console.log("editor:setItem",JSON.stringify(t));var i=e.editor.findById(t.id);i&&(e.editor.updateItem(i,t.model),e.editor.paint())})},_canvasMousedown:function(){var e=this;console.log("_canvasMousedown "),e.doClearAllStates()},_canvasMouseup:function(){console.log("_canvasMouseup")},_editorClick:function(e){console.log("_editorClick",e)},_nodeClick:function(e){console.log("_nodeClick",e)},_nodeMousedown:function(e){var t=this;t.doClearAllStates(),e.item.hasState("active")||t.editor.setItemState(e.item,"active",!0)},_nodeHover:function(e){var t=this;t.editor.setItemState(e.item,"hover",!0)},_nodeOut:function(e){var t=this;t.editor.setItemState(e.item,"hover",!1)},_nodeContextmenu:function(e){console.log("_nodeContextmenu",e)},_edgeMousedown:function(e){var t=this;t.doClearAllStates(),console.log("_edgeMousedown",e),e.item&&!e.item.destroyed&&t.editor.setItemState(e.item,"active",!e.item.hasState("active"))},doClearAllStates:function(){var e=this;e.editor&&(e.editor.setAutoPaint(!1),e.editor.getNodes().forEach(function(t){e.editor.clearItemStates(t)}),e.editor.getEdges().forEach(function(t){e.editor.clearItemStates(t)}),e.editor.paint(),e.editor.setAutoPaint(!0))},doCopy:function(){var e=this;e.currentItem&&"node"===e.currentItem.type&&(e.clipboard={data:e.currentItem,count:0})},doPaste:function(){var e=this,t=e.clipboard.data;if(e.clipboard.count++,console.log("item",t),t&&"node"===t.type){var i=yi({},t.model,{id:ci.Util.uniqueId(),x:t.model.x+10*e.clipboard.count,y:t.model.y+10*e.clipboard.count});e.editor.addItem("node",i)}},doZoom:function(e,t){var i,n=this,a=1;if(t)i=t;else{var o=n.$el,r=o.querySelector("#sketchpad");i={x:r.clientWidth/2,y:r.clientHeight/2}}if("zoom"===e.name)n.editor.zoomTo(e.data,i);else if(["zoomIn","zoomOut"].includes(e.name)){var s=n.editor.getZoom(),l=.1;a="zoomOut"===e.name?s-l:s+l,a=a.toFixed(1),n.editor.zoomTo(a,i)}else"actualSize"===e.name&&(a=1,n.editor.zoomTo(a,i))},doAddNode:function(e){var t=this;console.log("doAddNode",e);var i={id:ci.Util.uniqueId(),shape:e.shape,label:"",labelCfg:{position:"center",style:{fontSize:14}},width:e.width,height:e.height,anchorPoints:e.anchorPoints,shapeControl:e.shapeControl};t.editor.emit("editor:addNode",i)},handleToolTrigger:function(e){var t=this;switch(e.name){case"copy":t.doCopy();break;case"paste":t.doPaste();break;case"zoom":case"zoomIn":case"zoomOut":case"actualSize":t.doZoom(e);break;case"fit":t.editor.fitView();break;case"preview":t.editor.setMode("preview");break;case"edit":t.editor.setMode("edit");break;case"fill":t.editor.$X.fill=e.data,t.editor.getNodes().forEach(function(i){if(i.hasState("active")){var n=i.getModel(),a=n.style;t.editor.updateItem(i,{style:yi({},a,{fill:e.data})})}});break;case"lineColor":t.editor.$X.lineColor=e.data,t.editor.getEdges().forEach(function(i){if(i.hasState("active")){var n=i.getModel(),a=n.style;t.editor.updateItem(i,{style:yi({},a,{stroke:e.data})})}}),t.editor.getNodes().forEach(function(i){if(i.hasState("active")){var n=i.getModel(),a=n.style;t.editor.updateItem(i,{style:yi({},a,{stroke:e.data})})}});break;case"lineWidth":t.editor.$X.lineWidth=e.data,t.editor.getEdges().forEach(function(i){if(i.hasState("active")){var n=i.getModel(),a=n.style;t.editor.updateItem(i,{style:yi({},a,{lineWidth:e.data})})}}),t.editor.getNodes().forEach(function(i){if(i.hasState("active")){var n=i.getModel(),a=n.style;t.editor.updateItem(i,{style:yi({},a,{lineWidth:e.data})})}});break;case"lineStyle":var i=t.editor.$C.line;t.editor.$X.lineStyle=e.data,t.editor.getEdges().forEach(function(n){if(n.hasState("active")){var a=n.getModel(),o=a.style;t.editor.updateItem(n,{style:yi({},o,{},i.type[e.data])})}}),t.editor.getNodes().forEach(function(n){if(n.hasState("active")){var a=n.getModel(),o=a.style;t.editor.updateItem(n,{style:yi({},o,{},i.type[e.data])})}});break;case"lineType":t.editor.$X.lineType=e.data,t.editor.getEdges().forEach(function(i){i.hasState("active")&&t.editor.updateItem(i,{shape:e.data})});break;case"startArrow":case"endArrow":t.editor.$X[e.name]=e.data,t.editor.getEdges().forEach(function(i){if(i.hasState("active")){var n=i.getModel(),a=n.style;t.editor.updateItem(i,{style:yi({},a,Object(s["a"])({},e.name,e.data))})}});break;case"clear":console.log("_t.$Modal",t.$Modal),t.$Modal.confirm({title:t.$t("L10200"),content:t.$t("L10201"),onOk:function(){t.editor.clear(),t.editor.paint()}});break;case"toFront":case"toBack":if(e.data.hasOwnProperty("id")&&e.data.id){var n=t.editor.findById(e.data.id);n&&n[e.name]&&(n[e.name](),t.editor.paint())}break;case"fullscreen":pi.a.enabled&&pi.a.toggle();break}},initInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;t.editorInfo=yi({},t.defInfo,{},e)},ondblclickPad:function(){var e=this;e.$X.utils.bus.$emit("editor/pad/dblclick")}},created:function(){var e=this;e.initInfo(),e.$nextTick(e.init),e.$X.utils.bus.$on("editor/add/node",e.doAddNode),e.$X.utils.bus.$on("editor/tool/trigger",e.handleToolTrigger),e.$X.utils.bus.$on("editor/currentItem/update",function(t){e.editor.emit("editor:setItem",t)})}},bi=mi,xi=(i("a631"),Object(p["a"])(bi,o,r,!1,null,"63317461",null)),wi=xi.exports,ki={name:"App",components:{Editor:wi},created:function(){document.oncontextmenu=function(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}}},Pi=ki,Ci=Object(p["a"])(Pi,n,a,!1,null,"6401afae",null);t["a"]=Ci.exports},"47e5":function(e,t,i){var n=i("b0b3"),a=i("15da"),o=a.vec2;e.exports={getSpline:function(e){for(var t=[],i=0;i<e.length;i++){var a=e[i];t.push(a.x),t.push(a.y)}var o=n.PathUtil.catmullRomToBezier(t);return o.unshift(["M",e[0].x,e[0].y]),o},getControlPoint:function(e,t,i,n){var a={x:(1-i)*e.x+i*t.x,y:(1-i)*e.y+i*t.y},r=[];o.normalize(r,[t.x-e.x,t.y-e.y]);var s=[-r[1]*n,r[0]*n];return a.x+=s[0],a.y+=s[1],a}}},"4aff":function(e,t,i){var n=i("3536"),a=Math.abs,o=10,r=document.body;e.exports={getDefaultCfg:function(){return{direction:"both"}},getEvents:function(){return{"canvas:mousedown":"onMouseDown","canvas:mousemove":"onMouseMove","canvas:mouseup":"onMouseUp","canvas:click":"onMouseUp","canvas:mouseleave":"onOutOfRange"}},updateViewport:function(e){var t=this.origin,i=+e.clientX,n=+e.clientY;if(!isNaN(i)&&!isNaN(n)){var a=i-t.x,o=n-t.y;"x"===this.get("direction")?o=0:"y"===this.get("direction")&&(a=0),this.origin={x:i,y:n},this.graph.translate(a,o),this.graph.paint()}},onMouseDown:function(e){this.origin={x:e.clientX,y:e.clientY},this.dragging=!1},onMouseMove:function(e){e=n.cloneEvent(e);var t=this.graph;if(this.origin){if(this.origin&&!this.dragging){if(a(this.origin.x-e.clientX)+a(this.origin.y-e.clientY)<o)return;this.shouldBegin.call(this,e)&&(e.type="dragstart",t.emit("canvas:dragstart",e),this.dragging=!0)}this.dragging&&(e.type="drag",t.emit("canvas:drag",e)),this.shouldUpdate.call(this,e)&&this.updateViewport(e)}},onMouseUp:function(e){if(this.dragging){e=n.cloneEvent(e);var t=this.graph;this.shouldEnd.call(this,e)&&this.updateViewport(e),e.type="dragend",t.emit("canvas:dragend",e),this.endDrag()}else this.origin=null},endDrag:function(){if(this.dragging){this.origin=null,this.dragging=!1;var e=this.fn;e&&(r.removeEventListener("mouseup",e,!1),this.fn=null)}},onOutOfRange:function(e){if(this.dragging){var t=this,i=t.graph.get("canvas").get("el"),n=function(n){n.target!==i&&t.onMouseUp(e)};this.fn=n,r.addEventListener("mouseup",n,!1)}}}},"4d91":function(e,t,i){var n=i("3536");e.exports={getDefaultCfg:function(){return{multiple:!0,keyCode:17}},getEvents:function(){return{"node:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}},onClick:function(e){var t=this,i=e.item,a=t.graph,o=a.get("autoPaint");if(a.setAutoPaint(!1),!t.keydown||!t.multiple){var r=a.findAllByState("node","selected");n.each(r,function(e){e!==i&&a.setItemState(e,"selected",!1)})}i.hasState("selected")?(t.shouldUpdate.call(t,e)&&a.setItemState(i,"selected",!1),a.emit("nodeselectchange",{target:i,select:!1})):(t.shouldUpdate.call(t,e)&&a.setItemState(i,"selected",!0),a.emit("nodeselectchange",{target:i,select:!0})),a.setAutoPaint(o),a.paint()},onCanvasClick:function(){var e=this.graph,t=e.get("autoPaint");e.setAutoPaint(!1);var i=e.findAllByState("node","selected");n.each(i,function(t){e.setItemState(t,"selected",!1)}),e.paint(),e.setAutoPaint(t)},onKeyDown:function(e){var t=e.keyCode||e.which;t===this.keyCode?this.keydown=!0:this.keydown=!1},onKeyUp:function(){this.keydown=!1}}},"4de4":function(e,t,i){"use strict";i("6762"),i("2fdb"),i("7f7f");var n=i("e069"),a=i("c345"),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.type?i("span",{staticClass:"icon iconfont",class:[e.type?"icon-"+e.type:""]}):e._e()},r=[],s={name:"Icon",props:{type:String}},l=s,c=(i("f26a"),i("2877")),d=Object(c["a"])(l,o,r,!1,null,"134c9f88",null),u=d.exports,h=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"tooltipBox",class:{"tooltip-box":!0,hover:e.isShow},on:{mouseover:e.handleMouseOver,mouseout:e.handleMouseOut}},[i("div",{ref:"tooltip",staticClass:"tooltip",style:e.tooltipStyle},[e._t("content",[e._v(e._s(e.content))])],2),i("div",{staticClass:"content"},[e._t("default")],2)])},g=[],f=(i("c5f6"),{name:"Tooltip",props:{content:[String,Number]},data:function(){return{isShow:!1,tooltipStyle:{}}},methods:{handleMouseOver:function(){this.isShow=!0},handleMouseOut:function(){this.isShow=!1}},mounted:function(){var e=this,t=e.$refs.tooltip,i=t.clientWidth?t.clientWidth/-2:0;i&&(e.tooltipStyle={"margin-left":i+"px"})}}),p=f,v=(i("b866"),Object(c["a"])(p,h,g,!1,null,"570be5aa",null)),y=v.exports,m={Menu:n["Menu"],MenuItem:n["MenuItem"],Tooltip:n["Tooltip"],Divider:n["Divider"],ColorPicker:n["ColorPicker"],InputNumber:n["InputNumber"],Dropdown:n["Dropdown"],DropdownMenu:n["DropdownMenu"],DropdownItem:n["DropdownItem"],Icon:n["Icon"],Message:n["Message"],Modal:n["Modal"],Input:n["Input"],Form:n["Form"],FormItem:n["FormItem"],Slider:n["Slider"],Select:n["Select"],Option:n["Option"],SketchPicker:a["Sketch"],XIcon:u,XTooltip:y},b={install:function(e,t){for(var i in m)i&&m[i]&&(e.component(i,m[i]),["Message","Modal"].includes(i)&&(e.prototype["$".concat(i)]=m[i]))}};t["a"]=b},"4de6":function(e,t,i){i("0b21");var n=i("15da"),a=.001,o={isBetween:function(e,t,i){return e>=t&&e<=i},getLineIntersect:function(e,t,i,n){var r={x:i.x-e.x,y:i.y-e.y},s={x:t.x-e.x,y:t.y-e.y},l={x:n.x-i.x,y:n.y-i.y},c=s.x*l.y-s.y*l.x,d=c*c,u=s.x*s.x+s.y*s.y,h=l.x*l.x+l.y*l.y,g=null;if(d>a*u*h){var f=(r.x*l.y-r.y*l.x)/c,p=(r.x*s.y-r.y*s.x)/c;o.isBetween(f,0,1)&&o.isBetween(p,0,1)&&(g={x:e.x+f*s.x,y:e.y+f*s.y})}return g},getRectIntersectByPoint:function(e,t){var i=e.x,n=e.y,a=e.width,r=e.height,s=i+a/2,l=n+r/2,c=[],d={x:s,y:l};c.push({x:i,y:n}),c.push({x:i+a,y:n}),c.push({x:i+a,y:n+r}),c.push({x:i,y:n+r}),c.push({x:i,y:n});for(var u=null,h=1;h<c.length;h++)if(u=o.getLineIntersect(c[h-1],c[h],d,t),u)break;return u},getCircleIntersectByPoint:function(e,t){var i=e.x,n=e.y,a=e.r,o=t.x,r=t.y,s=Math.sqrt(Math.pow(o-i,2)+Math.pow(r-n,2));if(s<a)return null;var l=o-i,c=r-n,d=Math.sign(l),u=Math.sign(c),h=Math.atan(c/l);return{x:i+Math.abs(a*Math.cos(h))*d,y:n+Math.abs(a*Math.sin(h))*u}},getEllispeIntersectByPoint:function(e,t){var i=e.rx,n=e.ry,a=e.x,o=e.y,r=t.x-a,s=t.y-o,l=Math.atan2(s/n,r/i);return l<0&&(l+=2*Math.PI),{x:a+i*Math.cos(l),y:o+n*Math.sin(l)}},applyMatrix:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=[e.x,e.y,i];return n.vec3.transformMat3(a,a,t),{x:a[0],y:a[1]}},invertMatrix:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=n.mat3.invert([],t),o=[e.x,e.y,i];return n.vec3.transformMat3(o,o,a),{x:o[0],y:o[1]}}};e.exports=n.mix({},n,o)},"4e35":function(e,t,i){var n=i("fc74"),a=i("59a1"),o=i("3536"),r=function(){"use strict";function e(t){n(this,e),this.graph=t}return a(e,[{key:"getFormatPadding",value:function(){return o.formatPadding(this.graph.get("fitViewPadding"))}},{key:"_fitView",value:function(){var e=this.getFormatPadding(),t=this.graph,i=t.get("group"),n=t.get("width"),a=t.get("height");i.resetMatrix();var o=i.getBBox(),r=this._getViewCenter(),s={x:o.x+o.width/2,y:o.y+o.height/2};t.translate(r.x-s.x,r.y-s.y);var l=(n-e[1]-e[3])/o.width,c=(a-e[0]-e[2])/o.height,d=l;l>c&&(d=c),t.zoom(d,r)}},{key:"focusPoint",value:function(e){var t=this._getViewCenter(),i=this.getPointByCanvas(t.x,t.y),n=this.graph.get("group").getMatrix();this.graph.translate((i.x-e.x)*n[0],(i.y-e.y)*n[4])}},{key:"getPointByClient",value:function(e,t){var i=this.graph.get("canvas"),n=i.get("pixelRatio"),a=i.getPointByClient(e,t);return this.getPointByCanvas(a.x/n,a.y/n)}},{key:"getClientByPoint",value:function(e,t){var i=this.graph.get("canvas"),n=this.getCanvasByPoint(e,t),a=i.get("pixelRatio"),o=i.getClientByPoint(n.x*a,n.y*a);return{x:o.clientX,y:o.clientY}}},{key:"getPointByCanvas",value:function(e,t){var i=this.graph.get("group").getMatrix(),n=o.invertMatrix({x:e,y:t},i);return n}},{key:"getCanvasByPoint",value:function(e,t){var i=this.graph.get("group").getMatrix();return o.applyMatrix({x:e,y:t},i)}},{key:"focus",value:function(e){if(o.isString(e)&&(e=this.graph.findById[e]),e){var t=e.get("group").getMatrix();this.focusPoint({x:t[6],y:t[7]})}}},{key:"changeSize",value:function(e,t){if(!o.isNumber(e)||!o.isNumber(t))throw Error("invalid canvas width & height");var i=this.graph;i.set({width:e,height:t});var n=this.graph.get("canvas");n.changeSize(e,t)}},{key:"_getViewCenter",value:function(){var e=this.getFormatPadding(),t=this.graph,i=this.graph.get("width"),n=t.get("height");return{x:(i-e[2]-e[3])/2+e[3],y:(n-e[0]-e[2])/2+e[0]}}},{key:"destroy",value:function(){this.graph=null,this.destroyed=!0}}]),e}();e.exports=r},"504f":function(e,t,i){"use strict";var n=i("de95"),a=i.n(n);a.a},5232:function(e,t,i){i("ac6a"),i("c7c6");var n=Math.min,a=Math.max,o=Math.abs,r=Math.hypot;e.exports={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected"}},getEvents:function(){return{mousedown:"onMouseDown",mousemove:"onMouseMove",mouseup:"onMouseUp","canvas:click":"clearStates"}},onMouseDown:function(e){this.selectedNodes&&0!==this.selectedNodes.length&&this.clearStates();var t=this.brush;t||(t=this._createBrush()),this.originPoint={x:e.canvasX,y:e.canvasY},t.attr({width:0,height:0}),t.show(),this.dragging=!0},onMouseMove:function(e){var t=this.originPoint;!this.dragging||r(t.x-e.canvasX,t.y-e.canvasY)<10||(this._updateBrush(e),this.graph.paint())},onMouseUp:function(e){var t=this.graph,i=t.get("autoPaint");t.setAutoPaint(!1),this.brush.hide(),this._getSelectedNodes(e),this.dragging=!1,this.graph.paint(),t.setAutoPaint(i)},clearStates:function(){var e=this.graph,t=e.get("autoPaint");e.setAutoPaint(!1);var i=this.selectedState,n=this.shouldUpdate,a=[],o=this.selectedNodes.filter(function(t){return n(t,"deselect")?(e.setItemState(t,i,!1),!0):(a.push(t),!1)});this.onDeselect&&this.onDeselect(o),this.selectedNodes=a,e.paint(),e.setAutoPaint(t)},_getSelectedNodes:function(e){var t=this.graph,i=this.selectedState,o=this.originPoint,r={x:e.x,y:e.y},s=t.getPointByCanvas(o.x,o.y),l=n(r.x,s.x),c=a(r.x,s.x),d=n(r.y,s.y),u=a(r.y,s.y),h=[],g=this.shouldUpdate;t.getNodes().forEach(function(e){var n=e.getBBox();n.centerX>=l&&n.centerX<=c&&n.centerY>=d&&n.centerY<=u&&g(e,"select")&&(h.push(e),t.setItemState(e,i,!0))}),this.selectedNodes=h,this.onSelect&&this.onSelect(h)},_createBrush:function(){var e=this,t=e.graph.get("canvas").addShape("rect",{attrs:e.brushStyle,capture:!1});return this.brush=t,t},_updateBrush:function(e){var t=this.originPoint;this.brush.attr({width:o(e.canvasX-t.x),height:o(e.canvasY-t.y),x:n(e.canvasX,t.x),y:n(e.canvasY,t.y)})}}},"56d7":function(e,t,i){"use strict";i.r(t),function(e){i("cadf"),i("551c"),i("f751"),i("097d");var t=i("2b0e"),n=i("3dfd"),a=i("c0d6"),o=i("9225"),r=i("a78e"),s=(i("ddb8"),i("bee9")),l=i("4de4"),c=i("f121"),d=(i("dbaa"),e&&!1);t["default"].config.debug=d,t["default"].config.devtools=d,t["default"].config.productionTip=d,t["default"].config.performance=d,t["default"].prototype.$X={isDev:d,utils:s["a"],config:c["a"],Cookies:r};var u=Object(o["a"])(t["default"],"zh-CN");t["default"].use(l["a"]),new t["default"]({i18n:u,store:a["a"],render:function(e){return e(n["a"])}}).$mount("#app")}.call(this,i("f28c"))},5714:function(e,t,i){},"594e":function(e,t,i){},6113:function(e,t){e.exports={getDefaultCfg:function(){return{onChange:function(){}}},getEvents:function(){return{"node:click":"onNodeClick"}},onNodeClick:function(e){var t=e.item,i=this.graph.findDataById(t.get("id")),n=i.children;if(n&&0!==n.length){var a=!i.collapsed;if(this.shouldBegin(e,a)&&(i.collapsed=a,t.getModel().collapsed=a,this.graph.emit("itemcollapsed",{item:e.item,collapsed:a}),this.shouldUpdate(e,a))){try{this.onChange(t,a)}catch(e){console.warn("G6 自 3.0.4 版本支持直接从 item.getModel() 获取源数据(临时通知，将在之后版本清除)",e)}this.graph.refreshLayout()}}}}},"70fd":function(e,t,i){var n=i("fc74"),a=i("59a1");i("ac6a");var o=i("3536"),r=i("00b1");function s(e,t){return o.each(t,function(t){e.indexOf(t)<0&&(o.isString(t)&&(t={type:t}),e.push(t))}),e}function l(e,t){var i=[];return e.forEach(function(e){t.indexOf(e.type)<0&&i.push(e)}),i}var c=function(){"use strict";function e(t){n(this,e),this.graph=t,this.modes=t.get("modes")||{default:[]},this._formatModes(),this.mode=t.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return a(e,[{key:"_formatModes",value:function(){var e=this.modes;o.each(e,function(e){o.each(e,function(t,i){o.isString(t)&&(e[i]={type:t})})})}},{key:"setMode",value:function(e){var t=this.modes,i=this.graph,n=t[e];if(n)return i.emit("beforemodechange",{mode:e}),o.each(this.currentBehaves,function(e){e.unbind(i)}),this._setBehaviors(e),i.emit("aftermodechange",{mode:e}),this.mode=e,this}},{key:"manipulateBehaviors",value:function(e,t,i){var n=this;return o.isArray(e)||(e=[e]),o.isArray(t)?(o.each(t,function(t){n.modes[t]?n.modes[t]=i?s(n.modes[t],e):l(n.modes[t],e):i&&(n.modes[t]=[].concat(e))}),this):(t||(t=this.mode),n.modes[t]=i?s(n.modes[t],e):l(n.modes[t],e),n.setMode(this.mode),this)}},{key:"_setBehaviors",value:function(e){var t,i=this.graph,n=this.modes[e],a=[];o.each(n,function(e){r.getBehavior(e.type)&&(t=new(r.getBehavior(e.type))(e),t&&t.bind(i),a.push(t))}),this.currentBehaves=a}},{key:"destroy",value:function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0}}]),e}();e.exports=c},"726e":function(e,t,i){e.exports={View:i("4e35"),Event:i("0596"),Mode:i("70fd"),Item:i("fd27"),State:i("8ff6")}},"7a7b":function(e,t,i){},"7cea":function(e,t,i){var n=i("3536"),a=i("fab3");e.exports=n.mix({getDefaultCfg:function(){return{item:"node",formatText:function(e){return e.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove"}}},a)},"7d75":function(e,t,i){},"7f206":function(e,t,i){"use strict";var n=i("b9da"),a=i.n(n);a.a},8259:function(e,t,i){i("ac6a"),i("456d");var n=i("fc74"),a=i("59a1"),o=i("6430"),r=i("ffe3"),s=i("37d9"),l=i("3536"),c=i("9aa1"),d="anchorPointsCache",u="bboxCache";function h(e,t){for(var i=0,n=e[0],a=g(e[0],t),o=0;o<e.length;o++){var r=e[o],s=g(r,t);s<a&&(n=r,a=s,i=o)}return n.anchorIndex=i,n}function g(e,t){return(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)}var f=function(e){"use strict";function t(){return n(this,t),o(this,r(t).apply(this,arguments))}return s(t,e),a(t,[{key:"getDefaultCfg",value:function(){return{type:"node",anchors:[],edges:[],status:[]}}},{key:"getEdges",value:function(){return this.get("edges")}},{key:"getInEdges",value:function(){var e=this;return this.get("edges").filter(function(t){return t.get("target")===e})}},{key:"getOutEdges",value:function(){var e=this;return this.get("edges").filter(function(t){return t.get("source")===e})}},{key:"getLinkPointByAnchor",value:function(e){var t=this.getAnchorPoints();return t[e]}},{key:"getLinkPoint",value:function(e){var t,i=this.get("keyShape"),n=i.get("type"),a=this.getBBox(),o=a.centerX,r=a.centerY,s=this.getAnchorPoints();switch(n){case"circle":t=l.getCircleIntersectByPoint({x:o,y:r,r:a.width/2},e);break;case"ellipse":t=l.getEllispeIntersectByPoint({x:o,y:r,rx:a.width/2,ry:a.height/2},e);break;default:t=l.getRectIntersectByPoint(a,e)}var c=t;return s.length&&(c||(c=e),c=h(s,c)),c||(c={x:o,y:r}),c}},{key:"addEdge",value:function(e){this.get("edges").push(e)}},{key:"removeEdge",value:function(e){var t=this.getEdges(),i=t.indexOf(e);i>-1&&t.splice(i,1)}},{key:"clearCache",value:function(){this.set(u,null),this.set(d,null)}},{key:"_isOnlyMove",value:function(e){if(!e)return!1;var t=!l.isNil(e.x),i=!l.isNil(e.y),n=Object.keys(e);return 1===n.length&&(t||i)||2===n.length&&t&&i}},{key:"getAnchorPoints",value:function(){var e=this.get(d);if(!e){e=[];var t=this.get("shapeFactory"),i=this.getBBox(),n=this.get("model"),a=this.getShapeCfg(n),o=t.getAnchorPoints(n.shape,a)||[];l.each(o,function(t,n){var a=l.mix({x:i.minX+t[0]*i.width,y:i.minY+t[1]*i.height},t[2],{index:n});e.push(a)}),this.set(d,e)}return e}}]),t}(c);e.exports=f},"84b1":function(e,t,i){var n=i("9cac"),a=i("3536"),o="-shape",r="-label",s={itemType:"",draw:function(e,t){var i=this.drawShape(e,t);if(i.set("className",this.itemType+o),e.label){var n=this.drawLabel(e,t);n.set("className",this.itemType+r)}return i},drawShape:function(){},drawLabel:function(e,t){var i=e.labelCfg||{},n=this.getLabelStyle(e,i,t),a=t.addShape("text",{attrs:n});return a},getLabelStyleByPosition:function(){},getLabelStyle:function(e,t,i){var o=this.getLabelStyleByPosition(e,t,i);o.text=e.label;var r=this.itemType+"Label",s=n[r]?n[r].style:null,l=a.mix({},s,o,t.style);return l},getShapeStyle:function(e){return e.style},update:function(e,t){var i=t.getContainer(),n=this.itemType+o,a=i.findByClassName(n),s=this.getShapeStyle(e);a.attr(s);var l=this.itemType+r,c=i.findByClassName(l);if(e.label)if(c){var d=e.labelCfg||{},u=this.getLabelStyle(e,d,i);c.resetMatrix(),c.attr(u)}else{var h=this.drawLabel(e,i);h.set("className",l)}else c&&c.remove()},setState:function(e,t,i){var n=i.get("keyShape");if(n){var o=i.getStateStyle(e);if(t)n.attr(o);else{var r=i.getCurrentStatesStyle();a.each(o,function(e,t){r[t]||(r[t]=null)}),n.attr(r)}}}};e.exports=s},"8b64":function(e,t,i){i("8e6e"),i("ac6a"),i("456d");var n=i("c47a");function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(i,!0).forEach(function(t){n(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var r=i("4de6"),s=i("15da"),l=i("9cac"),c=Math.PI,d=Math.sin,u=Math.cos,h=d(c/8),g=u(c/8);function f(e,t){!1!==t(e)&&s.each(e.children,function(e){f(e,t)})}var p={getBBox:function(e,t){var i=e.getBBox(),n={x:i.minX,y:i.minY},a={x:i.maxX,y:i.maxY};if(t){var o=t.getMatrix();n=r.applyMatrix(n,o),a=r.applyMatrix(a,o)}return{minX:n.x,minY:n.y,maxX:a.x,maxY:a.y}},getLoopCfgs:function(e){var t=e.sourceNode||e.targetNode,i=t.get("group").getMatrix(),n=t.getKeyShape().getBBox(),a=e.loopCfg||{},o=a.dist||2*Math.max(n.width,n.height),r=a.position||l.loopPosition,c=Math.max(n.width,n.height)/2,d=(c+o)/c,u=[i[6],i[7]],f=c*h,p=c*g,v=[e.startPoint.x,e.startPoint.y],y=[e.endPoint.x,e.endPoint.y];if(v[0]===y[0]&&v[1]===y[1]){switch(r){case"top":v=[u[0]-f,u[1]-p],y=[u[0]+f,u[1]-p];break;case"top-right":v=[u[0]+f,u[1]-p],y=[u[0]+p,u[1]-f];break;case"right":v=[u[0]+p,u[1]-f],y=[u[0]+p,u[1]+f];break;case"bottom-right":v=[u[0]+p,u[1]+f],y=[u[0]+f,u[1]+p];break;case"bottom":v=[u[0]+f,u[1]+p],y=[u[0]-f,u[1]+p];break;case"bottom-left":v=[u[0]-f,u[1]+p],y=[u[0]-p,u[1]+f];break;case"left":v=[u[0]-p,u[1]+f],y=[u[0]-p,u[1]-f];break;case"top-left":v=[u[0]-p,u[1]-f],y=[u[0]-f,u[1]-p];break;default:v=[u[0]-f,u[1]-p],y=[u[0]+f,u[1]-p]}if(!1===a.clockwise){var m=[v[0],v[1]];v=[y[0],y[1]],y=[m[0],m[1]]}}var b=[v[0]-u[0],v[1]-u[1]],x=s.vec2.scale([],b,d),w=[u[0]+x[0],u[1]+x[1]],k=[y[0]-u[0],y[1]-u[1]],P=s.vec2.scale([],k,d),C=[u[0]+P[0],u[1]+P[1]];return e.startPoint={x:v[0],y:v[1]},e.endPoint={x:y[0],y:y[1]},e.controlPoints=[{x:w[0],y:w[1]},{x:C[0],y:C[1]}],e},traverseTree:function(e,t){"function"===typeof t&&f(e,t)},radialLayout:function(e,t){var i=["V","TB","BT"],n={x:1/0,y:1/0},a={x:-1/0,y:-1/0},o="x",r="y";t&&i.indexOf(t)>=0&&(r="x",o="y");var s=0;this.traverseTree(e,function(e){s++,e.x>a.x&&(a.x=e.x),e.x<n.x&&(n.x=e.x),e.y>a.y&&(a.y=e.y),e.y<n.y&&(n.y=e.y)});var l=2*c/s,d=a[r]-n[r];return 0===d?e:(this.traverseTree(e,function(t){var i=(t[r]-n[r])/d*(2*c-l)+l,a=Math.abs("x"===o?t.x-e.x:t.y-e.y);t.x=a*Math.cos(i),t.y=a*Math.sin(i)}),e)},getLabelPosition:function(e,t,i,n,a){var r=1e-4,s=[],l=e.getPoint(t);if(t<r)s=e.getStartTangent().reverse();else if(t>1-r)s=e.getEndTangent();else{var h=e.getPoint(t+r);s.push([l.x,l.y]),s.push([h.x,h.y])}var g=Math.atan2(s[1][1]-s[0][1],s[1][0]-s[0][0]);if(g<0&&(g+=2*c),i&&(l.x+=u(g)*i,l.y+=d(g)*i),n){var f=g-c/2;g>.5*c&&g<1.5*c&&(f-=c),l.x+=u(f)*n,l.y+=d(f)*n}var p={x:l.x,y:l.y,angle:g};return a?(g>.5*c&&g<1.5*c&&(g-=c),o({rotate:g},p)):p}};e.exports=p},"8ff6":function(e,t,i){i("ac6a");var n=i("fc74"),a=i("59a1"),o=i("3536"),r=16,s=null,l=function(){"use strict";function e(t){n(this,e),this.graph=t,this.cachedStates={enabled:{},disabled:{}}}return a(e,[{key:"updateState",value:function(e,t,i){if(!e.destroyed){var n=this,a=n.cachedStates,o=a.enabled,l=a.disabled;i?(n._checkCache(e,t,l),n._cacheState(e,t,o)):(n._checkCache(e,t,o),n._cacheState(e,t,l)),s&&clearTimeout(s),s=setTimeout(function(){s=null,n.updateGraphStates()},r)}}},{key:"updateStates",value:function(e,t,i){var n=this;o.isString(t)?n.updateState(e,t,i):t.forEach(function(t){n.updateState(e,t,i)})}},{key:"_checkCache",value:function(e,t,i){if(i[t]){var n=i[t].indexOf(e);n>=0&&i[t].splice(n,1)}}},{key:"_cacheState",value:function(e,t,i){i[t]||(i[t]=[]),i[t].push(e)}},{key:"updateGraphStates",value:function(){var e=this.graph.get("states"),t=this.cachedStates;o.each(t.disabled,function(t,i){e[i]&&(e[i]=e[i].filter(function(e){return t.indexOf(e)<0&&!t.destroyed}))}),o.each(t.enabled,function(t,i){if(e[i]){var n={};e[i].forEach(function(e){e.destroyed||(n[e.get("id")]=!0)}),t.forEach(function(t){var a=t.get("id");n[a]||t.destroyed||(n[a]=!0,e[i].push(t))})}else e[i]=t}),this.graph.emit("graphstatechange",{states:e}),this.cachedStates={enabled:{},disabled:{}}}},{key:"destroy",value:function(){this.graph=null,this.cachedStates=null,s&&clearTimeout(s),s=null,this.destroyed=!0}}]),e}();e.exports=l},9225:function(e,t,i){"use strict";i("ac6a"),i("456d");var n=i("a925"),a=(i("8e6e"),i("bd86")),o=i("69c5"),r=i.n(o),s=i("9ef8"),l=i.n(s),c={L10000:"XFC",L10001:"撤消（Ctrl + Z）",L10002:"重做（Ctrl + Shift + Z）",L10003:"复制（Ctrl + C）",L10004:"粘贴（Ctrl + V）",L10005:"清除（Alt + C）",L10006:"放大（Ctrl + +）",L10007:"缩小（Ctrl + -）",L10008:"适应屏幕（Ctrl + 0）",L10009:"实际大小（Ctrl + 1）",L10010:"清除（C）",L10011:"填充颜色",L10012:"线条颜色",L10013:"线条宽度",L10014:"线条样式",L10015:"线条类型",L10016:"起点",L10017:"终点",L10018:"置于顶层",L10019:"置于底层",L10020:"框选",L10021:"添加组",L10022:"解除组",L10023:"编辑",L10024:"预览",L10025:"全屏",L10026:"语言",L10027:"Github",L10028:"反馈",L10029:"缩放",L10100:"基础图形",L10101:"配置器",L10102:"导航器",L10103:"属性",L10104:"样式",L10105:"文本",L10200:"提示",L10201:"确认清空画布？"},d={L10000:"XFC",L10001:"Undo (Ctrl + Z)",L10002:"Redo (Ctrl + Shift + Z)",L10003:"Copy (Ctrl + C)",L10004:"Paste (Ctrl + V)",L10005:"Clear (Alt + C)",L10006:"Zoom in (Ctrl + +)",L10007:"Zoom out (Ctrl + -)",L10008:"Adapt to the screen (Ctrl + 0)",L10009:"Actual size (Ctrl + 1)",L10010:"Clear (C)",L10011:"Fill color",L10012:"Line color",L10013:"Line width",L10014:"Line style",L10015:"Line type",L10016:"Starting point",L10017:"End point",L10018:"Place on top",L10019:"Place on the bottom",L10020:"Box selection",L10021:"Add group",L10022:"Ungroup",L10023:"Edit",L10024:"Preview",L10025:"Full screen",L10026:"Language",L10027:"Github",L10028:"Feedback",L10100:"Basic graphics",L10101:"Configuration",L10102:"Navigator",L10103:"Properties",L10104:"Style",L10105:"Text",L10200:"Hint",L10201:"Are you sure to empty the canvas? "};function u(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function h(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?u(i,!0).forEach(function(t){Object(a["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):u(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var g={label:{"zh-CN":"简体中文","en-US":"English"},icon:{"zh-CN":i("b42e"),"en-US":i("f50d")},data:{"zh-CN":h({},l.a,{},c),"en-US":h({},r.a,{},d)}},f=i("c3fc");t["a"]=function(e,t){var i=e.prototype.$X,a=i.config,o=i.Cookies,r=a.cookie.getItem("locale"),s=o.get(r);if(!t){var l=Object.keys(g.label);t=s||l[0]}e.use(n["a"]),e.locale=function(){},e.prototype.$X.langs=g,e.prototype.$X.locale=t;var c=new n["a"]({locale:t,messages:g.data});return f["a"].i18n(function(e,t){return c.t(e,t)}),e.prototype._i18n=c,c}},"9a15":function(e,t,i){},"9aa1":function(e,t,i){var n=i("fc74"),a=i("59a1"),o=i("3536"),r=i("c8ea"),s=i("9cac"),l="bboxCache",c="StateStyle",d="Style",u=["fillStyle","strokeStyle","path","points","img","symbol"],h=function(){"use strict";function e(t){n(this,e);var i={id:null,type:"item",model:{},group:null,animate:!1,visible:!0,event:!0,keyShape:null,states:[]};this._cfg=o.mix(i,this.getDefaultCfg(),t);var a=t.group;a.set("item",this);var r=this.get("model").id;r&&""!==r||(r=o.uniqueId(this.get("type"))),this.set("id",r),a.set("id",r),this.init(),this.draw()}return a(e,[{key:"isItem",value:function(){return!0}},{key:"get",value:function(e){return this._cfg[e]}},{key:"set",value:function(e,t){o.isPlainObject(e)?this._cfg=o.mix({},this._cfg,e):this._cfg[e]=t}},{key:"getDefaultCfg",value:function(){return{}}},{key:"init",value:function(){var e=r.getFactory(this.get("type"));this.set("shapeFactory",e)}},{key:"_calculateBBox",value:function(){var e=this.get("keyShape"),t=this.get("group"),i=o.getBBox(e,t);return i.x=i.minX,i.y=i.minY,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY,i.centerX=(i.minX+i.maxX)/2,i.centerY=(i.minY+i.maxY)/2,i}},{key:"_drawInner",value:function(){var e=this,t=e.get("shapeFactory"),i=e.get("group"),n=e.get("model");if(i.clear(),t){e.updatePosition(n);var a=e.getShapeCfg(n),o=a.shape,r=t.draw(o,a,i);r&&(r.isKeyShape=!0,e.set("keyShape",r),e.set("originStyle",this.getKeyShapeStyle())),this.set("currentShape",o),this._resetStates(t,o)}}},{key:"getKeyShapeStyle",value:function(){var e=this.getKeyShape();if(e){var t={};return o.each(e.attr(),function(e,i){u.indexOf(i)<0&&(t[i]=e)}),t}}},{key:"_resetStates",value:function(e,t){var i=this,n=i.get("states");o.each(n,function(n){e.setState(t,n,!0,i)})}},{key:"getStates",value:function(){return this.get("states")}},{key:"hasState",value:function(e){return this.get("states").indexOf(e)>=0}},{key:"getStateStyle",value:function(e){var t=this,i=s[t.getType()+c][e],n=this.get("styles"),a=n&&n[e],r=e+d;return o.mix({},i,a,t.get(r))}},{key:"getOriginStyle",value:function(){return this.get("originStyle")}},{key:"getCurrentStatesStyle",value:function(){var e=this,t=o.mix({},e.getOriginStyle());return o.each(e.getStates(),function(i){o.mix(t,e.getStateStyle(i))}),t}},{key:"setState",value:function(e,t){var i=this.get("states"),n=this.get("shapeFactory"),a=i.indexOf(e);if(t){if(a>-1)return;i.push(e)}else a>-1&&i.splice(a,1);if(n){var o=this.get("model");n.setState(o.shape,e,t,this)}}},{key:"clearStates",value:function(e){var t=this,i=t.getStates(),n=t.get("shapeFactory"),a=t.get("model").shape;if(!e)return t.set("states",[]),void n.setState(a,i[0],!1,t);o.isString(e)&&(e=[e]);var r=i.filter(function(i){return n.setState(a,i,!1,t),!(e.indexOf(i)>=0)});t.set("states",r)}},{key:"getContainer",value:function(){return this.get("group")}},{key:"getKeyShape",value:function(){return this.get("keyShape")}},{key:"getModel",value:function(){return this.get("model")}},{key:"getType",value:function(){return this.get("type")}},{key:"beforeDraw",value:function(){}},{key:"afterDraw",value:function(){}},{key:"getShapeCfg",value:function(e){var t=this.get("styles");if(t&&t.default){var i=o.mix({},e);return i.style=o.mix({},t.default,e.style),i}return e}},{key:"refresh",value:function(){var e=this.get("model");this.updatePosition(e),this.updateShape(),this.afterUpdate(),this.clearCache()}},{key:"update",value:function(e){var t=this.get("model"),i={x:t.x,y:t.y};o.mix(t,e);var n=this._isOnlyMove(e);n?this.updatePosition(t):(i.x===t.x&&i.y===t.y||this.updatePosition(t),this.updateShape()),this.afterUpdate(),this.clearCache()}},{key:"updateShape",value:function(){var e=this.get("shapeFactory"),t=this.get("model"),i=t.shape;if(e.shouldUpdate(i)&&i===this.get("currentShape")){var n=this.getShapeCfg(t);e.update(i,n,this)}else this.draw();this.set("originStyle",this.getKeyShapeStyle()),this._resetStates(e,i)}},{key:"updatePosition",value:function(e){var t=this.get("model"),i=o.isNil(e.x)?t.x:e.x,n=o.isNil(e.y)?t.y:e.y,a=this.get("group");o.isNil(i)||o.isNil(n)||(a.resetMatrix(),a.translate(i,n),t.x=i,t.y=n,this.clearCache())}},{key:"afterUpdate",value:function(){}},{key:"clearCache",value:function(){this.set(l,null)}},{key:"draw",value:function(){this.beforeDraw(),this._drawInner(),this.afterDraw()}},{key:"getBBox",value:function(){var e=this.get(l);return e||(e=this._calculateBBox(),this.set(l,e)),e}},{key:"toFront",value:function(){this.get("group").toFront()}},{key:"toBack",value:function(){this.get("group").toBack()}},{key:"show",value:function(){this.changeVisibility(!0)}},{key:"hide",value:function(){this.changeVisibility(!1)}},{key:"changeVisibility",value:function(e){var t=this.get("group");e?t.show():t.hide(),this.set("visible",e)}},{key:"enableCapture",value:function(e){var t=this.get("group");t&&t.attr("capture",e)}},{key:"isVisible",value:function(){return this.get("visible")}},{key:"destroy",value:function(){if(!this.destroyed){var e=this.get("animate"),t=this.get("group");e&&t.stopAnimate(),t.remove(),this._cfg=null,this.destroyed=!0}}}]),e}();e.exports=h},"9cac":function(e,t){e.exports={version:"3.0.5-beta.6",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",defaultNode:{shape:"circle",style:{fill:"#fff"},size:40,color:"#333"},defaultEdge:{shape:"line",style:{},size:1,color:"#333"},nodeLabel:{style:{fill:"#595959",textAlign:"center",textBaseline:"middle"},offset:5},edgeLabel:{style:{fill:"#595959",textAlign:"center",textBaseline:"middle"}},nodeStateStyle:{active:{fillOpacity:.8},selected:{lineWidth:2}},edgeStateStyle:{active:{strokeOpacity:.8},selected:{lineWidth:2}},loopPosition:"top",delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]}}},"9d64":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAC60lEQVRoQ+2ZjW3UQBSEJxUkVJBQQUIFgQqACkgHQAXQAaGCQAUkFXBUAKkgoQIuFYA+a+e0t7J9a7z+ucgrnU621+uZN+/P6wPt+TjYc/xaCEyt4KNT4EzSB0mvprZszfPXklaS3ku69/VYAUB/myHwFBJEXkj6xYWYwB9JR3tAAIiAfxYTeC7pewL+h6SPQbYpeeEZ4DhNQDyRtLYCKYFbScTDXAaegdWPI0C40aqJwGtJ13NBH3C8k/Qpl0Alj6T0prE5kW3wdbCkXtKqgJUhbZ2PjTp5XgV0ITChCosCSwzscL+vIduRaRrz/ZyD2CmbwkmxourSUHrMOgZoV8jvFM2XIeejQtzWjELgIYB40+Auv8P5L8HKFCisDfA7SReSaF8gk3bFoxBwd/g3AMWvAQtAfgCkGAHuRNJhAMt5jiHIv60f92HFCWBtAg6AAHKXSPXmvK0LOOZwjF+7XcdtmAdp329X+lnTRBYjgCVp8uiPGJdBfqyNdfkxsCRu8TQ6hgTnDMae5oCFkEmgTjyKEWBRXucAjtT4K29wn8M/PoxFiQOuQQwVGPZrd7iQjN3E4Ot6r6IE4tc53CMOWh6EOmQTD1SwC8WpMY111iWdOhsNpgALGxQWxGKWHHVQJgaKOpDq09UWVeAmuAMuAihc5KoldQIeq/Z53y5KwLsBBGQczHWbAU0PbuDbeLooAayO6+TsXkCQec71XYF7flEC/wuiz30LgeV9IPEfWhHiom3bhsJHnSFFz86FXHV3xQUV/21fAmm13fXQnOubfc0dk1GIekPWo5p32hdiM6na/Q035gDrMoe1aR/aBoAB7q30TgTctHUBNfRcu9RWfWjaG93agx8aWcb6dbvnW1uL7uHTtWCN3JsvIhkPKzkFXIB3Wx6vXRk//sDRp2MsCTpnLXe5WwRgS+SnHxJyFhxzDmmYOlElgbqvlDRhpC4IzWngyvxI7Zvx6D6zzsniWVgWBbLMNOCkvVfgH7OlE0ARK89dAAAAAElFTkSuQmCC"},a187:function(e,t,i){"use strict";var n=i("e505"),a=i.n(n);a.a},a631:function(e,t,i){"use strict";var n=i("d159"),a=i.n(n);a.a},a817:function(e,t,i){e.exports={Node:i("8259"),Edge:i("e459")}},b42e:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAUCAMAAACtdX32AAAAElBMVEXWTCTVRSXcYR/gchrokhL3zAVCW9qcAAAAWElEQVQoz62QCwrAIAxDmzS9/5WnwmDDRfYrCOJLHmrEPwMsMek42LqZDlPqAZm+qoTuMO6qaEUGrjHGzZ18nDJXTwMTr74F08ZHnsKjG3Fe9+xzDB8S+2y66AB9oQlI7gAAAABJRU5ErkJggg=="},b866:function(e,t,i){"use strict";var n=i("9a15"),a=i.n(n);a.a},b9da:function(e,t,i){},bac4:function(e,t,i){var n=i("3536"),a=i("fab3");e.exports=n.mix({getDefaultCfg:function(){return{item:"edge",formatText:function(e){return"source:"+e.source+" target:"+e.target}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove"}}},a)},bbe8:function(e,t,i){i("ac6a"),e.exports={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",shouldUpdate:function(){return!0}}},getEvents:function(){return"mouseenter"===this.get("trigger")?{"node:mouseenter":"setAllItemStates","node:mouseleave":"clearAllItemStates"}:{"node:click":"setAllItemStates","canvas:click":"clearAllItemStates"}},setAllItemStates:function(e){var t=this.get("graph"),i=e.item;if(this.item=i,this.shouldUpdate(e.item,{event:e,action:"activate"})){var n=this.get("activeState"),a=this.get("inactiveState"),o=t.get("autoPaint");t.setAutoPaint(!1),t.getNodes().forEach(function(e){t.setItemState(e,n,!1),a&&t.setItemState(e,a,!0)}),t.getEdges().forEach(function(e){t.setItemState(e,n,!1),a&&t.setItemState(e,a,!0)}),a&&t.setItemState(i,a,!1),t.setItemState(i,n,!0),t.getEdges().forEach(function(e){e.getSource()===i?(a&&t.setItemState(e.getTarget(),a,!1),t.setItemState(e.getTarget(),n,!0),t.setItemState(e,n,!0),t.setItemState(e,a,!1),e.toFront()):e.getTarget()===i&&(a&&t.setItemState(e.getSource(),a,!1),t.setItemState(e.getSource(),n,!0),t.setItemState(e,n,!0),t.setItemState(e,a,!1),e.toFront())}),t.paint(),t.setAutoPaint(o),t.emit("afteractivaterelations",{item:e.item,action:"activate"})}},clearAllItemStates:function(e){var t=this.get("graph");if(this.shouldUpdate(e.item,{event:e,action:"deactivate"})){var i=t.get("autoPaint");t.setAutoPaint(!1),t.getNodes().forEach(function(e){t.clearItemStates(e)}),t.getEdges().forEach(function(e){t.clearItemStates(e)}),t.paint(),t.setAutoPaint(i),t.emit("afteractivaterelations",{item:e.item||this.item,action:"deactivate"})}}}},bd21:function(e,t){var i=.05;e.exports={getDefaultCfg:function(){return{sensitivity:5,minZoom:.1,maxZoom:10}},getEvents:function(){return{wheel:"onWheel"}},onWheel:function(e){if(e.preventDefault(),this.shouldUpdate.call(this,e)){var t=this.graph,n=t.get("canvas"),a=n.getPointByClient(e.clientX,e.clientY),o=n.get("pixelRatio"),r=this.get("sensitivity"),s=t.getZoom();s=e.wheelDelta>0?1-i*r:1+i*r;var l=s*t.getZoom();l>this.get("maxZoom")||l<this.get("minZoom")||(t.zoom(s,{x:a.x/o,y:a.y/o}),t.paint(),t.emit("wheelzoom",e))}}}},bed1:function(e,t,i){var n=i("3536");i("169f");var a={},o={};function r(e){return o[e]||n.upperFirst(e)}var s={defaultShapeType:null,getShape:function(e){var t=this,i=t[e]||t[t.defaultShapeType];return i},draw:function(e,t,i){var n=this.getShape(e),a=n.draw(t,i);return n.afterDraw(t,i,a),a},update:function(e,t,i){var n=this.getShape(e);n.update&&(n.update(t,i),n.afterUpdate(t,i))},setState:function(e,t,i,n){var a=this.getShape(e);a.setState(t,i,n)},shouldUpdate:function(e){var t=this.getShape(e);return!!t.update},getControlPoints:function(e,t){var i=this.getShape(e);return i.getControlPoints(t)},getAnchorPoints:function(e,t){var i=this.getShape(e);return i.getAnchorPoints(t)}},l={draw:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(e){return e.controlPoints},getAnchorPoints:function(e){return e.anchorPoints}};function c(e){var t="register"+e.className;a[t]=function(t,i,a){var o=a?e.getShape(a):l,r=n.mix({},o,i);return r.type=t,e[t]=r,r}}a.registerFactory=function(e,t){var i=r(e),o=n.mix({},s,t);return a[i]=o,o.className=i,c(o),o},a.getFactory=function(e){var t=this;return e=r(e),t[e]},e.exports=a},bee9:function(e,t,i){"use strict";var n=i("2b0e"),a=new n["default"],o=a,r=(i("3b2b"),i("a481"),{formatDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD hh:mm";e instanceof Date||(e=new Date(e));var i=function(e){return("00"+e).substr(e.length)},n=function(e,t){/(Y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));var n={"M+":e.getMonth()+1,"D+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(var a in n)if(new RegExp("(".concat(a,")")).test(t)){var o=n[a]+"";t=t.replace(RegExp.$1,1===RegExp.$1.length?o:i(o))}return t};return n(e,t)}}),s={sortByNumber:function(e,t,i){return"desc"===i?parseInt(e)<parseInt(t)?1:-1:parseInt(e)>parseInt(t)?1:-1}},l=(i("34ef"),i("28a5"),{base642Blob:function(e){for(var t=e.split(";base64,"),i=t[0].split(":")[1],n=window.atob(t[1]),a=n.length,o=new Uint8Array(a),r=0;r<a;r++)o[r]=n.charCodeAt(r);return new Blob([o],{type:i})},downloadFile:function(e,t){var i=this.base642Blob(t),n=URL.createObjectURL(i),a=document.createElement("a");a.textContent="download image",a.href=n,a.download=e,a.click(),URL.revokeObjectURL(n)}});t["a"]={bus:o,filters:r,sort:s,file:l}},c0d6:function(e,t,i){"use strict";var n=i("2b0e"),a=i("2f62");n["default"].use(a["a"]),t["a"]=new a["a"].Store({state:{editor:{currentItem:{id:null,type:null,model:null},clipboard:null,history:[]}},mutations:{"editor/currentItem/update":function(e,t){e.editor.currentItem=t}},actions:{},getters:{currentItem:function(e){return e.editor.currentItem}}})},c604:function(e,t,i){"use strict";var n=i("224c"),a=i.n(n);a.a},c89a:function(e,t,i){},c8ea:function(e,t,i){var n=i("bed1");i("29de"),i("1531"),e.exports=n},ccee:function(e,t,i){"use strict";var n=i("d147"),a=i.n(n);a.a},d147:function(e,t,i){},d159:function(e,t,i){},d48d:function(e,t,i){"use strict";var n=i("c89a"),a=i.n(n);a.a},d590:function(e,t,i){var n=i("9cac"),a=i("b0b3"),o=i("c8ea"),r=i("00b1"),s={Graph:i("e339"),TreeGraph:i("1aa9"),Util:i("3536"),G:a,Global:n,Shape:o,registerNode:o.registerNode,registerEdge:o.registerEdge,registerBehavior:r.registerBehavior,version:n.version};e.exports=s},dbaa:function(e,t,i){},ddb8:function(e,t,i){"use strict";var n=i("9483");Object(n["a"])("".concat("/X-Flowchart-Vue/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}})},de95:function(e,t,i){},dea5:function(e,t,i){"use strict";var n=i("3b61"),a=i.n(n);a.a},e339:function(e,t,i){i("34ef"),i("4917"),i("28a5");var n=i("fc74"),a=i("6430"),o=i("ffe3"),r=i("59a1"),s=i("37d9"),l=i("b0b3"),c=l.EventEmitter,d=i("3536"),u=i("9cac"),h=i("726e"),g="node",f="edge",p=function(e){"use strict";function t(e){var i;return n(this,t),i=a(this,o(t).call(this)),i._cfg=d.deepMix(i.getDefaultCfg(),e),i._init(),i}return s(t,e),r(t,[{key:"getDefaultCfg",value:function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",mode:[],plugins:[],data:null,fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStyle:{},edgeStyle:{},states:{},animate:!1,animateCfg:{onFrame:null,duration:500,easing:"easeLinear"},callback:null}}}]),r(t,[{key:"_init",value:function(){this._initCanvas();var e=new h.Event(this),t=new h.View(this),i=new h.Mode(this),n=new h.Item(this),a=new h.State(this);this.set({eventController:e,viewController:t,modeController:i,itemController:n,stateController:a}),this._initPlugins()}},{key:"_initCanvas",value:function(){var e=this.get("container");if(d.isString(e)&&(e=document.getElementById(e),this.set("container",e)),!e)throw Error("invalid container");var t=new l.Canvas({containerDOM:e,width:this.get("width"),height:this.get("height"),renderer:this.get("renderer"),pixelRatio:this.get("pixelRatio")});this.set("canvas",t),this._initGroups()}},{key:"_initGroups",value:function(){var e=this.get("canvas"),t=this.get("canvas").get("el").id,i=e.addGroup({id:t+"-root",className:u.rootContainerClassName});if(this.get("groupByTypes")){var n=i.addGroup({id:t+"-edge",className:u.edgeContainerClassName}),a=i.addGroup({id:t+"-node",className:u.nodeContainerClassName});this.set({nodeGroup:a,edgeGroup:n})}this.set("group",i)}},{key:"_initPlugins",value:function(){var e=this;d.each(e.get("plugins"),function(t){!t.destroyed&&t.initPlugin&&t.initPlugin(e)})}},{key:"get",value:function(e){return this._cfg[e]}},{key:"set",value:function(e,t){return d.isPlainObject(e)?this._cfg=d.mix({},this._cfg,e):this._cfg[e]=t,this}},{key:"update",value:function(e,t){this.updateItem(e,t)}},{key:"updateItem",value:function(e,t){this.get("itemController").updateItem(e,t)}},{key:"setItemState",value:function(e,t,i){d.isString(e)&&(e=this.findById(e)),this.get("itemController").setItemState(e,t,i),this.get("stateController").updateState(e,t,i)}},{key:"clearItemStates",value:function(e,t){d.isString(e)&&(e=this.findById(e)),this.get("itemController").clearItemStates(e,t),t||(t=e.get("states")),this.get("stateController").updateStates(e,t,!1)}},{key:"add",value:function(e,t){return this.addItem(e,t)}},{key:"addItem",value:function(e,t){return this.get("itemController").addItem(e,t)}},{key:"remove",value:function(e){this.removeItem(e)}},{key:"removeItem",value:function(e){this.get("itemController").removeItem(e)}},{key:"data",value:function(e){this.set("data",e)}},{key:"node",value:function(e){"function"===typeof e&&this.set("nodeMapper",e)}},{key:"edge",value:function(e){"function"===typeof e&&this.set("edgeMapper",e)}},{key:"refreshItem",value:function(e){this.get("itemController").refreshItem(e)}},{key:"refresh",value:function(){var e=this,t=e.get("autoPaint");if(e.setAutoPaint(!1),e.emit("beforegraphrefresh"),e.get("animate"))e.positionsAnimate();else{var i=e.get("nodes"),n=e.get("edges");d.each(i,function(e){e.refresh()}),d.each(n,function(e){e.refresh()})}e.setAutoPaint(t),e.emit("aftergraphrefresh"),e.autoPaint()}},{key:"refreshPositions",value:function(){var e=this;e.emit("beforegraphrefreshposition");var t,i=e.get("nodes"),n=e.get("edges");d.each(i,function(e){t=e.getModel(),e.updatePosition(t)}),d.each(n,function(e){e.refresh()}),e.emit("aftergraphrefreshposition"),e.autoPaint()}},{key:"render",value:function(){var e=this,t=this.get("data");if(!t)throw new Error("data must be defined first");this.clear(),this.emit("beforerender");var i=this.get("autoPaint");this.setAutoPaint(!1),d.each(t.nodes,function(t){e.add(g,t)}),d.each(t.edges,function(t){e.add(f,t)}),e.get("fitView")&&e.get("viewController")._fitView(),e.paint(),e.setAutoPaint(i),e.emit("afterrender")}},{key:"read",value:function(e){this.data(e),this.render()}},{key:"changeData",value:function(e){var t=this;if(!e)return this;t.get("data")||(t.data(e),t.render());var i=this.get("autoPaint"),n=this.get("itemMap"),a={nodes:[],edges:[]};return this.setAutoPaint(!1),this._diffItems(g,a,e.nodes),this._diffItems(f,a,e.edges),d.each(n,function(e,i){a.nodes.indexOf(e)<0&&a.edges.indexOf(e)<0&&(delete n[i],t.remove(e))}),this.set({nodes:a.nodes,edges:a.edges}),t.get("animate")?t.positionsAnimate():this.paint(),this.setAutoPaint(i),this}},{key:"_diffItems",value:function(e,t,i){var n,a=this,o=this.get("itemMap");d.each(i,function(i){if(n=o[i.id],n){if(a.get("animate")&&e===g){var r=n.getContainer().getMatrix();n.set("originAttrs",{x:r[6],y:r[7]})}a.updateItem(n,i)}else n=a.addItem(e,i);t[e+"s"].push(n)})}},{key:"paint",value:function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")}},{key:"autoPaint",value:function(){this.get("autoPaint")&&this.paint()}},{key:"save",value:function(){var e=[],t=[];return d.each(this.get("nodes"),function(t){e.push(t.getModel())}),d.each(this.get("edges"),function(e){t.push(e.getModel())}),{nodes:e,edges:t}}},{key:"changeSize",value:function(e,t){return this.get("viewController").changeSize(e,t),this.autoPaint(),this}},{key:"translate",value:function(e,t){var i=this.get("group");i.translate(e,t),this.emit("viewportchange",{action:"translate",matrix:i.getMatrix()}),this.autoPaint()}},{key:"moveTo",value:function(e,t){var i=this.get("group");i.move(e,t),this.emit("viewportchange",{action:"move",matrix:i.getMatrix()}),this.autoPaint()}},{key:"fitView",value:function(e){e&&this.set("fitViewPadding",e),this.get("viewController")._fitView(),this.paint()}},{key:"addBehaviors",value:function(e,t){return this.get("modeController").manipulateBehaviors(e,t,!0),this}},{key:"removeBehaviors",value:function(e,t){return this.get("modeController").manipulateBehaviors(e,t,!1),this}},{key:"setMode",value:function(e){return this.set("mode",e),this.get("modeController").setMode(e),this}},{key:"getCurrentMode",value:function(){return this.get("mode")}},{key:"getZoom",value:function(){return this.get("group").getMatrix()[0]}},{key:"getNodes",value:function(){return this.get("nodes")}},{key:"getEdges",value:function(){return this.get("edges")}},{key:"zoom",value:function(e,t){var i=d.clone(this.get("group").getMatrix()),n=this.get("minZoom"),a=this.get("maxZoom");t?(d.mat3.translate(i,i,[-t.x,-t.y]),d.mat3.scale(i,i,[e,e]),d.mat3.translate(i,i,[t.x,t.y])):d.mat3.scale(i,i,[e,e]),n&&i[0]<n||a&&i[0]>a||(this.get("group").setMatrix(i),this.emit("viewportchange",{action:"zoom",matrix:i}),this.autoPaint())}},{key:"zoomTo",value:function(e,t){var i=e/this.getZoom();this.zoom(i,t)}},{key:"positionsAnimate",value:function(){var e=this;e.emit("beforeanimate");var t=e.get("animateCfg"),i=t.onFrame,n=e.getNodes(),a=n.map(function(e){var t=e.getModel();return{id:t.id,x:t.x,y:t.y}});e.isAnimating()&&e.stopAnimate(),e.get("canvas").animate({onFrame:function(t){d.each(a,function(n){var a=e.findById(n.id);if(a&&!a.destroyed){var o=a.get("originAttrs"),r=a.get("model");if(!o){var s=a.getContainer().getMatrix();o={x:s[6],y:s[7]},a.set("originAttrs",o)}if(i){var l=i(a,t,n,o);a.set("model",d.mix(r,l))}else r.x=o.x+(n.x-o.x)*t,r.y=o.y+(n.y-o.y)*t}}),e.refreshPositions()}},t.duration,t.easing,function(){d.each(n,function(e){e.set("originAttrs",null)}),t.callback&&t.callback(),e.emit("afteranimate"),e.animating=!1})}},{key:"stopAnimate",value:function(){this.get("canvas").stopAnimate()}},{key:"isAnimating",value:function(){return this.animating}},{key:"focusItem",value:function(e){this.get("viewController").focus(e),this.autoPaint()}},{key:"getPointByClient",value:function(e,t){return this.get("viewController").getPointByClient(e,t)}},{key:"getClientByPoint",value:function(e,t){return this.get("viewController").getClientByPoint(e,t)}},{key:"getPointByCanvas",value:function(e,t){return this.get("viewController").getPointByCanvas(e,t)}},{key:"getCanvasByPoint",value:function(e,t){return this.get("viewController").getCanvasByPoint(e,t)}},{key:"showItem",value:function(e){this.get("itemController").changeItemVisibility(e,!0)}},{key:"hideItem",value:function(e){this.get("itemController").changeItemVisibility(e,!1)}},{key:"findById",value:function(e){return this.get("itemMap")[e]}},{key:"find",value:function(e,t){var i,n=this.get(e+"s");return d.each(n,function(e,n){if(t(e,n))return i=e,!1}),i}},{key:"findAll",value:function(e,t){var i=[];return d.each(this.get(e+"s"),function(e,n){t(e,n)&&i.push(e)}),i}},{key:"findAllByState",value:function(e,t){return this.findAll(e,function(e){return e.hasState(t)})}},{key:"setAutoPaint",value:function(e){this.set("autoPaint",e)}},{key:"toDataURL",value:function(){var e=this.get("canvas"),t=e.getRenderer(),i=e.get("el"),n="";if("svg"===t){var a=i.cloneNode(!0),o=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),r=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",o);r.replaceChild(a,r.documentElement);var s=(new XMLSerializer).serializeToString(r);n="data:image/svg+xml;charset=utf8,"+encodeURIComponent(s)}else"canvas"===t&&(n=i.toDataURL("image/png"));return n}},{key:"downloadImage",value:function(e){var t=this;t.isAnimating()&&t.stopAnimate();var i=t.get("canvas"),n=i.getRenderer(),a=(e||"graph")+("svg"===n?".svg":".png"),o=document.createElement("a");setTimeout(function(){var e=t.toDataURL();if(window.Blob&&window.URL&&"svg"!==n){var i=e.split(","),r=i[0].match(/:(.*?);/)[1],s=atob(i[1]),l=s.length,c=new Uint8Array(l);while(l--)c[l]=s.charCodeAt(l);var d=new Blob([c],{type:r});window.navigator.msSaveBlob?window.navigator.msSaveBlob(d,a):o.addEventListener("click",function(){o.download=a,o.href=window.URL.createObjectURL(d)})}else o.addEventListener("click",function(){o.download=a,o.href=e});var u=document.createEvent("MouseEvents");u.initEvent("click",!1,!1),o.dispatchEvent(u)},16)}},{key:"addPlugin",value:function(e){var t=this;e.destroyed||(t.get("plugins").push(e),e.initPlugin(t))}},{key:"removePlugin",value:function(e){var t=this.get("plugins"),i=t.indexOf(e);i>=0&&(e.destroyPlugin(),t.splice(i,1))}},{key:"clear",value:function(){var e=this.get("canvas");return e.clear(),this._initGroups(),this.set({itemMap:{},nodes:[],edges:[]}),this}},{key:"destroy",value:function(){this.clear(),d.each(this.get("plugins"),function(e){e.destroyPlugin()}),this.get("eventController").destroy(),this.get("itemController").destroy(),this.get("modeController").destroy(),this.get("viewController").destroy(),this.get("stateController").destroy(),this.get("canvas").destroy(),this._cfg=null,this.destroyed=!0}}]),t}(c);e.exports=p},e459:function(e,t,i){var n=i("fc74"),a=i("59a1"),o=i("6430"),r=i("ffe3"),s=i("2a12"),l=i("37d9"),c=i("3536"),d=i("9aa1"),u={source:"start",target:"end"},h="Node",g="Point",f="Anchor",p=function(e){"use strict";function t(){return n(this,t),o(this,r(t).apply(this,arguments))}return l(t,e),a(t,[{key:"getDefaultCfg",value:function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}}},{key:"init",value:function(){s(r(t.prototype),"init",this).call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))}},{key:"setSource",value:function(e){this._setEnd("source",e),this.set("source",e)}},{key:"setTarget",value:function(e){this._setEnd("target",e),this.set("target",e)}},{key:"getSource",value:function(){return this.get("source")}},{key:"getTarget",value:function(){return this.get("target")}},{key:"update",value:function(e){var t=this.get("model");c.mix(t,e),this.updateShape(),this.afterUpdate(),this.clearCache()}},{key:"updatePosition",value:function(){}},{key:"_setEnd",value:function(e,t){var i=u[e]+g,n=e+h,a=this.get(n);a&&a.removeEdge(this),c.isPlainObject(t)?(this.set(i,t),this.set(n,null)):(t.addEdge(this),this.set(n,t),this.set(i,null))}},{key:"_getLinkPoint",value:function(e,t,i){var n=u[e]+g,a=e+h,o=this.get(n);if(!o){var r=this.get(a),s=e+f,l=this._getPrePoint(e,i),d=t[s];c.isNil(d)||(o=r.getLinkPointByAnchor(d)),o=o||r.getLinkPoint(l),c.isNil(o.index)||this.set(e+"AnchorIndex",o.index)}return o}},{key:"_getPrePoint",value:function(e,t){if(t&&t.length){var i="source"===e?0:t.length-1;return t[i]}var n="source"===e?"target":"source";return this._getEndPoint(n)}},{key:"_getControlPointsByCenter",value:function(e){var t=this._getEndPoint("source"),i=this._getEndPoint("target"),n=this.get("shapeFactory");return n.getControlPoints(e.shape,{startPoint:t,endPoint:i})}},{key:"_getEndPoint",value:function(e){var t=e+h,i=u[e]+g,n=this.get(t);return n?n.get("model"):this.get(i)}},{key:"_getEndCenter",value:function(e){var t=e+h,i=u[e]+g,n=this.get(t);if(n){var a=n.getBBox();return{x:a.centerX,y:a.centerY}}return this.get(i)}},{key:"getShapeCfg",value:function(e){var i=this,n=i.get("linkCenter"),a=s(r(t.prototype),"getShapeCfg",this).call(this,e);if(n)a.startPoint=i._getEndCenter("source"),a.endPoint=i._getEndCenter("target");else{var o=a.controlPoints||i._getControlPointsByCenter(a);a.startPoint=i._getLinkPoint("source",e,o),a.endPoint=i._getLinkPoint("target",e,o)}return a.sourceNode=i.get("sourceNode"),a.targetNode=i.get("targetNode"),a}},{key:"getModel",value:function(){var e=this.get("model"),t=c.mix({},e),i=this.get("source"+h),n=this.get("target"+h);return i?(t.source=i.get("id"),delete t["source"+h]):t.source=this.get("start"+g),n?(t.target=n.get("id"),delete t["target"+h]):t.target=this.get("end"+g),t}},{key:"destroy",value:function(){var e=this.get("source"+h),i=this.get("target"+h);e&&!e.destroyed&&e.removeEdge(this),i&&!i.destroyed&&i.removeEdge(this),s(r(t.prototype),"destroy",this).call(this)}}]),t}(d);e.exports=p},e505:function(e,t,i){},e5e0:function(e,t,i){"use strict";var n=i("7a7b"),a=i.n(n);a.a},f121:function(e,t,i){"use strict";var n={version:"3.0.0",name:"XFC",title:"XFC",subtitle:"XFC",minTitle:"XFC",logo:i("9d64"),github:"https://github.com/OXOYO/X-Flowchart-Vue",githubPages:"http://oxoyo.co/X-Flowchart-Vue/",feedback:"https://github.com/OXOYO/X-Flowchart-Vue/issues/new",copyright:"© 2019 OXOYO All Rights Reserved."},a={prefix:"x-board-",path:"/",items:{account:"a",token:"t",locale:"l"},unless:["locale"],getItem:function(e){return e?this.prefix+this.items[e]:""}};t["a"]={system:n,cookie:a}},f26a:function(e,t,i){"use strict";var n=i("594e"),a=i.n(n);a.a},f50d:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAUCAMAAACtdX32AAAAPFBMVEUtQGbakJrIWmnNZXP///+xEijdmaK6L0IlOmCuCiDXiJMaL1dFU3TNaHa+O031///dmaPANEa3UWOmHTOgdo66AAAAdklEQVQoz4XP2Q6AIAxE0RFQ0HGJ/v/HyiJRqaknJDw03CpAhGoUEJClK0wCmJ6hFDbXut6VgN/9/pZW51lM8LCmgTgvZXD+iLN0036uQh7Vjz+MiBO3r3hcy5B/j8ba5mB+8AKcCosKXvUX71ToVX/xQYVRdQIA1g5aJxB67QAAAABJRU5ErkJggg=="},f65c:function(e,t,i){i("8e6e"),i("ac6a"),i("456d");var n=i("c47a");function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(i,!0).forEach(function(t){n(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var r=i("3536"),s=r.mix,l=i("9cac"),c=l.delegateStyle,d=document.body;e.exports={getDefaultCfg:function(){return{updateEdge:!0,delegate:!0,delegateStyle:{}}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","canvas:mouseleave":"onOutOfRange"}},onDragStart:function(e){this.shouldBegin.call(this,e)&&(this.target=e.item,this.origin={x:e.x,y:e.y})},onDrag:function(e){this.origin&&this.get("shouldUpdate").call(this,e)&&this._update(this.target,e)},onDragEnd:function(e){if(this.shouldEnd.call(this,e)&&this.origin){var t=this.target.get("delegateShape");t&&(t.remove(),this.target.set("delegateShape",null)),this._update(this.target,e,!0),this.point=null,this.origin=null;var i=this.fn;i&&(d.removeEventListener("mouseup",i,!1),this.fn=null)}},onOutOfRange:function(e){var t=this;if(this.origin){var i=t.graph.get("canvas").get("el"),n=function(n){n.target!==i&&t.onDragEnd(e)};this.fn=n,d.addEventListener("mouseup",n,!1)}},_update:function(e,t,i){var n=this.origin,a=e.get("model");this.point||(this.point={x:a.x,y:a.y});var o=t.x-n.x+this.point.x,r=t.y-n.y+this.point.y;this.origin={x:t.x,y:t.y},this.point={x:o,y:r},!this.delegate||i?this.get("updateEdge")?this.graph.updateItem(e,{x:o,y:r}):(e.updatePosition({x:o,y:r}),this.graph.paint()):this._updateDelegate(e,o,r)},_updateDelegate:function(e,t,i){var n=this,a=e.get("delegateShape"),r=e.get("keyShape").getBBox();if(!a){var l=n.graph.get("group"),d=s({},c,this.delegateStyle);a=l.addShape("rect",{attrs:o({width:r.width,height:r.height,x:t-r.width/2,y:i-r.height/2},d)}),a.set("capture",!1),e.set("delegateShape",a)}a.attr({x:t-r.width/2,y:i-r.height/2}),this.graph.paint()}}},fab3:function(e,t,i){var n=i("3536"),a=12;e.exports={onMouseEnter:function(e){var t=this;if(t.shouldBegin(e)){var i=e.item;t.currentTarget=i,t.showTooltip(e),t.graph.emit("tooltipchange",{item:e.item,action:"show"})}},onMouseMove:function(e){this.shouldUpdate(e)?this.currentTarget&&e.item===this.currentTarget&&this.updatePosition(e):this.hideTooltip()},onMouseLeave:function(e){this.shouldEnd(e)&&(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(e){var t=this;if(e.item){var i=t.container;i||(i=t._createTooltip(t.graph.get("canvas")),t.container=i);var a=t.formatText(e.item.get("model"),e);i.innerHTML=a,this.updatePosition(e),n.modifyCSS(this.container,{visibility:"visible"})}},hideTooltip:function(){n.modifyCSS(this.container,{visibility:"hidden"})},updatePosition:function(e){var t=this.width,i=this.height,o=this.container,r=e.canvasX,s=e.canvasY,l=o.getBoundingClientRect();r>t/2?r-=l.width:r+=a,s>i/2?s-=l.height:s+=a;var c=r+"px",d=s+"px";n.modifyCSS(this.container,{left:c,top:d,visibility:"visible"})},_createTooltip:function(e){var t=e.get("el");t.style.position="relative";var i=n.createDom('<div class="g6-tooltip g6-'+this.item+'-tooltip"></div>');return t.parentNode.appendChild(i),n.modifyCSS(i,{position:"absolute",visibility:"visible"}),this.width=e.get("width"),this.height=e.get("height"),this.container=i,i}}},fd27:function(e,t,i){var n=i("fc74"),a=i("59a1"),o=i("3536"),r=i("a817"),s="node",l="edge",c="default",d="Mapper",u=Object.hasOwnProperty,h=function(){"use strict";function e(t){n(this,e),this.graph=t}return a(e,[{key:"addItem",value:function(e,t){var i,n=this.graph,a=n.get(e+"Group")||n.get("group"),s=o.upperFirst(e),h=n.get(e+"Style")||{},g=n.get(c+s),f=n.get(e+d);if(f){var p=f(t);p.styles&&(h=p.styles,delete p.styles),o.each(p,function(e,i){t[i]=e})}else g&&o.each(g,function(e,i){u.call(t,i)||(o.isObject(e)?t[i]=o.clone(e):t[i]=g[i])});if(n.emit("beforeadditem",{type:e,model:t}),e===l){var v=t.source,y=t.target;if(v&&o.isString(v)&&(v=n.findById(v)),y&&o.isString(y)&&(y=n.findById(y)),!v||!y)return void console.warn("The source or target node of edge "+t.id+" does not exist!");i=new r[s]({model:t,source:v,target:y,styles:h,linkCenter:n.get("linkCenter"),group:a.addGroup()})}else i=new r[s]({model:t,styles:h,group:a.addGroup()});return n.get(e+"s").push(i),n.get("itemMap")[i.get("id")]=i,n.autoPaint(),n.emit("afteradditem",{item:i,model:t}),i}},{key:"updateItem",value:function(e,t){var i=this.graph;if(o.isString(e)&&(e=i.findById(e)),e&&!e.destroyed){var n=i.get(e.getType()+d);if(n){var a=o.mix({},e.getModel(),t),r=n(a);r.styles&&(e.set("styles",r.styles),delete r.styles),o.each(r,function(e,i){t[i]=e})}if(i.emit("beforeupdateitem",{item:e,cfg:t}),e.getType()===l){if(t.source){var c=t.source;o.isString(c)&&(c=i.findById(c)),e.setSource(c)}if(t.target){var u=t.target;o.isString(u)&&(u=i.findById(u)),e.setTarget(u)}}if(e.update(t),e.getType()===s){var h=i.get("autoPaint");i.setAutoPaint(!1),o.each(e.getEdges(),function(e){i.refreshItem(e)}),i.setAutoPaint(h)}i.autoPaint(),i.emit("afterupdateitem",{item:e,cfg:t})}}},{key:"removeItem",value:function(e){var t=this.graph;if(o.isString(e)&&(e=t.findById(e)),e&&!e.destroyed){t.emit("beforeremoveitem",{item:e});var i=e.getType(),n=t.get(e.getType()+"s"),a=n.indexOf(e);if(n.splice(a,1),delete t.get("itemMap")[e.get("id")],i===s)for(var r=e.getEdges(),l=r.length;l>=0;l--)t.removeItem(r[l]);e.destroy(),t.autoPaint(),t.emit("afterremoveitem",{item:e})}}},{key:"setItemState",value:function(e,t,i){var n=this.graph;e.hasState(t)!==i&&(n.emit("beforeitemstatechange",{item:e,state:t,enabled:i}),e.setState(t,i),n.autoPaint(),n.emit("afteritemstatechange",{item:e,state:t,enabled:i}))}},{key:"clearItemStates",value:function(e,t){var i=this.graph;o.isString(e)&&(e=i.findById(e)),i.emit("beforeitemstatesclear",{item:e,states:t}),e.clearStates(t),i.autoPaint(),i.emit("afteritemstatesclear",{item:e,states:t})}},{key:"refreshItem",value:function(e){var t=this.graph;o.isString(e)&&(e=t.findById(e)),t.emit("beforeitemrefresh",{item:e}),e.refresh(),t.autoPaint(),t.emit("afteritemrefresh",{item:e})}},{key:"changeItemVisibility",value:function(e,t){var i=this,n=i.graph;if(o.isString(e)&&(e=n.findById(e)),n.emit("beforeitemvisibilitychange",{item:e,visible:t}),e.changeVisibility(t),e.getType()===s){var a=n.get("autoPaint");n.setAutoPaint(!1),o.each(e.getEdges(),function(e){(!t||e.get("source").isVisible()&&e.get("target").isVisible())&&i.changeItemVisibility(e,t)}),n.setAutoPaint(a)}n.autoPaint(),n.emit("afteritemvisibilitychange",{item:e,visible:t})}},{key:"destroy",value:function(){this.graph=null,this.destroyed=!0}}]),e}();e.exports=h}});