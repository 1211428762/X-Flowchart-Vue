(function(e){function t(t){for(var o,r,l=t[0],d=t[1],c=t[2],u=0,p=[];u<l.length;u++)r=l[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&p.push(a[r][0]),a[r]=0;for(o in d)Object.prototype.hasOwnProperty.call(d,o)&&(e[o]=d[o]);s&&s(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,l=1;l<n.length;l++){var d=n[l];0!==a[d]&&(o=!1)}o&&(i.splice(t--,1),e=r(r.s=n[0]))}return e}var o={},a={app:0},i=[];function r(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/X-Flowchart-Vue/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var s=d;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0ca0":function(e,t,n){"use strict";var o=n("316b"),a=n.n(o);a.a},"224c":function(e,t,n){},"28fd":function(e,t,n){"use strict";var o=n("7d75"),a=n.n(o);a.a},"316b":function(e,t,n){},3725:function(e,t,n){"use strict";var o=n("5714"),a=n.n(o);a.a},"3dfd":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Editor")},a=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"materials-editor"},[n("ToolBar"),n("Sketchpad"),n("PanelLeft"),n("PanelRight")],1)},r=[],l=(n("8e6e"),n("456d"),n("6762"),n("2fdb"),n("7f7f"),n("ac6a"),n("bd86")),d=n("2f62"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tool-bar",style:e.toolBarStyle},[n("Handler",{staticClass:"handler",attrs:{mode:"horizontal",position:"bottom",expand:e.isExpand,callback:e.toggleHandler}}),e._l(Object.keys(e.toolMap),function(t,o){return[n("ToolBox",{key:o,class:t},[e._l(e.toolMap[t].filter(function(e){return e.enable}),function(o,a){return["text"===o.type?n("ToolItem",{key:"tool_"+t+"_item_"+a,attrs:{title:e.$t(o.lang),active:o.active,disabled:o.disabled},nativeOn:{click:function(n){return e.handleToolClick(o,t)}},scopedSlots:e._u([{key:"label",fn:function(){return[o.icon?n("XIcon",{attrs:{type:o.icon}}):n("span",[e._v(e._s(e.$t(o.lang)))])]},proxy:!0}],null,!0)}):e._e(),"dropdown-color-picker"===o.type?n("ToolItem",{key:"tool_"+t+"_item_"+a,attrs:{title:e.$t(o.lang),active:o.active,disabled:o.disabled},scopedSlots:e._u([{key:"label",fn:function(){return[o.disabled?[n("div",{staticStyle:{margin:"0 3px"}},[n("XIcon",{staticStyle:{"vertical-align":"middle"},attrs:{type:o.icon}}),n("Icon",{attrs:{type:"ios-arrow-down"}})],1)]:[n("Dropdown",{attrs:{trigger:"click"},on:{"on-click":function(n){return e.handleDropdownClick(o,t,n)}}},[n("div",{staticStyle:{margin:"0 3px"}},[n("XIcon",{staticStyle:{"vertical-align":"middle"},attrs:{type:o.icon}}),n("Icon",{attrs:{type:"ios-arrow-down"}})],1),n("SketchPicker",{attrs:{slot:"list",value:e.formData[o.name]},on:{input:function(n){return e.handleToolClick(o,t,n)}},slot:"list"})],1)]]},proxy:!0}],null,!0)}):e._e(),"dropdown-list"===o.type?n("ToolItem",{key:"tool_"+t+"_item_"+a,attrs:{title:e.$t(o.lang),active:o.active,disabled:o.disabled},scopedSlots:e._u([{key:"label",fn:function(){return[o.disabled?[n("div",{staticStyle:{margin:"0 3px"}},[n("XIcon",{staticStyle:{"vertical-align":"middle"},style:o.children[o.selected].style,attrs:{type:o.children[o.selected].icon}}),n("Icon",{attrs:{type:"ios-arrow-down"}})],1)]:[n("Dropdown",{attrs:{trigger:"click"},on:{"on-click":function(n){return e.handleDropdownClick(o,t,n)}}},[n("div",{staticStyle:{margin:"0 3px"}},[n("XIcon",{staticStyle:{"vertical-align":"middle"},style:o.children[o.selected].style,attrs:{type:o.children[o.selected].icon||o.icon}}),n("Icon",{attrs:{type:"ios-arrow-down"}})],1),n("DropdownMenu",{attrs:{slot:"list"},slot:"list"},e._l(o.children,function(t,a){return n("DropdownItem",{key:a,attrs:{name:a,disabled:t.disabled,divided:t.divided,selected:o.selected===a}},[t.icon?[n("XIcon",{style:t.style,attrs:{type:t.icon,title:e.$t(t.lang)}})]:[n("span",[e._v(e._s(t.lang?e.$t(t.lang):t.label))])]],2)}),1)],1)]]},proxy:!0}],null,!0)}):e._e(),"link"===o.type?n("ToolItem",{key:"tool_"+t+"_item_"+a,attrs:{title:e.$t(o.lang),active:o.active,disabled:o.disabled},nativeOn:{click:function(n){return e.handleToolClick(o,t)}},scopedSlots:e._u([{key:"label",fn:function(){return[n("a",{staticStyle:{color:"#333333"},attrs:{href:o.link,target:"_blank"}},[o.icon?n("XIcon",{attrs:{type:o.icon}}):n("span",[e._v(e._s(e.$t(o.lang)))])],1)]},proxy:!0}],null,!0)}):e._e(),"normal"===o.type?n("ToolItem",{key:"tool_"+t+"_item_"+a,attrs:{title:e.$t(o.lang),active:o.active,disabled:o.disabled},nativeOn:{click:function(n){return e.handleToolClick(o,t)}},scopedSlots:e._u([{key:"label",fn:function(){return[o.icon?n("XIcon",{attrs:{type:o.icon}}):n("span",[e._v(e._s(e.$t(o.lang)))])]},proxy:!0}],null,!0)}):e._e(),o.divider?n("Divider",{key:"tool_"+t+"_divider_"+a,staticStyle:{height:"100%"},attrs:{type:"vertical"}}):e._e()]})],2)]})],2)},s=[],u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.className,on:{click:e.toggleHandler}})},p=[],f={name:"Handler",props:{mode:{type:String,validator:function(e){return["horizontal","vertical"].includes(e)},default:"vertical"},position:{type:String,validator:function(e){return["top","right","bottom","left"].includes(e)},default:"right"},expand:{type:Boolean,default:!0},callback:{type:Function}},computed:{className:function(){var e=this;return["handler",e.mode,e.position,e.expand]}},methods:{toggleHandler:function(){var e=this;e.callback&&e.callback()}}},h=f,m=(n("0ca0"),n("2877")),g=Object(m["a"])(h,u,p,!1,null,"5f57e3c6",null),b=g.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tool-box",on:{contextmenu:function(e){e.stopPropagation(),e.preventDefault()}}},[e._t("default")],2)},v=[],x={name:"Index",props:{tools:{type:Array}}},w=x,O=(n("c604"),Object(m["a"])(w,y,v,!1,null,"1de90dd1",null)),C=O.exports,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"tool-item":!0,active:e.active,disabled:e.disabled}},[e._t("label",[e._v(e._s(e.label))])],2)},A=[],L={name:"ToolItem",props:{label:String,active:Boolean,disabled:Boolean}},P=L,j=(n("ccee"),Object(m["a"])(P,k,A,!1,null,"d440f322",null)),S=j.exports,I={fill:"#FFFFFF",lineColor:"#000000",lineWidth:1,lineType:"x-line",lineStyle:"solid",startArrow:!1,endArrow:!1},D={controllers:[[0,0,"nwse-resize"],[0,1,"nesw-resize"],[1,0,"nesw-resize"],[1,1,"nwse-resize"]],rotate:!0},M=[{shape:"x-rect",label:"rect",enable:!0,width:40,height:40,anchorPoints:[[.5,0],[.5,1],[0,.5],[1,.5]],shapeControl:D},{shape:"x-circle",label:"circle",enable:!0,width:40,height:40,anchorPoints:[[.5,0],[.5,1],[0,.5],[1,.5]],shapeControl:D}],F={$X:I,materials:M};function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(n,!0).forEach(function(t){Object(l["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _={name:"ToolBar",components:{Handler:b,ToolBox:C,ToolItem:S},data:function(){return{mode:"edit",selected:{zoom:0,lineWidth:0,lineType:0,lineStyle:0,startArrow:0,endArrow:0,language:0},formData:E({},F.$X),isExpand:!0}},computed:E({},Object(d["b"])(["currentItem"]),{toolBarStyle:function(){var e=this,t={};return e.isExpand?t.top=0:t.top="-40px",t},toolMap:function(){var e=this;return{left:[{name:"logo",label:"logo",lang:"L10000",type:"text",icon:"",enable:!0,divider:!1}],center:[{name:"undo",label:"Undo",lang:"L10001",type:"normal",icon:"undo",enable:!0,disabled:"preview"===e.mode,divider:!1},{name:"redo",label:"Redo",lang:"L10002",type:"normal",icon:"redo",enable:!0,disabled:"preview"===e.mode,divider:!0},{name:"copy",label:"Copy",lang:"L10003",type:"normal",icon:"copy",enable:!0,disabled:"preview"===e.mode,divider:!1},{name:"paste",label:"Paste",lang:"L10004",type:"normal",icon:"paste",enable:!0,disabled:"preview"===e.mode,divider:!1},{name:"clear",label:"Clear",lang:"L10005",type:"normal",icon:"clear",enable:!0,disabled:"preview"===e.mode,divider:!0},{name:"zoom",label:"Zoom",lang:"L10029",type:"dropdown-list",icon:"zoom",enable:!0,disabled:!1,divider:!1,selected:e.selected.zoom,children:[{name:"25%",label:"25%",lang:"",icon:"",data:.25,enable:!0,disabled:!1,divider:!1},{name:"50%",label:"50%",lang:"",icon:"",data:.5,enable:!0,disabled:!1,divider:!1},{name:"75%",label:"75%",lang:"",icon:"",data:.75,enable:!0,disabled:!1,divider:!1},{name:"100%",label:"100%",lang:"",icon:"",data:1,enable:!0,disabled:!1,divider:!1},{name:"125%",label:"125%",lang:"",icon:"",data:1.25,enable:!0,disabled:!1,divider:!1},{name:"150%",label:"150%",lang:"",icon:"",data:1.5,enable:!0,disabled:!1,divider:!1},{name:"200%",label:"200%",lang:"",icon:"",data:2,enable:!0,disabled:!1,divider:!1},{name:"300%",label:"300%",lang:"",icon:"",data:3,enable:!0,disabled:!1,divider:!1},{name:"400%",label:"400%",lang:"",icon:"",data:4,enable:!0,disabled:!1,divider:!1}]},{name:"zoomIn",label:"Zoom In",lang:"L10006",type:"normal",icon:"zoom-in",enable:!0,disabled:!1,divider:!1},{name:"zoomOut",label:"Zoom Out",lang:"L10007",type:"normal",icon:"zoom-out",enable:!0,disabled:!1,divider:!1},{name:"fit",label:"Fit",lang:"L10008",type:"normal",icon:"fit",enable:!0,disabled:!1,divider:!1},{name:"actualSize",label:"Actual Size",lang:"L10009",type:"normal",icon:"actual-size",enable:!0,disabled:!1,divider:!0},{name:"fill",label:"fill",lang:"L10011",type:"dropdown-color-picker",icon:"fill",enable:!0,disabled:"preview"===e.mode,divider:!1},{name:"lineColor",label:"line color",lang:"L10012",type:"dropdown-color-picker",icon:"line-color",enable:!0,disabled:"preview"===e.mode,divider:!1},{name:"lineWidth",label:"line width",lang:"L10013",type:"dropdown-list",icon:"line-width",enable:!0,disabled:"preview"===e.mode,divider:!1,selected:e.selected.lineWidth,children:[{name:1,label:"1px",lang:"",icon:"",enable:!0,disabled:!1,divider:!1},{name:2,label:"2px",lang:"",icon:"",enable:!0,disabled:!1,divider:!1},{name:3,label:"3px",lang:"",icon:"",enable:!0,disabled:!1,divider:!1},{name:4,label:"4px",lang:"",icon:"",enable:!0,disabled:!1,divider:!1},{name:5,label:"5px",lang:"",icon:"",enable:!0,disabled:!1,divider:!1},{name:6,label:"6px",lang:"",icon:"",enable:!0,disabled:!1,divider:!1},{name:7,label:"7px",lang:"",icon:"",enable:!0,disabled:!1,divider:!1},{name:8,label:"8px",lang:"",icon:"",enable:!0,disabled:!1,divider:!1},{name:9,label:"9px",lang:"",icon:"",enable:!0,disabled:!1,divider:!1},{name:10,label:"10px",lang:"",icon:"",enable:!0,disabled:!1,divider:!1}]},{name:"lineStyle",label:"line style",lang:"L10014",type:"dropdown-list",icon:"line-style",enable:!0,disabled:"preview"===e.mode,divider:!0,selected:e.selected.lineStyle,children:[{name:"solid",label:"solid",lang:"",icon:"solid",enable:!0,disabled:!1,divider:!1},{name:"dashed",label:"dashed",lang:"",icon:"dashed",enable:!0,disabled:!1,divider:!1},{name:"dot",label:"dot",lang:"",icon:"dot",enable:!0,disabled:!1,divider:!1}]},{name:"lineType",label:"line type",lang:"L10015",type:"dropdown-list",icon:"",enable:!0,disabled:"preview"===e.mode,divider:!1,selected:e.selected.lineType,children:[{name:"x-line",label:"line",lang:"",icon:"flow-line",enable:!0,disabled:!1,divider:!1},{name:"x-broken",label:"broken",lang:"",icon:"flow-broken",enable:!0,disabled:!1,divider:!1},{name:"x-cubic",label:"cubic",lang:"",icon:"flow-curve",enable:!0,disabled:!1,divider:!1}]},{name:"startArrow",label:"start arrow",lang:"L10016",type:"dropdown-list",icon:"",enable:!0,disabled:"preview"===e.mode,divider:!1,selected:e.selected.startArrow,children:[{name:"none",label:"none",lang:"",icon:"solid",style:{},data:!1,enable:!0,disabled:!1,divider:!1},{name:"solidArrow",label:"solid arrow",lang:"",icon:"solid-arrow",style:{},data:{path:"M 10,0 L -10,-10 L -10,10 Z",d:10},enable:!0,disabled:!1,divider:!1},{name:"normalArrow",label:"normal arrow",lang:"",icon:"normal-arrow",style:{},data:{path:"M 10,0 L -10,-10 L -11,-9 L 9,0 L-11,9 L -10,10 Z",d:10},enable:!0,disabled:!1,divider:!1},{name:"asynchArrow",label:"asynch arrow",lang:"",icon:"asynch-arraw",style:{},data:{path:"M 10,0 L -10,-10 L -11,-9 L 9,0 Z",d:10},enable:!0,disabled:!1,divider:!1}]},{name:"endArrow",label:"end arrow",lang:"L10017",type:"dropdown-list",icon:"",enable:!0,disabled:"preview"===e.mode,divider:!0,selected:e.selected.endArrow,children:[{name:"none",label:"none",lang:"",icon:"solid",style:{},data:!1,enable:!0,disabled:!1,divider:!1},{name:"solidArrow",label:"solid arrow",lang:"",icon:"solid-arrow",style:{display:"inline-block",transform:"rotate(180deg)"},data:{path:"M 10,0 L -10,-10 L -10,10 Z",d:10},enable:!0,disabled:!1,divider:!1},{name:"normalArrow",label:"normal arrow",lang:"",icon:"normal-arrow",style:{display:"inline-block",transform:"rotate(180deg)"},data:{path:"M 10,0 L -10,-10 L -11,-9 L 9,0 L-11,9 L -10,10 Z",d:10},enable:!0,disabled:!1,divider:!1},{name:"asynchArrow",label:"asynch arrow",lang:"",icon:"asynch-arraw",style:{display:"inline-block",transform:"rotate(180deg)"},data:{path:"M 10,0 L -10,-10 L -11,-9 L 9,0 Z",d:10},enable:!0,disabled:!1,divider:!1}]},{name:"toFront",label:"To Front",lang:"L10018",type:"normal",icon:"to-front",enable:!0,disabled:"preview"===e.mode,divider:!1},{name:"toBack",label:"To Back",lang:"L10019",type:"normal",icon:"to-back",enable:!0,disabled:"preview"===e.mode,divider:!0},{name:"marquee",label:"Marquee",lang:"L10020",type:"normal",icon:"marquee",enable:!0,disabled:"preview"===e.mode,divider:!1},{name:"group",label:"Group",lang:"L10021",type:"normal",icon:"group",enable:!0,disabled:"preview"===e.mode,divider:!1},{name:"ungroup",label:"Ungroup",lang:"L10022",type:"normal",icon:"ungroup",enable:!0,disabled:"preview"===e.mode,divider:!0},{name:"edit",label:"edit",lang:"L10023",type:"normal",icon:"edit",enable:"preview"===e.mode,disabled:!1,divider:!1},{name:"preview",label:"preview",lang:"L10024",type:"normal",icon:"preview",enable:"edit"===e.mode,disabled:!1,divider:!1},{name:"fullscreen",label:"fullscreen",lang:"L10025",type:"normal",icon:"full-screen",enable:!0,disabled:!1,divider:!1},{name:"language",label:"language",lang:"L10026",type:"dropdown-list",icon:"language",enable:!0,disabled:!1,divider:!1,selected:e.selected.language,children:[{name:"zh-CN",label:"简体中文",lang:"",icon:"",style:{},data:!1,enable:!0,disabled:!1,divider:!1},{name:"en-US",label:"English",lang:"",icon:"",style:{},data:!1,enable:!0,disabled:!1,divider:!1}]}],right:[{name:"github",label:"github",lang:"L10027",type:"link",icon:"github",link:e.$X.config.system.github,enable:!0,divider:!1},{name:"feedback",label:"feedback",lang:"L10028",type:"link",icon:"feedback",link:e.$X.config.system.feedback,enable:!0,divider:!1}]}}}),methods:{toggleHandler:function(e){var t=this;t.isExpand=void 0!==e?e:!t.isExpand},handleDropdownClick:function(e,t,n){var o=this;console.log("item",e,t,n),o.selected[e.name]=n;var a=e.children[n];o.formData[e.name]=a.name;var i=null;switch(e.name){case"lineWidth":case"lineType":case"lineStyle":i={name:e.name,data:a.name};break;case"zoom":case"startArrow":case"endArrow":i={name:e.name,data:a.data};break;case"language":var r=o.$X.config.cookie.getItem("locale");o.$X.Cookies.set(r,a.name,{expires:7,path:o.$X.config.cookie.path}),o.$i18n.locale=o.$X.langs.locale=a.name;break}i&&o.$X.utils.bus.$emit("editor/tool/trigger",i)},handleToolClick:function(e,t,n){var o=this;if(!e.disabled&&(console.log("MaterialsEditor tool click",e.name,t,n),"center"===t)){var a={};switch(e.name){case"edit":o.mode="edit";break;case"preview":o.mode="preview";break;case"fill":case"lineColor":var i=n.hex8;o.formData[e.name]=i,a=i;break;case"toFront":case"toBack":a=o.currentItem;break}o.$X.utils.bus.$emit("editor/tool/trigger",{name:e.name,data:a})}}},created:function(){var e=this;e.$X.utils.bus.$on("editor/pad/dblclick",e.toggleHandler)}},N=_,z=(n("e5e0"),Object(m["a"])(N,c,s,!1,null,"4ab6a433",null)),$=z.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sketchpad",attrs:{id:"sketchpad"}})},B=[],Y={name:"Sketchpad"},W=Y,H=(n("7f206"),Object(m["a"])(W,T,B,!1,null,"566a58f0",null)),U=H.exports,Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CardBox",{staticClass:"panel-left",attrs:{placement:"left",position:"right",width:250}},[n("CardItem",{attrs:{title:e.$t("L10100"),enableFold:!0,bold:!0}},e._l(e.materials.filter(function(e){return e.enable}),function(e,t){return n("NodeElement",{key:t,attrs:{title:e.label,info:e}})}),1)],1)},R=[],V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card-box",style:e.boxStyle},[n("Handler",{staticClass:"handler",attrs:{mode:e.mode,position:e.position,expand:e.isExpand,callback:e.toggleHandler}}),n("div",{staticClass:"card-body"},[e._t("default")],2)],1)},Z=[],J=(n("c5f6"),{name:"CardBox",components:{Handler:b},props:{width:{type:Number,default:300},placement:{type:String,default:"right"},mode:{type:String,validator:function(e){return["horizontal","vertical"].includes(e)},default:"vertical"},position:{type:String,validator:function(e){return["top","right","bottom","left"].includes(e)},default:"right"}},data:function(){return{isExpand:!0}},computed:{boxStyle:function(){var e=this,t={};return e.placement&&(t[e.placement]=0),e.width&&(t.width=e.width+"px"),e.isExpand?t[e.placement]=0:t[e.placement]=-e.width+"px",t}},methods:{toggleHandler:function(e){var t=this;t.isExpand=void 0!==e?e:!t.isExpand}},created:function(){var e=this;e.$X.utils.bus.$on("editor/pad/dblclick",e.toggleHandler)}}),q=J,G=(n("a187"),Object(m["a"])(q,V,Z,!1,null,"6b3b4c5e",null)),K=G.exports,ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card-item"},[n("div",{staticClass:"header",on:{click:e.handleToggle}},[e.title?n("div",{class:{title:!0,bold:e.bold}},[e._v(e._s(e.title))]):e._e(),n("div",{staticClass:"handler"},[n("Icon",{directives:[{name:"show",rawName:"v-show",value:e.enableFold&&!e.isFolded,expression:"enableFold && !isFolded"}],attrs:{type:"ios-arrow-up"}}),n("Icon",{directives:[{name:"show",rawName:"v-show",value:e.enableFold&&e.isFolded,expression:"enableFold && isFolded"}],attrs:{type:"ios-arrow-down"}})],1)]),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isFolded,expression:"!isFolded"}],staticClass:"body"},[e._t("default")],2)])},te=[],ne={name:"CardItem",props:{title:String,enableFold:{type:Boolean,default:!1},fold:{type:Boolean,default:!1},bold:{type:Boolean,default:!1}},data:function(){return{isFolded:!1}},watch:{fold:function(e,t){var n=this;n.enableFold&&(n.isFolded=t)}},methods:{handleToggle:function(){var e=this;e.enableFold&&(e.isFolded=!e.isFolded)}}},oe=ne,ae=(n("3725"),Object(m["a"])(oe,ee,te,!1,null,"133e41f9",null)),ie=ae.exports,re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"node-element",style:e.elementStyle,on:{mousedown:e.handleMouseDown}},[n("div",{staticClass:"content"},[e._v("\n    "+e._s(e.title)+"\n  ")])])},le=[],de={name:"NodeElement",props:{title:{type:String,required:!0},info:{type:Object,required:!0,default:function(){return{shape:"circle",label:"circle",enable:!0,width:40,height:40,anchorPoints:[[0,0],[0,1],[1,0],[1,1]]}}},width:{type:Number,default:40},height:{type:Number,default:40}},computed:{elementStyle:function(){var e=this,t={};return e.width&&(t.width=e.width+"px"),e.height&&(t.height=e.height+"px"),t}},methods:{handleMouseDown:function(e){var t=this;t.$X.utils.bus.$emit("editor/add/node",t.info)}}},ce=de,se=(n("bd24"),Object(m["a"])(ce,re,le,!1,null,"cb656c94",null)),ue=se.exports,pe={name:"PanelLeft",components:{CardBox:K,CardItem:ie,NodeElement:ue},data:function(){return{materials:F.materials||[]}}},fe=pe,he=(n("504f"),Object(m["a"])(fe,Q,R,!1,null,"4094ef30",null)),me=he.exports,ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CardBox",{attrs:{placement:"right",position:"left",width:300}},[n("CardItem",{attrs:{title:e.$t("L10101"),enableFold:!0,bold:!0}},[n("Options")],1),n("CardItem",{attrs:{title:e.$t("L10102"),enableFold:!0,bold:!0}},[n("Navigator")],1)],1)},be=[],ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"options"},[Object.keys(e.formData).length?n("Form",{attrs:{model:e.formData,"label-position":"top"}},[n("CardItem",{attrs:{title:e.$t("L10103"),enableFold:!0}},[n("div",{staticClass:"form-item-block"},[n("FormItem",{attrs:{label:"x"}},[n("InputNumber",{attrs:{size:"small"},on:{"on-change":e.handleChange},model:{value:e.formData.x,callback:function(t){e.$set(e.formData,"x",t)},expression:"formData.x"}})],1),n("FormItem",{attrs:{label:"y"}},[n("InputNumber",{attrs:{size:"small"},on:{"on-change":e.handleChange},model:{value:e.formData.y,callback:function(t){e.$set(e.formData,"y",t)},expression:"formData.y"}})],1),n("FormItem",{attrs:{label:"width"}},[n("InputNumber",{attrs:{size:"small"},on:{"on-change":e.handleChange},model:{value:e.formData.width,callback:function(t){e.$set(e.formData,"width",t)},expression:"formData.width"}})],1),n("FormItem",{attrs:{label:"height"}},[n("InputNumber",{attrs:{size:"small"},on:{"on-change":e.handleChange},model:{value:e.formData.height,callback:function(t){e.$set(e.formData,"height",t)},expression:"formData.height"}})],1)],1)]),n("CardItem",{attrs:{title:e.$t("L10104"),enableFold:!0}},[n("div",{staticClass:"form-item-block"},[n("FormItem",{attrs:{label:"fill"}},[n("ColorPicker",{attrs:{hue:"",recommend:""},on:{"on-change":e.handleChange},model:{value:e.formData.style.fill,callback:function(t){e.$set(e.formData.style,"fill",t)},expression:"formData.style.fill"}})],1),n("FormItem",{attrs:{label:"fillOpacity"}},[n("Slider",{attrs:{min:0,max:1,step:.1,"show-input":!0,"input-size":"small"},on:{"on-change":e.handleChange},model:{value:e.formData.style.fillOpacity,callback:function(t){e.$set(e.formData.style,"fillOpacity",t)},expression:"formData.style.fillOpacity"}})],1),n("FormItem",{attrs:{label:"stroke"}},[n("ColorPicker",{attrs:{hue:"",recommend:""},on:{"on-change":e.handleChange},model:{value:e.formData.style.stroke,callback:function(t){e.$set(e.formData.style,"stroke",t)},expression:"formData.style.stroke"}})],1),n("FormItem",{attrs:{label:"strokeOpacity"}},[n("Slider",{attrs:{min:0,max:1,step:.1,"show-input":!0,"input-size":"small"},model:{value:e.formData.style.strokeOpacity,callback:function(t){e.$set(e.formData.style,"strokeOpacity",t)},expression:"formData.style.strokeOpacity"}})],1),n("FormItem",{attrs:{label:"lineWidth"}},[n("Slider",{attrs:{min:1,max:10,step:1,"show-input":!0,"input-size":"small"},on:{"on-change":e.handleChange},model:{value:e.formData.style.lineWidth,callback:function(t){e.$set(e.formData.style,"lineWidth",t)},expression:"formData.style.lineWidth"}})],1)],1)]),n("CardItem",{attrs:{title:e.$t("L10105"),enableFold:!0}},[n("div",{staticClass:"form-item-block"},[n("FormItem",{attrs:{label:"label"}},[n("Input",{attrs:{size:"small"},on:{"on-change":e.handleChange},model:{value:e.formData.label,callback:function(t){e.$set(e.formData,"label",t)},expression:"formData.label"}})],1),e.formData.labelCfg?n("FormItem",{attrs:{label:"position"}},[n("Select",{attrs:{size:"small"},on:{"on-change":e.handleChange},model:{value:e.formData.labelCfg.position,callback:function(t){e.$set(e.formData.labelCfg,"position",t)},expression:"formData.labelCfg.position"}},[n("Option",{attrs:{value:"center"}},[e._v("center")]),n("Option",{attrs:{value:"top"}},[e._v("top")]),n("Option",{attrs:{value:"left"}},[e._v("left")]),n("Option",{attrs:{value:"right"}},[e._v("right")]),n("Option",{attrs:{value:"bottom"}},[e._v("bottom")])],1)],1):e._e(),e.formData.labelCfg?n("FormItem",{attrs:{label:"offset"}},[n("InputNumber",{attrs:{size:"small"},on:{"on-change":e.handleChange},model:{value:e.formData.labelCfg.offset,callback:function(t){e.$set(e.formData.labelCfg,"offset",t)},expression:"formData.labelCfg.offset"}})],1):e._e()],1)])],1):e._e()],1)},ve=[];function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(n,!0).forEach(function(t){Object(l["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Oe={name:"Options",components:{CardItem:ie},data:function(){return{formData:{},fieldMap:{enabled:[],disabled:["anchorPoints","shapeControl","size"],common:[{name:"x",label:"x坐标",lang:"",type:"number",component:"InputNumber",enable:!0,children:[]},{name:"y",label:"y坐标",lang:"",type:"number",component:"InputNumber",enable:!0,children:[]},{name:"width",label:"宽度",lang:"",type:"number",component:"InputNumber",enable:!0,children:[]},{name:"height",label:"高度",lang:"",type:"number",component:"InputNumber",enable:!0,children:[]},{name:"label",label:"文本",lang:"",type:"string",component:"Input",enable:!0,children:[]},{name:"labelCfg",label:"文本样式",lang:"",type:"object",component:"OptionGroup",enable:!0,children:[{name:"position",label:"位置",lang:"",type:"string",component:"Select",enable:!0,option:["center","top","left","right","bottom"],children:[]},{name:"offset",label:"偏移",lang:"",type:"string",component:"InputNumber",enable:!0,children:[]},{name:"style",label:"文本样式",lang:"",type:"object",component:"OptionGroup",enable:!1,children:[]}]},{name:"shape",label:"形状",lang:"",type:"string",component:"Select",enable:!0,children:[]},{name:"style",label:"样式",lang:"",type:"object",component:"OptionGroup",enable:!1,children:[]}],node:[],edge:[]}}},computed:we({},Object(d["b"])(["currentItem"])),watch:{currentItem:{handler:function(e){var t=this;t.formData=we({},e.model)},deep:!0}},methods:{handleChange:function(){var e=this,t=we({},e.formData,{size:[e.formData.width,e.formData.height]});e.$X.utils.bus.$emit("editor/currentItem/update",{id:e.currentItem.model.id,type:e.currentItem.type,model:t})}}},Ce=Oe,ke=(n("d48d"),Object(m["a"])(Ce,ye,ve,!1,null,"10d4ff15",null)),Ae=ke.exports,Le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"navigator",attrs:{id:"navigator"}})},Pe=[],je={name:"Navigator"},Se=je,Ie=(n("28fd"),Object(m["a"])(Se,Le,Pe,!1,null,"3db0f4e1",null)),De=Ie.exports,Me={name:"PanelRight",components:{CardBox:K,CardItem:ie,Options:Ae,Navigator:De}},Fe=Me,Xe=Object(m["a"])(Fe,ge,be,!1,null,"11ea68b5",null),Ee=Xe.exports,_e=n("07cd"),Ne=n.n(_e),ze=(n("8615"),n("6c7b"),n("75fc")),$e={style:{default:{radius:3,symbol:"circle",fill:"#FFFFFF",fillOpacity:0,stroke:"#1890FF",strokeOpacity:0,cursor:"crosshair"},hover:{fillOpacity:1,strokeOpacity:1},unhover:{fillOpacity:0,strokeOpacity:0},active:{fillOpacity:1,strokeOpacity:1},inactive:{fillOpacity:0,strokeOpacity:0}}},Te={style:{default:{fill:"#FFFFFF",fillOpacity:1,stroke:"#1890FF",strokeOpacity:1,lineDash:[5,5]}}},Be={style:{default:{fill:"red",r:3}},delay:3e3},Ye={style:{default:{point:{radius:3,symbol:"square",fill:"#FFFFFF",fillOpacity:0,stroke:"#558EF0",strokeOpacity:0},edge:{fill:"#FFFFFF",fillOpacity:0,stroke:"red",strokeOpacity:0}},active:{point:{fillOpacity:1,strokeOpacity:1},edge:{fillOpacity:1,strokeOpacity:1}},inactive:{point:{fillOpacity:0,strokeOpacity:0},edge:{fillOpacity:0,strokeOpacity:0}}}},We={style:{default:{stroke:"#000000",strokeOpacity:1},active:{shadowColor:"red",shadowBlur:4,shadowOffsetX:0,shadowOffsetY:0},inactive:{shadowColor:""}},type:{solid:{lineDash:[]},dashed:{lineDash:[5,5]},dot:{lineDash:[2,2]}}},He={startArrow:{},endArrow:{}},Ue={anchor:$e,dottedNode:Te,lineAnimate:Be,shapeControl:Ye,line:We,lineArrow:He},Qe=(n("8449"),n("768b"));function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(n,!0).forEach(function(t){Object(l["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ze=function(e,t){var n=e.anchorPoints,o=e.width,a=e.height,i=e.id;if(n&&n.length)for(var r=0,l=n.length;r<l;r++){var d=Object(Qe["a"])(n[r],2),c=d[0],s=d[1],u=-o/2,p=-a/2,f=c*o+u,h=s*a+p;t.addShape("marker",{id:i+"_anchor_"+r,attrs:Ve({name:"anchor",x:f,y:h},Ue.anchor.style.default)})}},Je=function(e,t,n){if("hover"===e)for(var o=n.getContainer(),a=o.get("children"),i=0,r=a.length;i<r;i++){var l=a[i];"anchor"===l._attrs.name&&(t?l.attr(Ue.anchor.style.hover):l.attr(Ue.anchor.style.unhover))}},qe=function(e,t){var n=e.anchorPoints,o=e.width,a=e.height,i=e.id;if(n&&n.length)for(var r=0,l=n.length;r<l;r++){var d=Object(Qe["a"])(n[r],2),c=d[0],s=d[1],u=-o/2,p=-a/2,f=c*o+u,h=s*a+p,m=t.findById(i+"_anchor_"+r);m.attr({x:f,y:h})}};function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(n,!0).forEach(function(t){Object(l["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var et=function(e,t){var n=e.shapeControl,o=e.width,a=e.height,i=e.id;if(n&&n.hasOwnProperty("controllers")&&n.controllers.length)for(var r=0,l=n.controllers.length;r<l;r++){var d=Object(Qe["a"])(n.controllers[r],3),c=d[0],s=d[1],u=d[2],p=-o/2,f=-a/2,h=c*o+p,m=s*a+f;t.addShape("marker",{id:i+"_shape_control_point"+r,index:r,name:"shapeControlPoint",attrs:Ke({name:"shapeControlPoint",x:h,y:m,position:{x:c,y:s},cursor:u||"pointer"},Ue.shapeControl.style.default.point)})}},tt=function(e,t,n){if("active"===e)for(var o=n.getContainer(),a=o.get("children"),i=0,r=a.length;i<r;i++){var l=a[i];"shapeControlPoint"===l._attrs.name&&(t?l.attr(Ue.shapeControl.style.active.point):l.attr(Ue.shapeControl.style.inactive.point)),"shapeControlEdge"===l._attrs.name&&(t?l.attr(Ue.shapeControl.style.active.edge):l.attr(Ue.shapeControl.style.inactive.edge))}},nt=function(e,t){var n=e.shapeControl,o=e.width,a=e.height,i=e.id;if(n&&n.hasOwnProperty("controllers")&&n.controllers.length)for(var r=0,l=n.controllers.length;r<l;r++){var d=Object(Qe["a"])(n.controllers[r],2),c=d[0],s=d[1],u=-o/2,p=-a/2,f=c*o+u,h=s*a+p,m=t.findById(i+"_shape_control_point"+r);m.attr({x:f,y:h})}};n("7514");function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(n,!0).forEach(function(t){Object(l["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var it=function(e,t){var n=t.getFirst(),o=n.getPoint(0);if(o){var a="edgeAnimatePoint",i=t.find(function(e){return e.name===a});i||(i=t.addShape("circle",{id:e.id+"_edge_animate_point_",name:a,attrs:at({x:o.x,y:o.y},Ue.lineAnimate.style.default)})),i.animate({onFrame:function(e){var t=n.getPoint(e);if(t)return{x:t.x,y:t.y}},repeat:!0},Ue.lineAnimate.delay)}},rt=function(e,t){var n=t.findAll(function(e){return e._cfg&&"edgeAnimatePoint"===e._cfg.name});n.forEach(function(e){e.remove&&e.remove()})},lt=function(e,t,n){if("active"===e){var o=n.getContainer(),a=o.get("children"),i=a[0];i&&(t?(i.attr(Ue.line.style.active),it(n.getModel(),n.getContainer())):(i.attr(Ue.line.style.inactive),rt(n.getModel(),n.getContainer())))}},dt=function(e,t){var n=t.getEdges();if(n&&n.length){var o=e.getModel();n.forEach(function(n){var a=n.getModel();if(o.id===a.attrs.start){var i=a.source,r=e.getLinkPointByAnchor(i.index);t.updateItem(n,{source:r})}else if(o.id===a.attrs.end){var l=a.target,d=e.getLinkPointByAnchor(l.index);t.updateItem(n,{target:d})}})}},ct={drawAnchor:Ze,setAnchorActive:Je,updateAnchor:qe,drawShapeControl:et,setShapeControlActive:tt,updateShapeControl:nt,setLineActive:lt,updateLine:dt,drawLineAnimate:it,destroyLineAnimate:rt};function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(n,!0).forEach(function(t){Object(l["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var pt={name:"node-control",options:{getDefaultCfg:function(){return{config:{updateEdge:!0,nodeLabel:!0,edgeLabel:!0,tooltip:{shapeControl:!0,dragNode:!0}}}},getEvents:function(){return{"editor:addNode":"startAddNode","node:mousedown":"onNodeMousedown","node:mouseup":"onNodeMouseup","node:dblclick":"onNodeDblclick","canvas:mouseenter":"onCanvasMouseenter","canvas:mouseleave":"onCanvasMouseleave","edge:mousedown":"onEdgeMousedown","edge:mouseup":"onEdgeMouseup","edge:dblclick":"onEdgeDblclick",mousemove:"onMousemove",mouseup:"onMouseup"}},startAddNode:function(e){var t=this;t.info={type:"dragNode",node:e,target:null},t.dragNode.status="dragNodeToEditor"},onNodeMousedown:function(e){var t=this,n=e.item.getModel();if(t.graph.emit("editor:getItem",{type:"node",id:n.id,model:n}),t.info={type:null,node:e.item,target:e.target},t.info.target&&t.info.target._attrs.name)switch(t.info.target._attrs.name){case"anchor":t.info.type="drawLine";break;case"shapeControlPoint":t.info.type="shapeControl";break}else t.info.type="dragNode";t.info&&t.info.type&&t[t.info.type].start.call(t,e)},onNodeMouseup:function(e){var t=this;t.info&&t.info.type&&t[t.info.type].stop.call(t,e)},onNodeDblclick:function(e){var t=this;t.config.nodeLabel&&t.nodeLabel.create.call(t,e)},onCanvasMouseenter:function(e){var t=this;t.info&&"dragNode"===t.info.type&&t[t.info.type].createDottedNode.call(t,e)},onCanvasMouseleave:function(e){var t=this;t.info&&"dragNode"===t.info.type&&t[t.info.type].stop.call(t,e)},onEdgeMousedown:function(e){var t=this,n=e.item.getModel();t.graph.emit("editor:getItem",{type:"edge",id:n.id,model:n})},onEdgeMouseup:function(e){var t=this;t.info&&"drawLine"===t.info.type&&t[t.info.type].stop.call(t,e)},onEdgeDblclick:function(e){var t=this;t.config.edgeLabel&&t.edgeLabel.create.call(t,e)},onMousemove:function(e){var t=this;t.info&&t.info.type&&t[t.info.type].move.call(t,e)},onMouseup:function(e){var t=this;t.info&&"dragNode"===t.info.type&&"dragNodeToEditor"===t.dragNode.status&&t[t.info.type].createNode.call(t,e)},drawLine:{isMoving:!1,currentLine:null,start:function(e){var t,n=this,o=n.info.node.getModel(),a=n.info.node.getAnchorPoints();a&&a.length&&(t=n.info.node.getLinkPoint({x:e.x,y:e.y})),n.drawLine.currentLine=n.graph.addItem("edge",{id:Ne.a.Util.uniqueId(),source:o.id,sourceAnchor:t?t.anchorIndex:"",target:{x:e.x,y:e.y},attrs:{},style:ut({stroke:n.graph.$X.lineColor,lineWidth:n.graph.$X.lineWidth},Ue.line.type[n.graph.$X.lineStyle]),shape:n.graph.$X.lineType||"line",startArrow:n.graph.$X.startArrow||!1,endArrow:n.graph.$X.endArrow||!1}),n.drawLine.isMoving=!0},move:function(e){var t=this;t.drawLine.isMoving&&t.drawLine.currentLine&&t.graph.updateItem(t.drawLine.currentLine,{target:{x:e.x,y:e.y}})},stop:function(e){var t=this;if(t.drawLine.isMoving)if(t.drawLine.currentLine===e.item)t.graph.removeItem(e.item);else{var n,o=e.item,a=t.info.node.getModel(),i=o.getModel(),r=o.getAnchorPoints();r&&r.length&&(n=o.getLinkPoint({x:e.x,y:e.y})),t.graph.updateItem(t.drawLine.currentLine,{target:i.id,targetAnchor:n?n.anchorIndex:"",attrs:{start:a.id,end:i.id}})}t.drawLine.currentLine=null,t.drawLine.isMoving=!1,t.info=null}},shapeControl:{isMoving:!1,startPoint:null,start:function(e){var t=this,n=t.info.node.getModel();t.shapeControl.startPoint={x:n.x,y:n.y,size:n.size||[]},t.shapeControl.isMoving=!0,t.config.tooltip.shapeControl&&t.toolTip.create.call(t,{left:n.clientX,top:n.clientY+n.height/2},"X: ".concat(n.x.toFixed(2)," Y: ").concat(n.y.toFixed(2),"<br>W: ").concat(n.size[0].toFixed(2)," H: ").concat(n.size[1].toFixed(2)))},move:function(e){var t=this;if(t.info.node&&t.info.target&&t.shapeControl.startPoint&&t.shapeControl.isMoving){var n=t.info.node.getModel(),o=t.info.target._attrs,a=o.position,i={x:t.shapeControl.startPoint.x,y:t.shapeControl.startPoint.y,size:Object(ze["a"])(n.size)},r=n.width,l=n.height;if(a){var d={};if(0===a.x){if(0===a.y){if(d={x:t.shapeControl.startPoint.x+r/2,y:t.shapeControl.startPoint.y+l/2},i.size[0]=Math.abs(d.x-e.x),i.size[1]=Math.abs(d.y-e.y),i.x=e.x+i.size[0]/2,i.y=e.y+i.size[1]/2,e.x>t.shapeControl.startPoint.x||e.y>t.shapeControl.startPoint.y||i.size[0]<t.minWidth||i.size[1]<t.minHeight)return}else if(1===a.y&&(d={x:t.shapeControl.startPoint.x+r/2,y:t.shapeControl.startPoint.y-l/2},i.size[0]=Math.abs(d.x-e.x),i.size[1]=Math.abs(d.y-e.y),i.x=e.x+i.size[0]/2,i.y=e.y-i.size[1]/2,e.x>t.shapeControl.startPoint.x||e.y<t.shapeControl.startPoint.y||i.size[0]<t.minWidth||i.size[1]<t.minHeight))return}else if(1===a.x)if(0===a.y){if(d={x:t.shapeControl.startPoint.x-r/2,y:t.shapeControl.startPoint.y+l/2},i.size[0]=Math.abs(d.x-e.x),i.size[1]=Math.abs(d.y-e.y),i.x=e.x-i.size[0]/2,i.y=e.y+i.size[1]/2,e.x<t.shapeControl.startPoint.x||e.y>t.shapeControl.startPoint.y||i.size[0]<t.minWidth||i.size[1]<t.minHeight)return}else if(1===a.y&&(d={x:t.shapeControl.startPoint.x-r/2,y:t.shapeControl.startPoint.y-l/2},i.size[0]=Math.abs(d.x-e.x),i.size[1]=Math.abs(d.y-e.y),i.x=e.x-i.size[0]/2,i.y=e.y-i.size[1]/2,e.x<t.shapeControl.startPoint.x||e.y<t.shapeControl.startPoint.y||i.size[0]<t.minWidth||i.size[1]<t.minHeight))return}t.info.attrs=ut({},i,{width:i.size[0],height:i.size[1]}),t.config.tooltip.shapeControl&&t.toolTip.update.call(t,{left:i.clientX,top:i.clientY+i.size[1]/2},"X: ".concat(i.x.toFixed(2)," Y: ").concat(i.y.toFixed(2),"<br>W: ").concat(i.size[0].toFixed(2)," H: ").concat(i.size[1].toFixed(2)));var c=t.info.node.getContainer();ct.updateAnchor(ut({},t.info.node.getModel(),{width:i.size[0],height:i.size[1]}),c),ct.updateShapeControl(ut({},t.info.node.getModel(),{width:i.size[0],height:i.size[1]}),c),t.graph.updateItem(t.info.node,i),t.config.updateEdge&&ct.updateLine(t.info.node,t.graph)}},stop:function(e){var t=this;if(t.info.node&&t.info.attrs&&t.shapeControl.startPoint&&t.shapeControl.isMoving){var n=t.info.attrs,o=t.info.node.getContainer();ct.updateAnchor(ut({},t.info.node.getModel(),{width:n.size[0],height:n.size[1]}),o),ct.updateShapeControl(ut({},t.info.node.getModel(),{width:n.size[0],height:n.size[1]}),o),t.graph.updateItem(t.info.node,n)}t.config.tooltip.shapeControl&&t.toolTip.destroy.call(t),t.shapeControl.startPoint=null,t.shapeControl.isMoving=!1,t.info=null}},dragNode:{dottedNode:null,status:null,dottedNodeStyle:ut({},Ue.dottedNode.style.default),createDottedNode:function(e){var t=this;if(!t.dragNode.dottedNode&&t.info.node){var n=t.info.node,o=n.width,a=n.height,i=t.graph.get("group");t.dragNode.dottedNode=i.addShape("rect",{attrs:ut({},t.dragNode.dottedNodeStyle,{width:o,height:a,x:e.x-o/2,y:e.y-a/2})}),t.graph.paint(),t.config.tooltip.dragNode&&t.toolTip.create.call(t,{left:e.clientX,top:e.clientX},"X: ".concat(e.x.toFixed(2)," Y: ").concat(e.y.toFixed(2),"<br>W: ").concat(o.toFixed(2)," H: ").concat(a.toFixed(2)))}},createNode:function(e){var t=this;if(t.dragNode.dottedNode&&t.info.node){var n=t.info.node,o=n.width,a=n.height,i=ut({},t.info.node,{id:Ne.a.Util.uniqueId(),x:e.x,y:e.y,size:[o,a],style:ut({fill:t.graph.$X.fill,stroke:t.graph.$X.lineColor,lineWidth:t.graph.$X.lineWidth},Ue.line.type[t.graph.$X.lineStyle])});t.graph.addItem("node",i),t.dragNode.clear.call(t),t.config.tooltip.dragNode&&t.toolTip.destroy.call(t),t.graph.paint()}},start:function(e){var t=this;if(t.config.tooltip.dragNode){var n=t.info.node.getModel(),o=n.width,a=n.height;t.toolTip.create.call(t,{left:e.clientX,top:e.clientY+a/2},"X: ".concat(e.x.toFixed(2)," Y: ").concat(e.y.toFixed(2),"<br>W: ").concat(o.toFixed(2)," H: ").concat(a.toFixed(2)))}t.dragNode.status="dragNode"},move:function(e){var t=this;if("dragNodeToEditor"===t.dragNode.status){if(t.dragNode.dottedNode&&t.info.node){var n=t.info.node,o=n.width,a=n.height;t.dragNode.dottedNode.attr({x:e.x-o/2,y:e.y-a/2}),t.graph.paint(),t.config.tooltip.dragNode&&t.toolTip.update.call(t,{left:e.clientX,top:e.clientY+a/2},"X: ".concat(e.x.toFixed(2)," Y: ").concat(e.y.toFixed(2),"<br>W: ").concat(o.toFixed(2)," H: ").concat(a.toFixed(2)))}}else if("dragNode"===t.dragNode.status&&t.info.node){var i={x:e.x,y:e.y};if(t.graph.updateItem(t.info.node,i),t.config.updateEdge&&ct.updateLine(t.info.node,t.graph),t.config.tooltip.dragNode){var r=t.info.node.getModel(),l=r.width,d=r.height;t.toolTip.update.call(t,{left:e.clientX,top:e.clientY+d/2},"X: ".concat(e.x.toFixed(2)," Y: ").concat(e.y.toFixed(2),"<br>W: ").concat(l.toFixed(2)," H: ").concat(d.toFixed(2)))}}},stop:function(e){var t=this;t.dragNode.clear.call(t),t.config.tooltip.dragNode&&t.toolTip.destroy.call(t),t.graph.paint()},clear:function(){var e=this;e.dragNode.dottedNode&&(e.dragNode.dottedNode.remove(),e.dragNode.dottedNode=null),e.dragNode.status=null,e.info=null}},nodeLabel:{create:function(e){var t=this,n=t.graph.get("canvas"),o=e.item,a=o.getModel(),i=a.id,r=a.label,l=a.width,d=a.height,c=n.get("el"),s=Ne.a.Util.createDom('<input id="'.concat(i,'" class="node-label" autofocus value="').concat(r,'"></input>'));s&&(c.parentNode.appendChild(s),s.focus&&s.focus(),Ne.a.Util.modifyCSS(s,{display:"inline-block",position:"absolute",left:e.clientX-l/2+"px",top:e.clientY-d/2+"px",width:l+"px",height:d+"px",lineHeight:d+"px",textAlign:"center",overflow:"hidden",fontSize:"14px"}),s.addEventListener("blur",function(){t.graph.updateItem(o,{label:s.value,labelCfg:{style:{fontSize:16,stroke:"#000000"}}}),c.parentNode.removeChild(s)}))}},edgeLabel:{create:function(e){var t,n,o=this,a=o.graph.get("canvas"),i=e.item,r=i.getModel(),l=r.id,d=r.label,c=r.source,s=r.sourceAnchor,u=r.target,p=r.targetAnchor,f=o.graph.findById(c),h=o.graph.findById(u),m=f.getAnchorPoints(),g=h.getAnchorPoints(),b=m[s],y=g[p],v=40,x=100,w=40,O=20,C=Math.abs(y.x-b.x);C<v&&(w=v),C>x&&(w=x),t=b.x<y.x?b.x+C/2-w/2+"px":y.x+C/2-w/2+"px",n=b.y<y.y?b.y+Math.abs(y.y-b.y)/2-O/2+"px":y.y+Math.abs(y.y-b.y)/2-O/2+"px";var k=a.get("el"),A=Ne.a.Util.createDom('<input id="'.concat(l,'" class="edge-label" autofocus value="').concat(d,'"></input>'));A&&(k.parentNode.appendChild(A),A.focus&&A.focus(),Ne.a.Util.modifyCSS(A,{display:"inline-block",position:"absolute",left:t,top:n,width:w+"px",height:O+"px",lineHeight:O+"px",textAlign:"center",overflow:"hidden",fontSize:"14px"}),A.addEventListener("blur",function(){o.graph.updateItem(i,{label:A.value,labelCfg:{position:"center",style:{fontSize:16,stroke:"#000000"}}}),k.parentNode.removeChild(A)}))}},toolTip:{currentTip:null,create:function(e,t){var n=this;if(n.toolTip.currentTip)console.warn("Editor Warn:: can't creat tootip when currentTip not null!");else{var o=n.graph.get("canvas"),a=o.get("el");n.toolTip.currentTip=Ne.a.Util.createDom('<div class="tooltip">'.concat(t,"</div>")),n.toolTip.currentTip&&(a.parentNode.appendChild(n.toolTip.currentTip),Ne.a.Util.modifyCSS(n.toolTip.currentTip,{display:"inline-block",position:"absolute",left:e.left+"px",top:e.top+"px",padding:"5px 10px",width:"160px",marginTop:"10px",marginLeft:"-80px",background:"#F2F2F2",color:"#444444",border:"1px solid #D1D1D1",textAlign:"center",overflow:"hidden",fontSize:"14px"}))}},update:function(e,t){var n=this;n.toolTip.currentTip&&(n.toolTip.currentTip.innerHTML=t,Ne.a.Util.modifyCSS(n.toolTip.currentTip,{left:e.left+"px",top:e.top+"px"}))},destroy:function(){var e=this;if(e.toolTip.currentTip){var t=e.graph.get("canvas"),n=t.get("el");n.parentNode.removeChild(e.toolTip.currentTip),e.toolTip.currentTip=null}}}}},ft={nodeControl:pt},ht=function(e){Object.values(ft).map(function(t){e.registerBehavior(t.name,t.options)})};function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(n,!0).forEach(function(t){Object(l["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var bt={draw:function(e,t){var n=e.startPoint,o=e.endPoint,a=t.addShape("path",{className:"edge-shape",attrs:gt({},e,{path:[["M",n.x,n.y],["L",o.x,o.y]]})});return a},setState:function(e,t,n){ct.setLineActive(e,t,n)}};function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yt(n,!0).forEach(function(t){Object(l["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var xt={name:"x-line",extendName:"line",options:vt({},bt)};function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wt(n,!0).forEach(function(t){Object(l["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ct={name:"x-cubic",extendName:"cubic",options:Ot({},bt)},kt=(n("20d6"),function(e,t,n,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10,i=e&&e.getBBox?e.getBBox():At(n),r=t&&t.getBBox?t.getBBox():At(o),l=Lt(i,a),d=Lt(r,a),c=Pt(l,n),s=Pt(d,o),u=jt(l,d,c,s);Ft(u,l),Ft(u,d);var p=_t(u,c,s,l,d);return p}),At=function(e){return{centerX:e.x,centerY:e.y,minX:e.x,minY:e.y,maxX:e.x,maxY:e.y,height:0,width:0}},Lt=function(e,t){return 0===e.width&&0===e.height?e:{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}},Pt=function(e,t){return Math.abs(t.x-e.centerX)/e.width>Math.abs(t.y-e.centerY)/e.height?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}},jt=function(e,t,n,o){var a=St(n,o),i=It(e,t),r=It(e,a),l=It(t,a),d=[].concat(Object(ze["a"])(Dt(r)),Object(ze["a"])(Dt(l)),Object(ze["a"])(Dt(i))),c={x:i.centerX,y:i.centerY},s=[i,r,l,a];return s.forEach(function(e){d=[].concat(Object(ze["a"])(d),Object(ze["a"])(Mt(e,c)))}),d.push({x:n.x,y:o.y}),d.push({x:o.x,y:n.y}),d},St=function(e,t){var n=Math.min(e.x,t.x),o=Math.max(e.x,t.x),a=Math.min(e.y,t.y),i=Math.max(e.y,t.y);return{centerX:(n+o)/2,centerY:(a+i)/2,maxX:o,maxY:i,minX:n,minY:a,height:i-a,width:o-n}},It=function(e,t){var n=Math.min(e.minX,t.minX),o=Math.min(e.minY,t.minY),a=Math.max(e.maxX,t.maxX),i=Math.max(e.maxY,t.maxY);return{centerX:(n+a)/2,centerY:(o+i)/2,minX:n,minY:o,maxX:a,maxY:i,height:i-o,width:a-n}},Dt=function(e){return[{x:e.minX,y:e.minY},{x:e.maxX,y:e.minY},{x:e.maxX,y:e.maxY},{x:e.minX,y:e.maxY}]},Mt=function(e,t){var n=[];return t.x<e.minX||t.x>e.maxX||(n=[].concat(Object(ze["a"])(n),[{x:t.x,y:e.minY},{x:t.x,y:e.maxY}])),t.y<e.minY||t.y>e.maxY||(n=[].concat(Object(ze["a"])(n),[{x:e.minX,y:t.y},{x:e.maxX,y:t.y}])),n},Ft=function(e,t){return e.filter(function(e){return e.x<=t.minX||e.x>=t.maxX||e.y<=t.minY||e.y>=t.maxY})},Xt=function(e,t,n){for(var o=0;o<e.length;o++){var a=e[o];if(t.x===n.x&&a.minX<t.x&&a.maxX>t.x){if(t.y<a.maxY&&n.y>=a.maxY||n.y<a.maxY&&t.y>=a.maxY)return!0}else if(t.y===n.y&&a.minY<t.y&&a.maxY>t.y&&(t.x<a.maxX&&n.x>=a.maxX||n.x<a.maxX&&t.x>=a.maxX))return!0}return!1},Et=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},_t=function(e,t,n,o,a){var i=[t],r=[];e.forEach(function(e){e.id=e.x+"-"+e.y});var l,d=[];e.forEach(function(e){d.includes(function(t){return t.id===e.id})||d.push(e)}),e=[].concat(d,[n]);var c=function(){var t=void 0;if(i.forEach(function(e,n){e.parent||(e.f=0),t||(t=e),e.f<t.f&&(t=e)}),t.x===n.x&&t.y===n.y)return l=t,"break";i.splice(i.findIndex(function(e){return e.x===t.x&&e.y===t.y}),1),r.push(t);var d=e.filter(function(e){return(e.x===t.x||e.y===t.y)&&!(e.x===t.x&&e.y===t.y)&&!Xt([o,a],t,e)});d.forEach(function(e){var o=i.find(function(t){return t.x===e.x&&t.y===e.y}),l=Et(e,t);if(!r.find(function(t){return t.x===e.x&&t.y===e.y}))if(o)e.g>l&&(e.parent=t,e.g=l,e.f=e.g+e.h);else{e.parent=t,e.g=l;var d=Et(e,n);Xt([a],e,n)&&(d+=a.width/2+a.height/2),e.h=d,e.f=e.g+e.h,i.push(e)}})};while(i.length>0){var s=c();if("break"===s)break}if(l){var u=[];u.push({x:l.x,y:l.y});while(l.parent)l=l.parent,u.push({x:l.x,y:l.y});return u.reverse()}return[]};function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(n,!0).forEach(function(t){Object(l["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var $t={name:"x-broken",extendName:"polyline",options:zt({},bt,{draw:function(e,t){var n=e.startPoint,o=e.endPoint,a=this.getControlPoints(e),i=[n];a&&i.push(a),i.push(o);var r=this.getPath(i),l=t.addShape("path",{className:"edge-shape",attrs:zt({},e,{path:r})});return l},getPath:function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n];if(0===n)t.push(["M",o.x,o.y]);else if(n===e.length-1)t.push(["L",o.x,o.y]);else{var a=e[n-1],i=e[n+1],r=5;(Math.abs(o.y-a.y)>r||Math.abs(o.x-a.x)>r)&&(a.x===o.x?t.push(["L",o.x,o.y>a.y?o.y-r:o.y+r]):a.y===o.y&&t.push(["L",o.x>a.x?o.x-r:o.x+r,o.y]));var l=Math.abs(o.y-i.y),d=Math.abs(o.x-i.x);l>0&&l<r?r=l:d>0&&d<r&&(r=d),a.x!==i.x&&i.x===o.x?t.push(["Q",o.x,o.y,o.x,o.y>i.y?o.y-r:o.y+r]):a.y!==i.y&&i.y===o.y&&t.push(["Q",o.x,o.y,o.x>i.x?o.x-r:o.x+r,o.y])}}return t},getControlPoints:function(e){return e.sourceNode?kt(e.sourceNode,e.targetNode,e.startPoint,e.endPoint,25):e.controlPoints}})},Tt={line:xt,cubic:Ct,broken:$t},Bt=function(e){Object.values(Tt).map(function(t){e.registerEdge(t.name,t.options,t.extendName)})},Yt={name:"x-rect",extendName:"rect",options:{setState:function(e,t,n){ct.setAnchorActive(e,t,n),ct.setShapeControlActive(e,t,n)},afterDraw:function(e,t){ct.drawAnchor(e,t),ct.drawShapeControl(e,t)}}},Wt={name:"x-circle",extendName:"circle",options:{setState:function(e,t,n){ct.setAnchorActive(e,t,n),ct.setShapeControlActive(e,t,n)},afterDraw:function(e,t){ct.drawAnchor(e,t),ct.drawShapeControl(e,t)}}},Ht={rect:Yt,circle:Wt},Ut=function(e){Object.values(Ht).map(function(t){e.registerNode(t.name,t.options,t.extendName)})};Ne.a.$C=Ue,ht(Ne.a),Bt(Ne.a),Ut(Ne.a);var Qt=Ne.a,Rt=n("027f"),Vt=n.n(Rt),Zt=n("3820"),Jt=n.n(Zt),qt=n("93bf"),Gt=n.n(qt);function Kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kt(n,!0).forEach(function(t){Object(l["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tn={name:"MaterialsEditor",components:{ToolBar:$,Sketchpad:U,PanelLeft:me,PanelRight:Ee},data:function(){return{editorInfo:{},defInfo:{status:"add"},editor:null,isFullScreen:!1,clipboard:{data:null,count:0}}},computed:en({},Object(d["b"])(["currentItem"])),methods:{init:function(){var e=this,t=e.$el,n=t.querySelector("#sketchpad"),o=t.querySelector("#navigator");console.log("sketchpad",n,n.clientWidth,n.clientHeight),console.log("navigator",o,o.clientWidth,o.clientHeight);var a=[o.clientWidth,parseInt(o.clientWidth*n.clientHeight/n.clientWidth)];console.log("size",a);var i=new Vt.a({container:o,type:"delegate",size:a}),r=new Jt.a;e.editor=new Qt.Graph({plugins:[i,r],container:n,width:n.clientWidth,height:n.clientHeight,fitViewPadding:20,modes:{edit:["zoom-canvas","drag-canvas","click-select",{type:"node-control",updateEdge:!0,enableNodeLabel:!0,enableEdgeLabel:!0}],preview:["drag-canvas","zoom-canvas"]},nodeStyle:{default:{fill:"#FFFFFF",fillOpacity:1,stroke:"#000000",strokeOpacity:1,cursor:"move"},active:{},selected:{},hover:{}},edgeStyle:{default:{stroke:"#000000",strokeOpacity:1,lineAppendWidth:10,cursor:"pointer"}}}),e.editor.$X=en({},F.$X),e.editor.$C=Qt.$C,e.editor.setMode("edit"),e.editor.on("canvas:mousedown",e._canvasMousedown),e.editor.on("canvas:mouseup",e._canvasMouseup),e.editor.on("node:mousedown",e._nodeMousedown),e.editor.on("node:mouseover",e._nodeHover),e.editor.on("node:mouseout",e._nodeOut),e.editor.on("edge:mousedown",e._edgeMousedown),e.editor.on("editor:getItem",function(t){console.log("editor:getItem",JSON.stringify(t)),e.$store.commit("editor/currentItem/update",t)}),e.editor.on("editor:setItem",function(t){console.log("editor:setItem",JSON.stringify(t));var n=e.editor.findById(t.id);n&&(e.editor.updateItem(n,t.model),e.editor.paint())})},_canvasMousedown:function(){var e=this;console.log("_canvasMousedown "),e.doClearAllStates()},_canvasMouseup:function(){console.log("_canvasMouseup")},_editorClick:function(e){console.log("_editorClick",e)},_nodeClick:function(e){console.log("_nodeClick",e)},_nodeMousedown:function(e){var t=this;t.doClearAllStates(),e.item.hasState("active")||t.editor.setItemState(e.item,"active",!0)},_nodeHover:function(e){var t=this;t.editor.setItemState(e.item,"hover",!0)},_nodeOut:function(e){var t=this;t.editor.setItemState(e.item,"hover",!1)},_nodeContextmenu:function(e){console.log("_nodeContextmenu",e)},_edgeMousedown:function(e){var t=this;t.doClearAllStates(),console.log("_edgeMousedown",e),e.item&&!e.item.destroyed&&t.editor.setItemState(e.item,"active",!e.item.hasState("active"))},doClearAllStates:function(){var e=this;e.editor&&(e.editor.setAutoPaint(!1),e.editor.getNodes().forEach(function(t){e.editor.clearItemStates(t)}),e.editor.getEdges().forEach(function(t){e.editor.clearItemStates(t)}),e.editor.paint(),e.editor.setAutoPaint(!0))},doCopy:function(){var e=this;e.currentItem&&"node"===e.currentItem.type&&(e.clipboard={data:e.currentItem,count:0})},doPaste:function(){var e=this,t=e.clipboard.data;if(e.clipboard.count++,console.log("item",t),t&&"node"===t.type){var n=en({},t.model,{id:Qt.Util.uniqueId(),x:t.model.x+10*e.clipboard.count,y:t.model.y+10*e.clipboard.count});e.editor.addItem("node",n)}},doZoom:function(e,t){var n,o=this,a=1;if(t)n=t;else{var i=o.$el,r=i.querySelector("#sketchpad");n={x:r.clientWidth/2,y:r.clientHeight/2}}if("zoom"===e.name)o.editor.zoomTo(e.data,n);else if(["zoomIn","zoomOut"].includes(e.name)){var l=o.editor.getZoom(),d=.1;a="zoomOut"===e.name?l-d:l+d,a=a.toFixed(1),o.editor.zoomTo(a,n)}else"actualSize"===e.name&&(a=1,o.editor.zoomTo(a,n))},doAddNode:function(e){var t=this;console.log("doAddNode",e);var n={id:Qt.Util.uniqueId(),shape:e.shape,label:"",labelCfg:{position:"center",style:{fontSize:14}},width:e.width,height:e.height,anchorPoints:e.anchorPoints,shapeControl:e.shapeControl};t.editor.emit("editor:addNode",n)},handleToolTrigger:function(e){var t=this;switch(e.name){case"copy":t.doCopy();break;case"paste":t.doPaste();break;case"zoom":case"zoomIn":case"zoomOut":case"actualSize":t.doZoom(e);break;case"fit":t.editor.fitView();break;case"preview":t.editor.setMode("preview");break;case"edit":t.editor.setMode("edit");break;case"fill":t.editor.$X.fill=e.data,t.editor.getNodes().forEach(function(n){if(n.hasState("active")){var o=n.getModel(),a=o.style;t.editor.updateItem(n,{style:en({},a,{fill:e.data})})}});break;case"lineColor":t.editor.$X.lineColor=e.data,t.editor.getEdges().forEach(function(n){if(n.hasState("active")){var o=n.getModel(),a=o.style;t.editor.updateItem(n,{style:en({},a,{stroke:e.data})})}}),t.editor.getNodes().forEach(function(n){if(n.hasState("active")){var o=n.getModel(),a=o.style;t.editor.updateItem(n,{style:en({},a,{stroke:e.data})})}});break;case"lineWidth":t.editor.$X.lineWidth=e.data,t.editor.getEdges().forEach(function(n){if(n.hasState("active")){var o=n.getModel(),a=o.style;t.editor.updateItem(n,{style:en({},a,{lineWidth:e.data})})}}),t.editor.getNodes().forEach(function(n){if(n.hasState("active")){var o=n.getModel(),a=o.style;t.editor.updateItem(n,{style:en({},a,{lineWidth:e.data})})}});break;case"lineStyle":var n=t.editor.$C.line;t.editor.$X.lineStyle=e.data,t.editor.getEdges().forEach(function(o){if(o.hasState("active")){var a=o.getModel(),i=a.style;t.editor.updateItem(o,{style:en({},i,{},n.type[e.data])})}}),t.editor.getNodes().forEach(function(o){if(o.hasState("active")){var a=o.getModel(),i=a.style;t.editor.updateItem(o,{style:en({},i,{},n.type[e.data])})}});break;case"lineType":t.editor.$X.lineType=e.data,t.editor.getEdges().forEach(function(n){n.hasState("active")&&t.editor.updateItem(n,{shape:e.data})});break;case"startArrow":case"endArrow":t.editor.$X[e.name]=e.data,t.editor.getEdges().forEach(function(n){if(n.hasState("active")){var o=n.getModel(),a=o.style;t.editor.updateItem(n,{style:en({},a,Object(l["a"])({},e.name,e.data))})}});break;case"clear":console.log("_t.$Modal",t.$Modal),t.$Modal.confirm({title:t.$t("L10200"),content:t.$t("L10201"),onOk:function(){t.editor.clear(),t.editor.paint()}});break;case"toFront":case"toBack":if(e.data.hasOwnProperty("id")&&e.data.id){var o=t.editor.findById(e.data.id);o&&o[e.name]&&(o[e.name](),t.editor.paint())}break;case"fullscreen":Gt.a.enabled&&Gt.a.toggle();break}},initInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;t.editorInfo=en({},t.defInfo,{},e)},ondblclickPad:function(){var e=this;e.$X.utils.bus.$emit("editor/pad/dblclick")}},created:function(){var e=this;e.initInfo(),e.$nextTick(e.init),e.$X.utils.bus.$on("editor/add/node",e.doAddNode),e.$X.utils.bus.$on("editor/tool/trigger",e.handleToolTrigger),e.$X.utils.bus.$on("editor/currentItem/update",function(t){e.editor.emit("editor:setItem",t)})}},nn=tn,on=(n("a631"),Object(m["a"])(nn,i,r,!1,null,"63317461",null)),an=on.exports,rn={name:"App",components:{Editor:an},created:function(){document.oncontextmenu=function(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}}},ln=rn,dn=Object(m["a"])(ln,o,a,!1,null,"6401afae",null);t["a"]=dn.exports},"3f91":function(e,t,n){},"4de4":function(e,t,n){"use strict";n("6762"),n("2fdb"),n("7f7f");var o=n("e069"),a=n("c345"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.type?n("span",{staticClass:"icon iconfont",class:[e.type?"icon-"+e.type:""]}):e._e()},r=[],l={name:"Icon",props:{type:String}},d=l,c=(n("f26a"),n("2877")),s=Object(c["a"])(d,i,r,!1,null,"134c9f88",null),u=s.exports,p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"tooltipBox",class:{"tooltip-box":!0,hover:e.isShow},on:{mouseover:e.handleMouseOver,mouseout:e.handleMouseOut}},[n("div",{ref:"tooltip",staticClass:"tooltip",style:e.tooltipStyle},[e._t("content",[e._v(e._s(e.content))])],2),n("div",{staticClass:"content"},[e._t("default")],2)])},f=[],h=(n("c5f6"),{name:"Tooltip",props:{content:[String,Number]},data:function(){return{isShow:!1,tooltipStyle:{}}},methods:{handleMouseOver:function(){this.isShow=!0},handleMouseOut:function(){this.isShow=!1}},mounted:function(){var e=this,t=e.$refs.tooltip,n=t.clientWidth?t.clientWidth/-2:0;n&&(e.tooltipStyle={"margin-left":n+"px"})}}),m=h,g=(n("b866"),Object(c["a"])(m,p,f,!1,null,"570be5aa",null)),b=g.exports,y={Menu:o["Menu"],MenuItem:o["MenuItem"],Tooltip:o["Tooltip"],Divider:o["Divider"],ColorPicker:o["ColorPicker"],InputNumber:o["InputNumber"],Dropdown:o["Dropdown"],DropdownMenu:o["DropdownMenu"],DropdownItem:o["DropdownItem"],Icon:o["Icon"],Message:o["Message"],Modal:o["Modal"],Input:o["Input"],Form:o["Form"],FormItem:o["FormItem"],Slider:o["Slider"],Select:o["Select"],Option:o["Option"],SketchPicker:a["Sketch"],XIcon:u,XTooltip:b},v={install:function(e,t){for(var n in y)n&&y[n]&&(e.component(n,y[n]),["Message","Modal"].includes(n)&&(e.prototype["$".concat(n)]=y[n]))}};t["a"]=v},"504f":function(e,t,n){"use strict";var o=n("de95"),a=n.n(o);a.a},"56d7":function(e,t,n){"use strict";n.r(t),function(e){n("cadf"),n("551c"),n("f751"),n("097d");var t=n("2b0e"),o=n("3dfd"),a=n("c0d6"),i=n("9225"),r=n("a78e"),l=(n("ddb8"),n("bee9")),d=n("4de4"),c=n("f121"),s=(n("dbaa"),e&&!1);t["default"].config.debug=s,t["default"].config.devtools=s,t["default"].config.productionTip=s,t["default"].config.performance=s,t["default"].prototype.$X={isDev:s,utils:l["a"],config:c["a"],Cookies:r};var u=Object(i["a"])(t["default"],"zh-CN");t["default"].use(d["a"]),new t["default"]({i18n:u,store:a["a"],render:function(e){return e(o["a"])}}).$mount("#app")}.call(this,n("f28c"))},5714:function(e,t,n){},"594e":function(e,t,n){},"7a7b":function(e,t,n){},"7d75":function(e,t,n){},"7f206":function(e,t,n){"use strict";var o=n("b9da"),a=n.n(o);a.a},9225:function(e,t,n){"use strict";n("ac6a"),n("456d");var o=n("a925"),a=(n("8e6e"),n("bd86")),i=n("69c5"),r=n.n(i),l=n("9ef8"),d=n.n(l),c={L10000:"XFC",L10001:"撤消（Ctrl + Z）",L10002:"重做（Ctrl + Shift + Z）",L10003:"复制（Ctrl + C）",L10004:"粘贴（Ctrl + V）",L10005:"清除（Alt + C）",L10006:"放大（Ctrl + +）",L10007:"缩小（Ctrl + -）",L10008:"适应屏幕（Ctrl + 0）",L10009:"实际大小（Ctrl + 1）",L10010:"清除（C）",L10011:"填充颜色",L10012:"线条颜色",L10013:"线条宽度",L10014:"线条样式",L10015:"线条类型",L10016:"起点",L10017:"终点",L10018:"置于顶层",L10019:"置于底层",L10020:"框选",L10021:"添加组",L10022:"解除组",L10023:"编辑",L10024:"预览",L10025:"全屏",L10026:"语言",L10027:"Github",L10028:"反馈",L10029:"缩放",L10100:"基础图形",L10101:"配置器",L10102:"导航器",L10103:"属性",L10104:"样式",L10105:"文本",L10200:"提示",L10201:"确认清空画布？"},s={L10000:"XFC",L10001:"Undo (Ctrl + Z)",L10002:"Redo (Ctrl + Shift + Z)",L10003:"Copy (Ctrl + C)",L10004:"Paste (Ctrl + V)",L10005:"Clear (Alt + C)",L10006:"Zoom in (Ctrl + +)",L10007:"Zoom out (Ctrl + -)",L10008:"Adapt to the screen (Ctrl + 0)",L10009:"Actual size (Ctrl + 1)",L10010:"Clear (C)",L10011:"Fill color",L10012:"Line color",L10013:"Line width",L10014:"Line style",L10015:"Line type",L10016:"Starting point",L10017:"End point",L10018:"Place on top",L10019:"Place on the bottom",L10020:"Box selection",L10021:"Add group",L10022:"Ungroup",L10023:"Edit",L10024:"Preview",L10025:"Full screen",L10026:"Language",L10027:"Github",L10028:"Feedback",L10100:"Basic graphics",L10101:"Configuration",L10102:"Navigator",L10103:"Properties",L10104:"Style",L10105:"Text",L10200:"Hint",L10201:"Are you sure to empty the canvas? "};function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach(function(t){Object(a["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f={label:{"zh-CN":"简体中文","en-US":"English"},icon:{"zh-CN":n("b42e"),"en-US":n("f50d")},data:{"zh-CN":p({},d.a,{},c),"en-US":p({},r.a,{},s)}},h=n("c3fc");t["a"]=function(e,t){var n=e.prototype.$X,a=n.config,i=n.Cookies,r=a.cookie.getItem("locale"),l=i.get(r);if(!t){var d=Object.keys(f.label);t=l||d[0]}e.use(o["a"]),e.locale=function(){},e.prototype.$X.langs=f,e.prototype.$X.locale=t;var c=new o["a"]({locale:t,messages:f.data});return h["a"].i18n(function(e,t){return c.t(e,t)}),e.prototype._i18n=c,c}},"9a15":function(e,t,n){},"9d64":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAC60lEQVRoQ+2ZjW3UQBSEJxUkVJBQQUIFgQqACkgHQAXQAaGCQAUkFXBUAKkgoQIuFYA+a+e0t7J9a7z+ucgrnU621+uZN+/P6wPt+TjYc/xaCEyt4KNT4EzSB0mvprZszfPXklaS3ku69/VYAUB/myHwFBJEXkj6xYWYwB9JR3tAAIiAfxYTeC7pewL+h6SPQbYpeeEZ4DhNQDyRtLYCKYFbScTDXAaegdWPI0C40aqJwGtJ13NBH3C8k/Qpl0Alj6T0prE5kW3wdbCkXtKqgJUhbZ2PjTp5XgV0ITChCosCSwzscL+vIduRaRrz/ZyD2CmbwkmxourSUHrMOgZoV8jvFM2XIeejQtzWjELgIYB40+Auv8P5L8HKFCisDfA7SReSaF8gk3bFoxBwd/g3AMWvAQtAfgCkGAHuRNJhAMt5jiHIv60f92HFCWBtAg6AAHKXSPXmvK0LOOZwjF+7XcdtmAdp329X+lnTRBYjgCVp8uiPGJdBfqyNdfkxsCRu8TQ6hgTnDMae5oCFkEmgTjyKEWBRXucAjtT4K29wn8M/PoxFiQOuQQwVGPZrd7iQjN3E4Ot6r6IE4tc53CMOWh6EOmQTD1SwC8WpMY111iWdOhsNpgALGxQWxGKWHHVQJgaKOpDq09UWVeAmuAMuAihc5KoldQIeq/Z53y5KwLsBBGQczHWbAU0PbuDbeLooAayO6+TsXkCQec71XYF7flEC/wuiz30LgeV9IPEfWhHiom3bhsJHnSFFz86FXHV3xQUV/21fAmm13fXQnOubfc0dk1GIekPWo5p32hdiM6na/Q035gDrMoe1aR/aBoAB7q30TgTctHUBNfRcu9RWfWjaG93agx8aWcb6dbvnW1uL7uHTtWCN3JsvIhkPKzkFXIB3Wx6vXRk//sDRp2MsCTpnLXe5WwRgS+SnHxJyFhxzDmmYOlElgbqvlDRhpC4IzWngyvxI7Zvx6D6zzsniWVgWBbLMNOCkvVfgH7OlE0ARK89dAAAAAElFTkSuQmCC"},a187:function(e,t,n){"use strict";var o=n("e505"),a=n.n(o);a.a},a631:function(e,t,n){"use strict";var o=n("d159"),a=n.n(o);a.a},b42e:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAUCAMAAACtdX32AAAAElBMVEXWTCTVRSXcYR/gchrokhL3zAVCW9qcAAAAWElEQVQoz62QCwrAIAxDmzS9/5WnwmDDRfYrCOJLHmrEPwMsMek42LqZDlPqAZm+qoTuMO6qaEUGrjHGzZ18nDJXTwMTr74F08ZHnsKjG3Fe9+xzDB8S+2y66AB9oQlI7gAAAABJRU5ErkJggg=="},b866:function(e,t,n){"use strict";var o=n("9a15"),a=n.n(o);a.a},b9da:function(e,t,n){},bd24:function(e,t,n){"use strict";var o=n("3f91"),a=n.n(o);a.a},bee9:function(e,t,n){"use strict";var o=n("2b0e"),a=new o["default"],i=a,r=(n("3b2b"),n("a481"),{formatDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD hh:mm";e instanceof Date||(e=new Date(e));var n=function(e){return("00"+e).substr(e.length)},o=function(e,t){/(Y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));var o={"M+":e.getMonth()+1,"D+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(var a in o)if(new RegExp("(".concat(a,")")).test(t)){var i=o[a]+"";t=t.replace(RegExp.$1,1===RegExp.$1.length?i:n(i))}return t};return o(e,t)}}),l={sortByNumber:function(e,t,n){return"desc"===n?parseInt(e)<parseInt(t)?1:-1:parseInt(e)>parseInt(t)?1:-1}},d=(n("34ef"),n("28a5"),{base642Blob:function(e){for(var t=e.split(";base64,"),n=t[0].split(":")[1],o=window.atob(t[1]),a=o.length,i=new Uint8Array(a),r=0;r<a;r++)i[r]=o.charCodeAt(r);return new Blob([i],{type:n})},downloadFile:function(e,t){var n=this.base642Blob(t),o=URL.createObjectURL(n),a=document.createElement("a");a.textContent="download image",a.href=o,a.download=e,a.click(),URL.revokeObjectURL(o)}});t["a"]={bus:i,filters:r,sort:l,file:d}},c0d6:function(e,t,n){"use strict";var o=n("2b0e"),a=n("2f62");o["default"].use(a["a"]),t["a"]=new a["a"].Store({state:{editor:{currentItem:{id:null,type:null,model:null},clipboard:null,history:[]}},mutations:{"editor/currentItem/update":function(e,t){e.editor.currentItem=t}},actions:{},getters:{currentItem:function(e){return e.editor.currentItem}}})},c604:function(e,t,n){"use strict";var o=n("224c"),a=n.n(o);a.a},c89a:function(e,t,n){},ccee:function(e,t,n){"use strict";var o=n("d147"),a=n.n(o);a.a},d147:function(e,t,n){},d159:function(e,t,n){},d48d:function(e,t,n){"use strict";var o=n("c89a"),a=n.n(o);a.a},dbaa:function(e,t,n){},ddb8:function(e,t,n){"use strict";var o=n("9483");Object(o["a"])("".concat("/X-Flowchart-Vue/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}})},de95:function(e,t,n){},e505:function(e,t,n){},e5e0:function(e,t,n){"use strict";var o=n("7a7b"),a=n.n(o);a.a},f121:function(e,t,n){"use strict";var o={version:"3.0.0",name:"XFC",title:"XFC",subtitle:"XFC",minTitle:"XFC",logo:n("9d64"),github:"https://github.com/OXOYO/X-Flowchart-Vue",githubPages:"http://oxoyo.co/X-Flowchart-Vue/",feedback:"https://github.com/OXOYO/X-Flowchart-Vue/issues/new",copyright:"© 2019 OXOYO All Rights Reserved."},a={prefix:"x-board-",path:"/",items:{account:"a",token:"t",locale:"l"},unless:["locale"],getItem:function(e){return e?this.prefix+this.items[e]:""}};t["a"]={system:o,cookie:a}},f26a:function(e,t,n){"use strict";var o=n("594e"),a=n.n(o);a.a},f50d:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAUCAMAAACtdX32AAAAPFBMVEUtQGbakJrIWmnNZXP///+xEijdmaK6L0IlOmCuCiDXiJMaL1dFU3TNaHa+O031///dmaPANEa3UWOmHTOgdo66AAAAdklEQVQoz4XP2Q6AIAxE0RFQ0HGJ/v/HyiJRqaknJDw03CpAhGoUEJClK0wCmJ6hFDbXut6VgN/9/pZW51lM8LCmgTgvZXD+iLN0036uQh7Vjz+MiBO3r3hcy5B/j8ba5mB+8AKcCosKXvUX71ToVX/xQYVRdQIA1g5aJxB67QAAAABJRU5ErkJggg=="}});